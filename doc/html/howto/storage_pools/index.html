<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="How to manage storage pools" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://linuxcontainers.org/lxd/docs/stable-5.0/howto/storage_pools/" />
<meta property="og:site_name" content="LXD documentation" />
<meta property="og:description" content="See the following sections for instructions on how to create, configure, view and resize Storage pools. Create a storage pool: LXD creates a storage pool during initialization. You can add more sto..." />
<meta property="og:image" content="https://linuxcontainers.org/static/img/containers.png" />
<meta property="og:image:alt" content="LXD documentation" />
<meta name="description" content="See the following sections for instructions on how to create, configure, view and resize Storage pools. Create a storage pool: LXD creates a storage pool during initialization. You can add more sto..." />
<link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" /><link rel="next" title="How to create an instance in a specific storage pool" href="../storage_create_instance/" /><link rel="prev" title="About storage pools and storage volumes" href="../../explanation/storage/" />

    <link rel="shortcut icon" href="../../_static/favicon.ico"/><!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>How to manage storage pools - LXD documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../../_static/youtube.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/related-links.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: Ubuntu, -apple-system, Segoe UI, Roboto, Oxygen, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
  --font-stack--monospace: Ubuntu Mono, Consolas, Monaco, Courier, monospace;
  --color-foreground-primary: #111;
  --color-foreground-secondary: var(--color-foreground-primary);
  --color-foreground-muted: #333;
  --color-background-secondary: #FFF;
  --color-background-hover: #f2f2f2;
  --color-brand-primary: #111;
  --color-brand-content: #06C;
  --color-api-background: #cdcdcd;
  --color-inline-code-background: rgba(0,0,0,.03);
  --color-sidebar-link-text: #111;
  --color-sidebar-item-background--current: #ebebeb;
  --color-sidebar-item-background--hover: #f2f2f2;
  --toc-font-size: var(--font-size--small);
  --color-admonition-title-background--note: var(--color-background-primary);
  --color-admonition-title-background--tip: var(--color-background-primary);
  --color-admonition-title-background--important: var(--color-background-primary);
  --color-admonition-title-background--caution: var(--color-background-primary);
  --color-admonition-title--note: #24598F;
  --color-admonition-title--tip: #24598F;
  --color-admonition-title--important: #C7162B;
  --color-admonition-title--caution: #F99B11;
  --color-highlighted-background: #EbEbEb;
  --color-link-underline: var(--color-background-primary);
  --color-link-underline--hover: var(--color-background-primary);
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-foreground-secondary: var(--color-foreground-primary);
  --color-foreground-muted: #CDCDCD;
  --color-background-secondary: var(--color-background-primary);
  --color-background-hover: #666;
  --color-brand-primary: #fff;
  --color-brand-content: #06C;
  --color-sidebar-link-text: #f7f7f7;
  --color-sidebar-item-background--current: #666;
  --color-sidebar-item-background--hover: #333;
  --color-admonition-background: transparent;
  --color-admonition-title-background--note: var(--color-background-primary);
  --color-admonition-title-background--tip: var(--color-background-primary);
  --color-admonition-title-background--important: var(--color-background-primary);
  --color-admonition-title-background--caution: var(--color-background-primary);
  --color-admonition-title--note: #24598F;
  --color-admonition-title--tip: #24598F;
  --color-admonition-title--important: #C7162B;
  --color-admonition-title--caution: #F99B11;
  --color-highlighted-background: #666;
  --color-link-underline: var(--color-background-primary);
  --color-link-underline--hover: var(--color-background-primary);
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-foreground-secondary: var(--color-foreground-primary);
  --color-foreground-muted: #CDCDCD;
  --color-background-secondary: var(--color-background-primary);
  --color-background-hover: #666;
  --color-brand-primary: #fff;
  --color-brand-content: #06C;
  --color-sidebar-link-text: #f7f7f7;
  --color-sidebar-item-background--current: #666;
  --color-sidebar-item-background--hover: #333;
  --color-admonition-background: transparent;
  --color-admonition-title-background--note: var(--color-background-primary);
  --color-admonition-title-background--tip: var(--color-background-primary);
  --color-admonition-title-background--important: var(--color-background-primary);
  --color-admonition-title-background--caution: var(--color-background-primary);
  --color-admonition-title--note: #24598F;
  --color-admonition-title--tip: #24598F;
  --color-admonition-title--important: #C7162B;
  --color-admonition-title--caution: #F99B11;
  --color-highlighted-background: #666;
  --color-link-underline: var(--color-background-primary);
  --color-link-underline--hover: var(--color-background-primary);
  
      }
    }
  }
</style></head>
  <body>
    <header id="header" class="p-navigation">

  <style>
    .p-navigation {
      border-bottom: 1px solid var(--color-sidebar-background-border);
    }

    .p-navigation__nav {
      display: flex;
    }

    ul.p-navigation__links {
      display: flex;
      list-style: none;
      margin-left: 0;
      margin-top: auto;
      margin-bottom: auto;
      max-width: 800px;
      width: 100%;
    }

    ul.p-navigation__links li {
      margin: 0 auto;
      text-align: center;
      width: 100%;
    }

    ul.p-navigation__links li a {
      background-color: rgba(0, 0, 0, 0);
      border: none;
      border-radius: 0;
      color: var(--color-sidebar-link-text);
      display: block;
      font-weight: 400;
      line-height: 1.5rem;
      margin: 0;
      overflow: hidden;
      padding: 1rem 0;
      position: relative;
      text-align: left;
      text-overflow: ellipsis;
      transition-duration: .1s;
      transition-property: background-color, color, opacity;
      transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
      white-space: nowrap;
      width: 100%;
    }

    ul.p-navigation__links .p-navigation__link,
    ul.p-navigation__links .p-navigation__logo {
      text-align: center;
    }

    ul.p-navigation__links .p-navigation__link:hover,
    ul.p-navigation__links .p-dropdown__link:hover {
      background-color: var(--color-sidebar-item-background--hover);
    }

    ul.p-navigation__links .p-navigation__sub-link {
      background: var(--color-background-primary);
      padding: .5rem 0 .5rem .5rem;
      font-weight: 300;
    }

    ul.p-navigation__links .more-links-dropdown li a {
      border-left: 1px solid var(--color-sidebar-background-border);
      border-right: 1px solid var(--color-sidebar-background-border);
    }

    ul.p-navigation__links .more-links-dropdown li:first-child a {
      border-top: 1px solid var(--color-sidebar-background-border);
    }

    ul.p-navigation__links .more-links-dropdown li:last-child a {
      border-bottom: 1px solid var(--color-sidebar-background-border);
    }

    ul.p-navigation__links .p-navigation__logo {
      padding: 0.5rem;
    }

    ul.p-navigation__links .p-navigation__logo img {
      width: 40px;
    }

    ul.more-links-dropdown {
      display: none;
      overflow-x: visible;
      height: 0;
      z-index: 55;
      padding: 0;
      position: relative;
      list-style: none;
      margin-bottom: 0;
      margin-top: 0;
    }

    ul.p-navigation__links li:first-child {
      width: 130px;
    }

    @media only screen and (min-width: 800px) {
      .nav-more-links::after {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Cpath fill='%23111' d='M8.187 11.748l6.187-6.187-1.06-1.061-5.127 5.127L3.061 4.5 2 5.561z'/%3E%3C/svg%3E");
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
        content: "";
        display: block;
        height: 1rem;
        pointer-events: none;
        position: absolute;
        right: 1rem;
        text-indent: calc(100% + 10rem);
        top: calc(1rem + 0.25rem);
        width: 1rem;
      }

      body[data-theme=dark] .nav-more-links::after {
        background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16'><path stroke='white' fill='white' d='M8.187 11.748l6.187-6.187-1.06-1.061-5.127 5.127L3.061 4.5 2 5.561z'/></svg>");
      }

      ul.p-navigation__links li:first-child {
        width: 100%;
      }
    }

    @media only screen and (min-width: 1310px) {
      ul.p-navigation__links {
        margin-left: calc(50% - 41em);
      }
    }

  </style>

  <div class="p-navigation__nav" role="menubar">

    <ul class="p-navigation__links" role="menu">

      <li>
        <a class="p-navigation__logo" href="/">
          <img src="../../_static/download/containers.small.png" alt="Linux containers logo" border="0" />
        </a>
      </li>

      <li>
        <a href="/" class="p-navigation__link">Home</a>
      </li>

      <li>
        <a href="/lxd/try-it/" class="p-navigation__link">Demo</a>
      </li>


      <li>
        <a href="#" class="p-navigation__link nav-more-links">More resources</a>
        <ul class="more-links-dropdown">
          <li>
            <a href="/lxd/introduction/" class="p-navigation__sub-link p-dropdown__link">Introduction</a>
          </li>

          <li>
            <a href="/lxd/news/" class="p-navigation__sub-link p-dropdown__link">News</a>
          </li>

          <li>
            <a href="/lxd/getting-started-cli/" class="p-navigation__sub-link is-selected p-dropdown__link">Getting started</a>
          </li>

          <li>
            <a href="/lxd/third-party-integrations/" class="p-navigation__sub-link p-dropdown__link">Third-party integrations</a>
          </li>

          <li>
            <a href="/lxd/advanced-guide/" class="p-navigation__sub-link p-dropdown__link">Advanced guide</a>
          </li>

          <li>
            <a href="https://discuss.linuxcontainers.org" class="p-navigation__sub-link p-dropdown__link">Forum</a>
          </li>

          <li>
            <a href="https://github.com/lxc/lxd" class="p-navigation__sub-link p-dropdown__link">GitHub</a>
          </li>

        </ul>
      </li>

    </ul>
  </div>
</header>
   
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../"><div class="brand">LXD  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="version_dropdown">
  Doc version: <button onclick="dropdown()" class="version_select" id="current"></button>
  <div id="all-versions" class="available_versions"></div>
</div><form class="sidebar-search-container" method="get" action="../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../">LXD</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../requirements/">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installing/">Install LXD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialize/">Initialize LXD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/">Frequently asked</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../support/">Support</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../security/">Security</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/security/">About security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../authentication/">Remote API authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../server_expose/">Expose LXD to the network</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../instances/">Instances</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/instances/">About instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instances_create/">Create instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instances_manage/">Manage instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instances_configure/">Configure instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instances_snapshots/">Create snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../profiles/">Use profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../instance-exec/">Run commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instances_console/">Access the console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instances_access_files/">Access files</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../explanation/instance_config/">Instance configuration</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/instance_properties/">Instance properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/instance_options/">Instance options</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/devices/">Devices</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/standard_devices/">Standard devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_none/">Type: <code class="docutils literal notranslate"><span class="pre">none</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_nic/">Type: <code class="docutils literal notranslate"><span class="pre">nic</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_disk/">Type: <code class="docutils literal notranslate"><span class="pre">disk</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_unix_char/">Type: <code class="docutils literal notranslate"><span class="pre">unix-char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_unix_block/">Type: <code class="docutils literal notranslate"><span class="pre">unix-block</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_usb/">Type: <code class="docutils literal notranslate"><span class="pre">usb</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_gpu/">Type: <code class="docutils literal notranslate"><span class="pre">gpu</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_infiniband/">Type: <code class="docutils literal notranslate"><span class="pre">infiniband</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_proxy/">Type: <code class="docutils literal notranslate"><span class="pre">proxy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_unix_hotplug/">Type: <code class="docutils literal notranslate"><span class="pre">unix-hotplug</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_tpm/">Type: <code class="docutils literal notranslate"><span class="pre">tpm</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/devices_pci/">Type: <code class="docutils literal notranslate"><span class="pre">pci</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/instance_units/">Units for storage and network limits</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../images/">Images</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architectures/">Architectures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloud-init/">Cloud-init</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../image-handling/">Handling</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../storage/">Storage</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../explanation/storage/">About storage</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Manage pools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage_create_instance/">Create an instance in a pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage_volumes/">Manage volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage_move_volume/">Move or copy a volume</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage_backup_volume/">Back up a volume</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/storage_drivers/">Storage drivers</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/storage_dir/">Directory - <code class="docutils literal notranslate"><span class="pre">dir</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/storage_btrfs/">Btrfs - <code class="docutils literal notranslate"><span class="pre">btrfs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/storage_lvm/">LVM - <code class="docutils literal notranslate"><span class="pre">lvm</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/storage_zfs/">ZFS - <code class="docutils literal notranslate"><span class="pre">zfs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/storage_ceph/">Ceph RBD - <code class="docutils literal notranslate"><span class="pre">ceph</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/storage_cephfs/">CephFS - <code class="docutils literal notranslate"><span class="pre">cephfs</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../networks/">Networking</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/networks/">About networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network_create/">Create and configure a network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network_acls/">Configure network ACLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network_forwards/">Configure network forwards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network_zones/">Configure network zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network_bgp/">Configure LXD as BGP server</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/network_bridge/">Bridge network</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../network_bridge_resolved/">Integrate with resolved</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network_bridge_firewalld/">Configure your firewall</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/network_ovn/">OVN network</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../network_ovn_setup/">Set up OVN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network_ovn_peers/">Create routing relationships</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/network_external/">External networks</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/network_macvlan/">Macvlan network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/network_sriov/">SR-IOV network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/network_physical/">Physical network</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../clustering/">Clustering</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/clustering/">About clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cluster_form/">Form a cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cluster_manage/">Manage a cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cluster_recover/">Recover a cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cluster_manage_instance/">Manage instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cluster_config_storage/">Configure storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cluster_config_networks/">Configure networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cluster_groups/">Set up cluster groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/cluster_member_config/">Cluster member configuration</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../operation/">Manage LXD</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../server/">Server configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../projects/">Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../remotes/">Remotes</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../explanation/performance_tuning/">Performance tuning</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../benchmark_performance/">Benchmark performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network_increase_bandwidth/">Increase bandwidth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/server_settings/">Server settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../backup/">Backups</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../migration/">Migration</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../move_instances/">Move instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../import_machines_to_instances/">Import existing machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../migrate_from_lxc/">Migrate from LXC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../restapi_landing/">REST API</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rest-api/">Main API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/">Main API specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api-extensions/">Main API extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dev-lxd/">Instance API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../events/">Events API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../metrics/">Metrics API documentation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../internals/">Internals &amp; debugging</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../container-environment/">Container environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daemon-behavior/">Daemon behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../database/">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment/">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../syscall-interception/">System call interception</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../userns-idmap/">User namespace setup</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../external_resources/">External resources</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://github.com/lxc/lxd">Project repository</a></li>
<li class="toctree-l2"><a class="reference external" href="https://images.linuxcontainers.org">Image server</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="how-to-manage-storage-pools">
<span id="howto-storage-pools"></span><h1>How to manage storage pools<a class="headerlink" href="#how-to-manage-storage-pools" title="Permalink to this heading">#</a></h1>
<p>See the following sections for instructions on how to create, configure, view and resize <a class="reference internal" href="../../explanation/storage/#storage-pools"><span class="std std-ref">Storage pools</span></a>.</p>
<section id="create-a-storage-pool">
<span id="storage-create-pool"></span><h2>Create a storage pool<a class="headerlink" href="#create-a-storage-pool" title="Permalink to this heading">#</a></h2>
<p>LXD creates a storage pool during initialization.
You can add more storage pools later, using the same driver or different drivers.</p>
<p>To create a storage pool, use the following command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create &lt;pool_name&gt; &lt;driver&gt; [configuration_options...]
</pre></div>
</div>
<p>Unless specified otherwise, LXD sets up loop-based storage with a sensible default size (20% of the free disk space, but at least 5 GiB and at most 30 GiB).</p>
<p>See the <a class="reference internal" href="../../reference/storage_drivers/#storage-drivers"><span class="std std-ref">Storage drivers</span></a> documentation for a list of available configuration options for each driver.</p>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h3>
<p>See the following examples for how to create a storage pool using different storage drivers.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-RGlyZWN0b3J5" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-RGlyZWN0b3J5" name="RGlyZWN0b3J5" role="tab" tabindex="0">Directory</button><button aria-controls="panel-0-QnRyZnM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-QnRyZnM=" name="QnRyZnM=" role="tab" tabindex="-1">Btrfs</button><button aria-controls="panel-0-TFZN" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-TFZN" name="TFZN" role="tab" tabindex="-1">LVM</button><button aria-controls="panel-0-WkZT" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-WkZT" name="WkZT" role="tab" tabindex="-1">ZFS</button><button aria-controls="panel-0-Q2VwaCBSQkQ=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q2VwaCBSQkQ=" name="Q2VwaCBSQkQ=" role="tab" tabindex="-1">Ceph RBD</button><button aria-controls="panel-0-Q2VwaEZT" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q2VwaEZT" name="Q2VwaEZT" role="tab" tabindex="-1">CephFS</button></div><div aria-labelledby="tab-0-RGlyZWN0b3J5" class="sphinx-tabs-panel group-tab" id="panel-0-RGlyZWN0b3J5" name="RGlyZWN0b3J5" role="tabpanel" tabindex="0"><p>Create a directory pool named <code class="docutils literal notranslate"><span class="pre">pool1</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool1 dir
</pre></div>
</div>
<p>Use the existing directory <code class="docutils literal notranslate"><span class="pre">/data/lxd</span></code> for <code class="docutils literal notranslate"><span class="pre">pool2</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool2 dir source=/data/lxd
</pre></div>
</div>
</div><div aria-labelledby="tab-0-QnRyZnM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-QnRyZnM=" name="QnRyZnM=" role="tabpanel" tabindex="0"><p>Create a loop-backed pool named <code class="docutils literal notranslate"><span class="pre">pool1</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool1 btrfs
</pre></div>
</div>
<p>Use the existing Btrfs file system at <code class="docutils literal notranslate"><span class="pre">/some/path</span></code> for <code class="docutils literal notranslate"><span class="pre">pool2</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool2 btrfs source=/some/path
</pre></div>
</div>
<p>Create a pool named <code class="docutils literal notranslate"><span class="pre">pool3</span></code> on <code class="docutils literal notranslate"><span class="pre">/dev/sdX</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool3 btrfs source=/dev/sdX
</pre></div>
</div>
</div><div aria-labelledby="tab-0-TFZN" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-TFZN" name="TFZN" role="tabpanel" tabindex="0"><p>Create a loop-backed pool named <code class="docutils literal notranslate"><span class="pre">pool1</span></code> (the LVM volume group will also be called <code class="docutils literal notranslate"><span class="pre">pool1</span></code>):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool1 lvm
</pre></div>
</div>
<p>Use the existing LVM volume group called <code class="docutils literal notranslate"><span class="pre">my-pool</span></code> for <code class="docutils literal notranslate"><span class="pre">pool2</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool2 lvm source=my-pool
</pre></div>
</div>
<p>Use the existing LVM thin pool called <code class="docutils literal notranslate"><span class="pre">my-pool</span></code> in volume group <code class="docutils literal notranslate"><span class="pre">my-vg</span></code> for <code class="docutils literal notranslate"><span class="pre">pool3</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool3 lvm source=my-vg lvm.thinpool_name=my-pool
</pre></div>
</div>
<p>Create a pool named <code class="docutils literal notranslate"><span class="pre">pool4</span></code> on <code class="docutils literal notranslate"><span class="pre">/dev/sdX</span></code> (the LVM volume group will also be called <code class="docutils literal notranslate"><span class="pre">pool4</span></code>):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool4 lvm source=/dev/sdX
</pre></div>
</div>
<p>Create a pool named <code class="docutils literal notranslate"><span class="pre">pool5</span></code> on <code class="docutils literal notranslate"><span class="pre">/dev/sdX</span></code> with the LVM volume group name <code class="docutils literal notranslate"><span class="pre">my-pool</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool5 lvm source=/dev/sdX lvm.vg_name=my-pool
</pre></div>
</div>
</div><div aria-labelledby="tab-0-WkZT" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-WkZT" name="WkZT" role="tabpanel" tabindex="0"><p>Create a loop-backed pool named <code class="docutils literal notranslate"><span class="pre">pool1</span></code> (the ZFS zpool will also be called <code class="docutils literal notranslate"><span class="pre">pool1</span></code>):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool1 zfs
</pre></div>
</div>
<p>Create a loop-backed pool named <code class="docutils literal notranslate"><span class="pre">pool2</span></code> with the ZFS zpool name <code class="docutils literal notranslate"><span class="pre">my-tank</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool2 zfs zfs.pool_name=my-tank
</pre></div>
</div>
<p>Use the existing ZFS zpool <code class="docutils literal notranslate"><span class="pre">my-tank</span></code> for <code class="docutils literal notranslate"><span class="pre">pool3</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool3 zfs source=my-tank
</pre></div>
</div>
<p>Use the existing ZFS dataset <code class="docutils literal notranslate"><span class="pre">my-tank/slice</span></code> for <code class="docutils literal notranslate"><span class="pre">pool4</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool4 zfs source=my-tank/slice
</pre></div>
</div>
<p>Create a pool named <code class="docutils literal notranslate"><span class="pre">pool5</span></code> on <code class="docutils literal notranslate"><span class="pre">/dev/sdX</span></code> (the ZFS zpool will also be called <code class="docutils literal notranslate"><span class="pre">pool5</span></code>):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool5 zfs source=/dev/sdX
</pre></div>
</div>
<p>Create a pool named <code class="docutils literal notranslate"><span class="pre">pool6</span></code> on <code class="docutils literal notranslate"><span class="pre">/dev/sdX</span></code> with the ZFS zpool name <code class="docutils literal notranslate"><span class="pre">my-tank</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool6 zfs source=/dev/sdX zfs.pool_name=my-tank
</pre></div>
</div>
</div><div aria-labelledby="tab-0-Q2VwaCBSQkQ=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q2VwaCBSQkQ=" name="Q2VwaCBSQkQ=" role="tabpanel" tabindex="0"><p>Create an OSD storage pool named <code class="docutils literal notranslate"><span class="pre">pool1</span></code> in the default Ceph cluster (named <code class="docutils literal notranslate"><span class="pre">ceph</span></code>):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool1 ceph
</pre></div>
</div>
<p>Create an OSD storage pool named <code class="docutils literal notranslate"><span class="pre">pool2</span></code> in the Ceph cluster <code class="docutils literal notranslate"><span class="pre">my-cluster</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool2 ceph ceph.cluster_name=my-cluster
</pre></div>
</div>
<p>Create an OSD storage pool named <code class="docutils literal notranslate"><span class="pre">pool3</span></code> with the on-disk name <code class="docutils literal notranslate"><span class="pre">my-osd</span></code> in the default Ceph cluster:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool3 ceph ceph.osd.pool_name=my-osd
</pre></div>
</div>
<p>Use the existing OSD storage pool <code class="docutils literal notranslate"><span class="pre">my-already-existing-osd</span></code> for <code class="docutils literal notranslate"><span class="pre">pool4</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool4 ceph source=my-already-existing-osd
</pre></div>
</div>
<p>Use the existing OSD erasure-coded pool <code class="docutils literal notranslate"><span class="pre">ecpool</span></code> and the OSD replicated pool <code class="docutils literal notranslate"><span class="pre">rpl-pool</span></code> for <code class="docutils literal notranslate"><span class="pre">pool5</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool5 ceph source=rpl-pool ceph.osd.data_pool_name=ecpool
</pre></div>
</div>
</div><div aria-labelledby="tab-0-Q2VwaEZT" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q2VwaEZT" name="Q2VwaEZT" role="tabpanel" tabindex="0"><div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the CephFS driver, you must create a CephFS file system beforehand.
This file system consists of two OSD storage pools, one for the actual data and one for the file metadata.</p>
</div>
<p>Use the existing CephFS file system <code class="docutils literal notranslate"><span class="pre">my-filesystem</span></code> for <code class="docutils literal notranslate"><span class="pre">pool1</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool1 cephfs source=my-filesystem
</pre></div>
</div>
<p>Use the sub-directory <code class="docutils literal notranslate"><span class="pre">my-directory</span></code> from the <code class="docutils literal notranslate"><span class="pre">my-filesystem</span></code> file system for <code class="docutils literal notranslate"><span class="pre">pool2</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create pool2 cephfs source=my-filesystem/my-directory
</pre></div>
</div>
</div></div>
</section>
<section id="create-a-storage-pool-in-a-cluster">
<span id="storage-pools-cluster"></span><h3>Create a storage pool in a cluster<a class="headerlink" href="#create-a-storage-pool-in-a-cluster" title="Permalink to this heading">#</a></h3>
<p>If you are running a LXD cluster and want to add a storage pool, you must create the storage pool for each cluster member separately.
The reason for this is that the configuration, for example, the storage location or the size of the pool, might be different between cluster members.</p>
<p>Therefore, you must first create a pending storage pool on each member with the <code class="docutils literal notranslate"><span class="pre">--target=&lt;cluster_member&gt;</span></code> flag and the appropriate configuration for the member.
Make sure to use the same storage pool name for all members.
Then create the storage pool without specifying the <code class="docutils literal notranslate"><span class="pre">--target</span></code> flag to actually set it up.</p>
<p>For example, the following series of commands sets up a storage pool with the name <code class="docutils literal notranslate"><span class="pre">my-pool</span></code> at different locations and with different sizes on three cluster members:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage create my-pool zfs source=/dev/sdX size=10GB --target=vm01
lxc storage create my-pool zfs source=/dev/sdX size=15GB --target=vm02
lxc storage create my-pool zfs source=/dev/sdY size=10GB --target=vm03
lxc storage create my-pool zfs
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For most storage drivers, the storage pools exist locally on each cluster member.
That means that if you create a storage volume in a storage pool on one member, it will not be available on other cluster members.</p>
<p>This behavior is different for Ceph-based storage pools (<code class="docutils literal notranslate"><span class="pre">ceph</span></code> and <code class="docutils literal notranslate"><span class="pre">cephfs</span></code>) where each storage pool exists in one central location and therefore, all cluster members access the same storage pool with the same storage volumes.</p>
</div>
</section>
</section>
<section id="configure-storage-pool-settings">
<h2>Configure storage pool settings<a class="headerlink" href="#configure-storage-pool-settings" title="Permalink to this heading">#</a></h2>
<p>See the <a class="reference internal" href="../../reference/storage_drivers/#storage-drivers"><span class="std std-ref">Storage drivers</span></a> documentation for the available configuration options for each storage driver.</p>
<p>General keys for a storage pool (like <code class="docutils literal notranslate"><span class="pre">source</span></code>) are top-level.
Driver-specific keys are namespaced by the driver name.</p>
<p>Use the following command to set configuration options for a storage pool:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage set &lt;pool_name&gt; &lt;key&gt; &lt;value&gt;
</pre></div>
</div>
<p>For example, to turn off compression during storage pool migration for a <code class="docutils literal notranslate"><span class="pre">dir</span></code> storage pool, use the following command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage set my-dir-pool rsync.compression false
</pre></div>
</div>
<p>You can also edit the storage pool configuration by using the following command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage edit &lt;pool_name&gt;
</pre></div>
</div>
</section>
<section id="view-storage-pools">
<h2>View storage pools<a class="headerlink" href="#view-storage-pools" title="Permalink to this heading">#</a></h2>
<p>You can display a list of all available storage pools and check their configuration.</p>
<p>Use the following command to list all available storage pools:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage list
</pre></div>
</div>
<p>The resulting table contains the storage pool that you created during initialization (usually called <code class="docutils literal notranslate"><span class="pre">default</span></code> or <code class="docutils literal notranslate"><span class="pre">local</span></code>) and any storage pools that you added.</p>
<p>To show detailed information about a specific pool, use the following command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lxc storage show &lt;pool_name&gt;
</pre></div>
</div>
</section>
<section id="resize-a-storage-pool">
<span id="storage-resize-pool"></span><h2>Resize a storage pool<a class="headerlink" href="#resize-a-storage-pool" title="Permalink to this heading">#</a></h2>
<p>If you need more storage, you can increase the size of your storage pool.</p>
<p>To increase the size of a storage pool, follow these general steps:</p>
<ol class="arabic simple">
<li><p>Grow the size of the storage on disk.</p></li>
<li><p>Let the file system know of the size change.</p></li>
</ol>
<p>See the specific commands for different storage drivers below.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-QnRyZnM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-QnRyZnM=" name="QnRyZnM=" role="tab" tabindex="0">Btrfs</button><button aria-controls="panel-1-TFZN" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-TFZN" name="TFZN" role="tab" tabindex="-1">LVM</button><button aria-controls="panel-1-WkZT" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-WkZT" name="WkZT" role="tab" tabindex="-1">ZFS</button></div><div aria-labelledby="tab-1-QnRyZnM=" class="sphinx-tabs-panel group-tab" id="panel-1-QnRyZnM=" name="QnRyZnM=" role="tabpanel" tabindex="0"><p>Enter the following commands to grow a loop-backed Btrfs pool by 5 Gigabytes:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo truncate -s +5G &lt;LXD_lib_dir&gt;/disks/&lt;pool_name&gt;.img
sudo losetup -c &lt;loop_device&gt;
sudo btrfs filesystem resize max &lt;LXD_lib_dir&gt;/storage-pools/&lt;pool_name&gt;/
</pre></div>
</div>
<p>Replace the following variables:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;LXD_lib_dir&gt;</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">/var/snap/lxd/common/mntns/var/snap/lxd/common/lxd/</span></code> if you are using the snap, or <code class="docutils literal notranslate"><span class="pre">/var/lib/lxd/</span></code> otherwise.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;pool_name&gt;</span></code></dt><dd><p>The name of your storage pool (for example, <code class="docutils literal notranslate"><span class="pre">my-pool</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;loop_device&gt;</span></code></dt><dd><p>The mounted loop device that is associated with the storage pool image (for example, <code class="docutils literal notranslate"><span class="pre">/dev/loop8</span></code>).
To find your loop device, enter <code class="docutils literal notranslate"><span class="pre">losetup</span> <span class="pre">-j</span> <span class="pre">&lt;LXD_lib_dir&gt;/disks/&lt;pool_name&gt;.img</span></code>.
You can also use <code class="docutils literal notranslate"><span class="pre">losetup</span> <span class="pre">-l</span></code> to list all mounted loop devices.</p>
</dd>
</dl>
</div><div aria-labelledby="tab-1-TFZN" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-TFZN" name="TFZN" role="tabpanel" tabindex="0"><p>Enter the following commands to grow a loop-backed LVM pool by 5 Gigabytes:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo truncate -s +5G &lt;LXD_lib_dir&gt;/disks/&lt;pool_name&gt;.img
sudo losetup -c &lt;loop_device&gt;
sudo pvresize &lt;loop_device&gt;
</pre></div>
</div>
<p>For LVM thin pools, you must then expand the <code class="docutils literal notranslate"><span class="pre">LXDThinPool</span></code> logical volume in your pool (skip this step if you are not using a thin pool):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo lvextend &lt;pool_name&gt;/LXDThinPool -l+100%FREE
</pre></div>
</div>
<p>Replace the following variables:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;LXD_lib_dir&gt;</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">/var/snap/lxd/common/lxd/</span></code> if you are using the snap, or <code class="docutils literal notranslate"><span class="pre">/var/lib/lxd/</span></code> otherwise.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;pool_name&gt;</span></code></dt><dd><p>The name of your storage pool (for example, <code class="docutils literal notranslate"><span class="pre">my-pool</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;loop_device&gt;</span></code></dt><dd><p>The mounted loop device that is associated with the storage pool image (for example, <code class="docutils literal notranslate"><span class="pre">/dev/loop8</span></code>).
To find your loop device, enter <code class="docutils literal notranslate"><span class="pre">losetup</span> <span class="pre">-j</span> <span class="pre">&lt;LXD_lib_dir&gt;/disks/&lt;pool_name&gt;.img</span></code>.
You can also use <code class="docutils literal notranslate"><span class="pre">losetup</span> <span class="pre">-l</span></code> to list all mounted loop devices.</p>
</dd>
</dl>
<p>You can check that the pool was resized as expected with the following commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo pvs &lt;loop_device&gt; # Check the size of the physical volume
sudo vgs &lt;pool_name&gt; # Check the size of the volume group
sudo lvs &lt;pool_name&gt;/LXDThinPool # Thin pool only: check the size of the thin-pool logical volume
</pre></div>
</div>
</div><div aria-labelledby="tab-1-WkZT" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-WkZT" name="WkZT" role="tabpanel" tabindex="0"><p>Enter the following commands to grow a loop-backed ZFS pool by 5 Gigabytes:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo truncate -s +5G &lt;LXD_lib_dir&gt;/disks/&lt;pool_name&gt;.img
sudo zpool set autoexpand=on &lt;pool_name&gt;
sudo zpool online -e &lt;pool_name&gt; &lt;device_ID&gt;
sudo zpool set autoexpand=off &lt;pool_name&gt;
</pre></div>
</div>
<p>Replace the following variables:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;LXD_lib_dir&gt;</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">/var/snap/lxd/common/lxd/</span></code> if you are using the snap, or <code class="docutils literal notranslate"><span class="pre">/var/lib/lxd/</span></code> otherwise.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;pool_name&gt;</span></code></dt><dd><p>The name of your storage pool (for example, <code class="docutils literal notranslate"><span class="pre">my-pool</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;device_ID&gt;</span></code></dt><dd><p>The ID of the ZFS device.
Enter <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">zpool</span> <span class="pre">status</span> <span class="pre">-vg</span> <span class="pre">&lt;pool_name&gt;</span></code> to find the ID.</p>
</dd>
</dl>
</div></div>
</section>
</section>

        </article>
      </div>
      <footer>
        
   

<div class="related-pages">
  <a class="next-page" href="../storage_create_instance/">
      <div class="page-info">
        <div class="context">
          <span>Next</span>
        </div>
        <div class="title">How to create an instance in a specific storage pool</div>
      </div>
      <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
    </a>
  <a class="prev-page" href="../../explanation/storage/">
      <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
      <div class="page-info">
        <div class="context">
          <span>Previous</span>
        </div>
        
        <div class="title">About storage pools and storage volumes</div>
        
      </div>
    </a>
</div>
<div class="bottom-of-page">
  <div class="left-details">
    <div class="copyright">
        Copyright &#169; 2014-2023 LXD contributors
    </div>

    <div class="last-updated">
      Last updated on Jan 16, 2023</div>
  </div>
  <div class="right-details">

    
    <div class="show-source">
      <a class="muted-link" href="../../_sources/howto/storage_pools.md.txt"
         rel="nofollow">Show source</a>
    </div>
    
    <div class="edit-github">
      <a class="muted-link" href="https://github.com/lxc/lxd/edit/master/doc/howto/storage_pools.md">Edit on GitHub</a>
    </div>
    

    </div>
  </div>
</div>

      </footer>
    </div>
    <aside class="toc-drawer">
      
<div class="toc-sticky toc-scroll">
   
    <div class="toc-title-container">
      <span class="toc-title">
       Contents
      </span>
    </div>
    <div class="toc-tree-container">
      <div class="toc-tree">
        <ul>
<li><a class="reference internal" href="#">How to manage storage pools</a><ul>
<li><a class="reference internal" href="#create-a-storage-pool">Create a storage pool</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#create-a-storage-pool-in-a-cluster">Create a storage pool in a cluster</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-storage-pool-settings">Configure storage pool settings</a></li>
<li><a class="reference internal" href="#view-storage-pools">View storage pools</a></li>
<li><a class="reference internal" href="#resize-a-storage-pool">Resize a storage pool</a></li>
</ul>
</li>
</ul>

      </div>
    </div>
   
    
    <div class="relatedlinks-title-container">
      <span class="relatedlinks-title">
       Related links
      </span>
    </div>
    <div class="relatedlinks-container">
      <div class="relatedlinks">
        
          <ul><li><a href="https://discuss.linuxcontainers.org/t/1333" target="_blank">How to resize ZFS used in LXD</a></li></ul>
        
        
      </div>
    </div>
    
  </div>

    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script src="../../_static/header-nav.js"></script>
    <script src="../../_static/version-switcher.js"></script>
    </body>
</html>