<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="API extensions" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://linuxcontainers.org/lxd/docs/stable-5.0/api-extensions/" />
<meta property="og:site_name" content="LXD documentation" />
<meta property="og:description" content="The changes below were introduced to the LXD API after the 1.0 API was finalized. They are all backward compatible and can be detected by client tools by looking at the api_extensions field in GET ..." />
<meta property="og:image" content="https://linuxcontainers.org/static/img/containers.png" />
<meta property="og:image:alt" content="LXD documentation" />
<meta name="description" content="The changes below were introduced to the LXD API after the 1.0 API was finalized. They are all backward compatible and can be detected by client tools by looking at the api_extensions field in GET ..." />
<link rel="index" title="Index" href="../genindex/" /><link rel="search" title="Search" href="../search/" /><link rel="next" title="Communication between instance and host" href="../dev-lxd/" /><link rel="prev" title="Main API specification" href="../api/" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>API extensions - LXD documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../_static/youtube.css" />
    <link rel="stylesheet" type="text/css" href="../_static/related-links.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: Ubuntu, -apple-system, Segoe UI, Roboto, Oxygen, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
  --font-stack--monospace: Ubuntu Mono, Consolas, Monaco, Courier, monospace;
  --color-foreground-primary: #111;
  --color-foreground-secondary: var(--color-foreground-primary);
  --color-foreground-muted: #333;
  --color-background-secondary: #FFF;
  --color-background-hover: #f2f2f2;
  --color-brand-primary: #111;
  --color-brand-content: #06C;
  --color-api-background: #cdcdcd;
  --color-inline-code-background: rgba(0,0,0,.03);
  --color-sidebar-link-text: #111;
  --color-sidebar-item-background--current: #ebebeb;
  --color-sidebar-item-background--hover: #f2f2f2;
  --toc-font-size: var(--font-size--small);
  --color-admonition-title-background--note: var(--color-background-primary);
  --color-admonition-title-background--tip: var(--color-background-primary);
  --color-admonition-title-background--important: var(--color-background-primary);
  --color-admonition-title-background--caution: var(--color-background-primary);
  --color-admonition-title--note: #24598F;
  --color-admonition-title--tip: #24598F;
  --color-admonition-title--important: #C7162B;
  --color-admonition-title--caution: #F99B11;
  --color-highlighted-background: #EbEbEb;
  --color-link-underline: var(--color-background-primary);
  --color-link-underline--hover: var(--color-background-primary);
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-foreground-secondary: var(--color-foreground-primary);
  --color-foreground-muted: #CDCDCD;
  --color-background-secondary: var(--color-background-primary);
  --color-background-hover: #666;
  --color-brand-primary: #fff;
  --color-brand-content: #06C;
  --color-sidebar-link-text: #f7f7f7;
  --color-sidebar-item-background--current: #666;
  --color-sidebar-item-background--hover: #333;
  --color-admonition-background: transparent;
  --color-admonition-title-background--note: var(--color-background-primary);
  --color-admonition-title-background--tip: var(--color-background-primary);
  --color-admonition-title-background--important: var(--color-background-primary);
  --color-admonition-title-background--caution: var(--color-background-primary);
  --color-admonition-title--note: #24598F;
  --color-admonition-title--tip: #24598F;
  --color-admonition-title--important: #C7162B;
  --color-admonition-title--caution: #F99B11;
  --color-highlighted-background: #666;
  --color-link-underline: var(--color-background-primary);
  --color-link-underline--hover: var(--color-background-primary);
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-foreground-secondary: var(--color-foreground-primary);
  --color-foreground-muted: #CDCDCD;
  --color-background-secondary: var(--color-background-primary);
  --color-background-hover: #666;
  --color-brand-primary: #fff;
  --color-brand-content: #06C;
  --color-sidebar-link-text: #f7f7f7;
  --color-sidebar-item-background--current: #666;
  --color-sidebar-item-background--hover: #333;
  --color-admonition-background: transparent;
  --color-admonition-title-background--note: var(--color-background-primary);
  --color-admonition-title-background--tip: var(--color-background-primary);
  --color-admonition-title-background--important: var(--color-background-primary);
  --color-admonition-title-background--caution: var(--color-background-primary);
  --color-admonition-title--note: #24598F;
  --color-admonition-title--tip: #24598F;
  --color-admonition-title--important: #C7162B;
  --color-admonition-title--caution: #F99B11;
  --color-highlighted-background: #666;
  --color-link-underline: var(--color-background-primary);
  --color-link-underline--hover: var(--color-background-primary);
  
      }
    }
  }
</style></head>
  <body>
    <header id="header" class="p-navigation">

  <style>
    .p-navigation {
      border-bottom: 1px solid var(--color-sidebar-background-border);
    }

    .p-navigation__nav {
      display: flex;
    }

    ul.p-navigation__links {
      display: flex;
      list-style: none;
      margin-left: 0;
      margin-top: auto;
      margin-bottom: auto;
      max-width: 800px;
      width: 100%;
    }

    ul.p-navigation__links li {
      margin: 0 auto;
      text-align: center;
      width: 100%;
    }

    ul.p-navigation__links li a {
      background-color: rgba(0, 0, 0, 0);
      border: none;
      border-radius: 0;
      color: var(--color-sidebar-link-text);
      display: block;
      font-weight: 400;
      line-height: 1.5rem;
      margin: 0;
      overflow: hidden;
      padding: 1rem 0;
      position: relative;
      text-align: left;
      text-overflow: ellipsis;
      transition-duration: .1s;
      transition-property: background-color, color, opacity;
      transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
      white-space: nowrap;
      width: 100%;
    }

    ul.p-navigation__links .p-navigation__link,
    ul.p-navigation__links .p-navigation__logo {
      text-align: center;
    }

    ul.p-navigation__links .p-navigation__link:hover,
    ul.p-navigation__links .p-dropdown__link:hover {
      background-color: var(--color-sidebar-item-background--hover);
    }

    ul.p-navigation__links .p-navigation__sub-link {
      background: var(--color-background-primary);
      padding: .5rem 0 .5rem .5rem;
      font-weight: 300;
    }

    ul.p-navigation__links .more-links-dropdown li a {
      border-left: 1px solid var(--color-sidebar-background-border);
      border-right: 1px solid var(--color-sidebar-background-border);
    }

    ul.p-navigation__links .more-links-dropdown li:first-child a {
      border-top: 1px solid var(--color-sidebar-background-border);
    }

    ul.p-navigation__links .more-links-dropdown li:last-child a {
      border-bottom: 1px solid var(--color-sidebar-background-border);
    }

    ul.p-navigation__links .p-navigation__logo {
      padding: 0.5rem;
    }

    ul.p-navigation__links .p-navigation__logo img {
      width: 40px;
    }

    ul.more-links-dropdown {
      display: none;
      overflow-x: visible;
      height: 0;
      z-index: 55;
      padding: 0;
      position: relative;
      list-style: none;
      margin-bottom: 0;
      margin-top: 0;
    }

    ul.p-navigation__links li:first-child {
      width: 130px;
    }

    @media only screen and (min-width: 800px) {
      .nav-more-links::after {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Cpath fill='%23111' d='M8.187 11.748l6.187-6.187-1.06-1.061-5.127 5.127L3.061 4.5 2 5.561z'/%3E%3C/svg%3E");
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
        content: "";
        display: block;
        height: 1rem;
        pointer-events: none;
        position: absolute;
        right: 1rem;
        text-indent: calc(100% + 10rem);
        top: calc(1rem + 0.25rem);
        width: 1rem;
      }

      body[data-theme=dark] .nav-more-links::after {
        background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16'><path stroke='white' fill='white' d='M8.187 11.748l6.187-6.187-1.06-1.061-5.127 5.127L3.061 4.5 2 5.561z'/></svg>");
      }

      ul.p-navigation__links li:first-child {
        width: 100%;
      }
    }

    @media only screen and (min-width: 1310px) {
      ul.p-navigation__links {
        margin-left: calc(50% - 41em);
      }
    }

  </style>

  <div class="p-navigation__nav" role="menubar">

    <ul class="p-navigation__links" role="menu">

      <li>
        <a class="p-navigation__logo" href="/">
          <img src="../_static/download/containers.small.png" alt="Linux containers logo" border="0" />
        </a>
      </li>

      <li>
        <a href="/" class="p-navigation__link">Home</a>
      </li>

      <li>
        <a href="/lxd/try-it/" class="p-navigation__link">Demo</a>
      </li>


      <li>
        <a href="#" class="p-navigation__link nav-more-links">More resources</a>
        <ul class="more-links-dropdown">
          <li>
            <a href="/lxd/introduction/" class="p-navigation__sub-link p-dropdown__link">Introduction</a>
          </li>

          <li>
            <a href="/lxd/news/" class="p-navigation__sub-link p-dropdown__link">News</a>
          </li>

          <li>
            <a href="/lxd/getting-started-cli/" class="p-navigation__sub-link is-selected p-dropdown__link">Getting started</a>
          </li>

          <li>
            <a href="/lxd/third-party-integrations/" class="p-navigation__sub-link p-dropdown__link">Third-party integrations</a>
          </li>

          <li>
            <a href="/lxd/advanced-guide/" class="p-navigation__sub-link p-dropdown__link">Advanced guide</a>
          </li>

          <li>
            <a href="https://discuss.linuxcontainers.org" class="p-navigation__sub-link p-dropdown__link">Forum</a>
          </li>

          <li>
            <a href="https://github.com/lxc/lxd" class="p-navigation__sub-link p-dropdown__link">GitHub</a>
          </li>

        </ul>
      </li>

    </ul>
  </div>
</header>
   
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../"><div class="brand">LXD  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="version_dropdown">
  Doc version: <button onclick="dropdown()" class="version_select" id="current"></button>
  <div id="all-versions" class="available_versions"></div>
</div><form class="sidebar-search-container" method="get" action="../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../">LXD</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../getting_started/">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../requirements/">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installing/">Install LXD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/initialize/">Initialize LXD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/">Frequently asked</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../support/">Support</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../security/">Security</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../explanation/security/">About security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../authentication/">Remote API authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/server_expose/">Expose LXD to the network</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../instances/">Instances</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../explanation/instances/">About instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/instances_create/">Create instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/instances_manage/">Manage instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/instances_configure/">Configure instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/instances_snapshots/">Create snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../profiles/">Use profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instance-exec/">Run commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/instances_console/">Access the console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/instances_access_files/">Access files</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../explanation/instance_config/">Instance configuration</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/instance_properties/">Instance properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/instance_options/">Instance options</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../reference/devices/">Devices</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/standard_devices/">Standard devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_none/">Type: <code class="docutils literal notranslate"><span class="pre">none</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_nic/">Type: <code class="docutils literal notranslate"><span class="pre">nic</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_disk/">Type: <code class="docutils literal notranslate"><span class="pre">disk</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_unix_char/">Type: <code class="docutils literal notranslate"><span class="pre">unix-char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_unix_block/">Type: <code class="docutils literal notranslate"><span class="pre">unix-block</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_usb/">Type: <code class="docutils literal notranslate"><span class="pre">usb</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_gpu/">Type: <code class="docutils literal notranslate"><span class="pre">gpu</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_infiniband/">Type: <code class="docutils literal notranslate"><span class="pre">infiniband</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_proxy/">Type: <code class="docutils literal notranslate"><span class="pre">proxy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_unix_hotplug/">Type: <code class="docutils literal notranslate"><span class="pre">unix-hotplug</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_tpm/">Type: <code class="docutils literal notranslate"><span class="pre">tpm</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/devices_pci/">Type: <code class="docutils literal notranslate"><span class="pre">pci</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reference/instance_units/">Units for storage and network limits</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../images/">Images</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../architectures/">Architectures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud-init/">Cloud-init</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image-handling/">Handling</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../storage/">Storage</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../explanation/storage/">About storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/storage_pools/">Manage pools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/storage_create_instance/">Create an instance in a pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/storage_volumes/">Manage volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/storage_move_volume/">Move or copy a volume</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/storage_backup_volume/">Back up a volume</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/storage_drivers/">Storage drivers</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/storage_dir/">Directory - <code class="docutils literal notranslate"><span class="pre">dir</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/storage_btrfs/">Btrfs - <code class="docutils literal notranslate"><span class="pre">btrfs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/storage_lvm/">LVM - <code class="docutils literal notranslate"><span class="pre">lvm</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/storage_zfs/">ZFS - <code class="docutils literal notranslate"><span class="pre">zfs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/storage_ceph/">Ceph RBD - <code class="docutils literal notranslate"><span class="pre">ceph</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/storage_cephfs/">CephFS - <code class="docutils literal notranslate"><span class="pre">cephfs</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../networks/">Networking</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../explanation/networks/">About networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/network_create/">Create and configure a network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/network_acls/">Configure network ACLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/network_forwards/">Configure network forwards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/network_zones/">Configure network zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/network_bgp/">Configure LXD as BGP server</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/network_bridge/">Bridge network</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../howto/network_bridge_resolved/">Integrate with resolved</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto/network_bridge_firewalld/">Configure your firewall</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/network_ovn/">OVN network</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../howto/network_ovn_setup/">Set up OVN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto/network_ovn_peers/">Create routing relationships</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/network_external/">External networks</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/network_macvlan/">Macvlan network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/network_sriov/">SR-IOV network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/network_physical/">Physical network</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../clustering/">Clustering</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../explanation/clustering/">About clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/cluster_form/">Form a cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/cluster_manage/">Manage a cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/cluster_recover/">Recover a cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/cluster_manage_instance/">Manage instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/cluster_config_storage/">Configure storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/cluster_config_networks/">Configure networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/cluster_groups/">Set up cluster groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/cluster_member_config/">Cluster member configuration</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../operation/">Manage LXD</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../server/">Server configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/">Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../remotes/">Remotes</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../explanation/performance_tuning/">Performance tuning</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../howto/benchmark_performance/">Benchmark performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto/network_increase_bandwidth/">Increase bandwidth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/server_settings/">Server settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../backup/">Backups</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../migration/">Migration</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../howto/move_instances/">Move instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto/import_machines_to_instances/">Import existing machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto/migrate_from_lxc/">Migrate from LXC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../restapi_landing/">REST API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../rest-api/">Main API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/">Main API specification</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Main API extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev-lxd/">Instance API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../events/">Events API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics/">Metrics API documentation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../internals/">Internals &amp; debugging</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../container-environment/">Container environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daemon-behavior/">Daemon behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging/">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment/">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syscall-interception/">System call interception</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userns-idmap/">User namespace setup</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../external_resources/">External resources</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://github.com/lxc/lxd">Project repository</a></li>
<li class="toctree-l2"><a class="reference external" href="https://images.linuxcontainers.org">Image server</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="api-extensions">
<h1>API extensions<a class="headerlink" href="#api-extensions" title="Permalink to this heading">#</a></h1>
<p>The changes below were introduced to the LXD API after the 1.0 API was finalized.</p>
<p>They are all backward compatible and can be detected by client tools by
looking at the <code class="docutils literal notranslate"><span class="pre">api_extensions</span></code> field in <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0</span></code>.</p>
<section id="storage-zfs-remove-snapshots">
<h2><code class="docutils literal notranslate"><span class="pre">storage_zfs_remove_snapshots</span></code><a class="headerlink" href="#storage-zfs-remove-snapshots" title="Permalink to this heading">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">storage.zfs_remove_snapshots</span></code> daemon configuration key was introduced.</p>
<p>It’s a Boolean that defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code> and that when set to <code class="docutils literal notranslate"><span class="pre">true</span></code> instructs LXD
to remove any needed snapshot when attempting to restore another.</p>
<p>This is needed as ZFS will only let you restore the latest snapshot.</p>
</section>
<section id="container-host-shutdown-timeout">
<h2><code class="docutils literal notranslate"><span class="pre">container_host_shutdown_timeout</span></code><a class="headerlink" href="#container-host-shutdown-timeout" title="Permalink to this heading">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">boot.host_shutdown_timeout</span></code> container configuration key was introduced.</p>
<p>It’s an integer which indicates how long LXD should wait for the container
to stop before killing it.</p>
<p>Its value is only used on clean LXD daemon shutdown. It defaults to 30s.</p>
</section>
<section id="container-stop-priority">
<h2><code class="docutils literal notranslate"><span class="pre">container_stop_priority</span></code><a class="headerlink" href="#container-stop-priority" title="Permalink to this heading">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">boot.stop.priority</span></code> container configuration key was introduced.</p>
<p>It’s an integer which indicates the priority of a container during shutdown.</p>
<p>Containers will shutdown starting with the highest priority level.</p>
<p>Containers with the same priority will shutdown in parallel.  It defaults to 0.</p>
</section>
<section id="container-syscall-filtering">
<h2><code class="docutils literal notranslate"><span class="pre">container_syscall_filtering</span></code><a class="headerlink" href="#container-syscall-filtering" title="Permalink to this heading">#</a></h2>
<p>A number of new syscalls related container configuration keys were introduced.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">security.syscalls.blacklist_default</span></code> <!-- wokeignore:rule=blacklist --></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security.syscalls.blacklist_compat</span></code> <!-- wokeignore:rule=blacklist --></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security.syscalls.blacklist</span></code> <!-- wokeignore:rule=blacklist --></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security.syscalls.whitelist</span></code> <!-- wokeignore:rule=whitelist --></p></li>
</ul>
<p>See <a class="reference internal" href="../explanation/instance_config/#instance-config"><span class="std std-ref">Instance configuration</span></a> for how to use them.</p>
</section>
<section id="auth-pki">
<h2><code class="docutils literal notranslate"><span class="pre">auth_pki</span></code><a class="headerlink" href="#auth-pki" title="Permalink to this heading">#</a></h2>
<p>This indicates support for PKI authentication mode.</p>
<p>In this mode, the client and server both must use certificates issued by the same PKI.</p>
<p>See <a class="reference internal" href="../security/"><span class="doc std std-doc">Security</span></a> for details.</p>
</section>
<section id="container-last-used-at">
<h2><code class="docutils literal notranslate"><span class="pre">container_last_used_at</span></code><a class="headerlink" href="#container-last-used-at" title="Permalink to this heading">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">last_used_at</span></code> field was added to the <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/containers/&lt;name&gt;</span></code> endpoint.</p>
<p>It is a timestamp of the last time the container was started.</p>
<p>If a container has been created but not started yet, <code class="docutils literal notranslate"><span class="pre">last_used_at</span></code> field
will be <code class="docutils literal notranslate"><span class="pre">1970-01-01T00:00:00Z</span></code></p>
</section>
<section id="etag">
<h2><code class="docutils literal notranslate"><span class="pre">etag</span></code><a class="headerlink" href="#etag" title="Permalink to this heading">#</a></h2>
<p>Add support for the ETag header on all relevant endpoints.</p>
<p>This adds the following HTTP header on answers to GET:</p>
<ul class="simple">
<li><p>ETag (SHA-256 of user modifiable content)</p></li>
</ul>
<p>And adds support for the following HTTP header on PUT requests:</p>
<ul class="simple">
<li><p>If-Match (ETag value retrieved through previous GET)</p></li>
</ul>
<p>This makes it possible to GET a LXD object, modify it and PUT it without
risking to hit a race condition where LXD or another client modified the
object in the meantime.</p>
</section>
<section id="patch">
<h2><code class="docutils literal notranslate"><span class="pre">patch</span></code><a class="headerlink" href="#patch" title="Permalink to this heading">#</a></h2>
<p>Add support for the HTTP PATCH method.</p>
<p>PATCH allows for partial update of an object in place of PUT.</p>
</section>
<section id="usb-devices">
<h2><code class="docutils literal notranslate"><span class="pre">usb_devices</span></code><a class="headerlink" href="#usb-devices" title="Permalink to this heading">#</a></h2>
<p>Add support for USB hotplug.</p>
</section>
<section id="https-allowed-credentials">
<h2><code class="docutils literal notranslate"><span class="pre">https_allowed_credentials</span></code><a class="headerlink" href="#https-allowed-credentials" title="Permalink to this heading">#</a></h2>
<p>To use LXD API with all Web Browsers (via SPAs) you must send credentials
(certificate) with each XHR (in order for this to happen, you should set
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials"><code class="docutils literal notranslate"><span class="pre">withCredentials=true</span></code></a>
flag to each XHR Request).</p>
<p>Some browsers like Firefox and Safari can’t accept server response without
<code class="docutils literal notranslate"><span class="pre">Access-Control-Allow-Credentials:</span> <span class="pre">true</span></code> header. To ensure that the server will
return a response with that header, set <code class="docutils literal notranslate"><span class="pre">core.https_allowed_credentials=true</span></code>.</p>
</section>
<section id="image-compression-algorithm">
<h2><code class="docutils literal notranslate"><span class="pre">image_compression_algorithm</span></code><a class="headerlink" href="#image-compression-algorithm" title="Permalink to this heading">#</a></h2>
<p>This adds support for a <code class="docutils literal notranslate"><span class="pre">compression_algorithm</span></code> property when creating an image (<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/images</span></code>).</p>
<p>Setting this property overrides the server default value (<code class="docutils literal notranslate"><span class="pre">images.compression_algorithm</span></code>).</p>
</section>
<section id="directory-manipulation">
<h2><code class="docutils literal notranslate"><span class="pre">directory_manipulation</span></code><a class="headerlink" href="#directory-manipulation" title="Permalink to this heading">#</a></h2>
<p>This allows for creating and listing directories via the LXD API, and exports
the file type via the X-LXD-type header, which can be either <code class="docutils literal notranslate"><span class="pre">file</span></code> or
<code class="docutils literal notranslate"><span class="pre">directory</span></code> right now.</p>
</section>
<section id="container-cpu-time">
<h2><code class="docutils literal notranslate"><span class="pre">container_cpu_time</span></code><a class="headerlink" href="#container-cpu-time" title="Permalink to this heading">#</a></h2>
<p>This adds support for retrieving CPU time for a running container.</p>
</section>
<section id="storage-zfs-use-refquota">
<h2><code class="docutils literal notranslate"><span class="pre">storage_zfs_use_refquota</span></code><a class="headerlink" href="#storage-zfs-use-refquota" title="Permalink to this heading">#</a></h2>
<p>Introduces a new server property <code class="docutils literal notranslate"><span class="pre">storage.zfs_use_refquota</span></code> which instructs LXD
to set the <code class="docutils literal notranslate"><span class="pre">refquota</span></code> property instead of <code class="docutils literal notranslate"><span class="pre">quota</span></code> when setting a size limit
on a container. LXD will also then use <code class="docutils literal notranslate"><span class="pre">usedbydataset</span></code> in place of <code class="docutils literal notranslate"><span class="pre">used</span></code>
when being queried about disk utilization.</p>
<p>This effectively controls whether disk usage by snapshots should be
considered as part of the container’s disk space usage.</p>
</section>
<section id="storage-lvm-mount-options">
<h2><code class="docutils literal notranslate"><span class="pre">storage_lvm_mount_options</span></code><a class="headerlink" href="#storage-lvm-mount-options" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">storage.lvm_mount_options</span></code> daemon configuration option
which defaults to <code class="docutils literal notranslate"><span class="pre">discard</span></code> and allows the user to set addition mount
options for the file system used by the LVM LV.</p>
</section>
<section id="network">
<h2><code class="docutils literal notranslate"><span class="pre">network</span></code><a class="headerlink" href="#network" title="Permalink to this heading">#</a></h2>
<p>Network management API for LXD.</p>
<p>This includes:</p>
<ul class="simple">
<li><p>Addition of the <code class="docutils literal notranslate"><span class="pre">managed</span></code> property on <code class="docutils literal notranslate"><span class="pre">/1.0/networks</span></code> entries</p></li>
<li><p>All the network configuration options (see <a class="reference internal" href="../networks/"><span class="doc std std-doc">Network configuration</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/networks</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/networks/&lt;entry&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/1.0/networks/&lt;entry&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/networks/&lt;entry&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipv4.address</span></code> property on <code class="docutils literal notranslate"><span class="pre">nic</span></code> type devices (when <code class="docutils literal notranslate"><span class="pre">nictype</span></code> is <code class="docutils literal notranslate"><span class="pre">bridged</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipv6.address</span></code> property on <code class="docutils literal notranslate"><span class="pre">nic</span></code> type devices (when <code class="docutils literal notranslate"><span class="pre">nictype</span></code> is <code class="docutils literal notranslate"><span class="pre">bridged</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security.mac_filtering</span></code> property on <code class="docutils literal notranslate"><span class="pre">nic</span></code> type devices (when <code class="docutils literal notranslate"><span class="pre">nictype</span></code> is <code class="docutils literal notranslate"><span class="pre">bridged</span></code>)</p></li>
</ul>
</section>
<section id="profile-usedby">
<h2><code class="docutils literal notranslate"><span class="pre">profile_usedby</span></code><a class="headerlink" href="#profile-usedby" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">used_by</span></code> field to profile entries listing the containers that are using it.</p>
</section>
<section id="container-push">
<h2><code class="docutils literal notranslate"><span class="pre">container_push</span></code><a class="headerlink" href="#container-push" title="Permalink to this heading">#</a></h2>
<p>When a container is created in push mode, the client serves as a proxy between
the source and target server. This is useful in cases where the target server
is behind a NAT or firewall and cannot directly communicate with the source
server and operate in pull mode.</p>
</section>
<section id="container-exec-recording">
<h2><code class="docutils literal notranslate"><span class="pre">container_exec_recording</span></code><a class="headerlink" href="#container-exec-recording" title="Permalink to this heading">#</a></h2>
<p>Introduces a new Boolean <code class="docutils literal notranslate"><span class="pre">record-output</span></code>, parameter to
<code class="docutils literal notranslate"><span class="pre">/1.0/containers/&lt;name&gt;/exec</span></code> which when set to <code class="docutils literal notranslate"><span class="pre">true</span></code> and combined with
with <code class="docutils literal notranslate"><span class="pre">wait-for-websocket</span></code> set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, will record stdout and stderr to
disk and make them available through the logs interface.</p>
<p>The URL to the recorded output is included in the operation metadata
once the command is done running.</p>
<p>That output will expire similarly to other log files, typically after 48 hours.</p>
</section>
<section id="certificate-update">
<h2><code class="docutils literal notranslate"><span class="pre">certificate_update</span></code><a class="headerlink" href="#certificate-update" title="Permalink to this heading">#</a></h2>
<p>Adds the following to the REST API:</p>
<ul class="simple">
<li><p>ETag header on GET of a certificate</p></li>
<li><p>PUT of certificate entries</p></li>
<li><p>PATCH of certificate entries</p></li>
</ul>
</section>
<section id="container-exec-signal-handling">
<h2><code class="docutils literal notranslate"><span class="pre">container_exec_signal_handling</span></code><a class="headerlink" href="#container-exec-signal-handling" title="Permalink to this heading">#</a></h2>
<p>Adds support <code class="docutils literal notranslate"><span class="pre">/1.0/containers/&lt;name&gt;/exec</span></code> for forwarding signals sent to the
client to the processes executing in the container. Currently SIGTERM and
SIGHUP are forwarded. Further signals that can be forwarded might be added
later.</p>
</section>
<section id="gpu-devices">
<h2><code class="docutils literal notranslate"><span class="pre">gpu_devices</span></code><a class="headerlink" href="#gpu-devices" title="Permalink to this heading">#</a></h2>
<p>Enables adding GPUs to a container.</p>
</section>
<section id="container-image-properties">
<h2><code class="docutils literal notranslate"><span class="pre">container_image_properties</span></code><a class="headerlink" href="#container-image-properties" title="Permalink to this heading">#</a></h2>
<p>Introduces a new <code class="docutils literal notranslate"><span class="pre">image</span></code> configuration key space. Read-only, includes the properties of the parent image.</p>
</section>
<section id="migration-progress">
<h2><code class="docutils literal notranslate"><span class="pre">migration_progress</span></code><a class="headerlink" href="#migration-progress" title="Permalink to this heading">#</a></h2>
<p>Transfer progress is now exported as part of the operation, on both sending and receiving ends.
This shows up as a <code class="docutils literal notranslate"><span class="pre">fs_progress</span></code> attribute in the operation metadata.</p>
</section>
<section id="id-map">
<h2><code class="docutils literal notranslate"><span class="pre">id_map</span></code><a class="headerlink" href="#id-map" title="Permalink to this heading">#</a></h2>
<p>Enables setting the <code class="docutils literal notranslate"><span class="pre">security.idmap.isolated</span></code> and <code class="docutils literal notranslate"><span class="pre">security.idmap.isolated</span></code>,
<code class="docutils literal notranslate"><span class="pre">security.idmap.size</span></code>, and <code class="docutils literal notranslate"><span class="pre">raw.id_map</span></code> fields.</p>
</section>
<section id="network-firewall-filtering">
<h2><code class="docutils literal notranslate"><span class="pre">network_firewall_filtering</span></code><a class="headerlink" href="#network-firewall-filtering" title="Permalink to this heading">#</a></h2>
<p>Add two new keys, <code class="docutils literal notranslate"><span class="pre">ipv4.firewall</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.firewall</span></code> which if set to
<code class="docutils literal notranslate"><span class="pre">false</span></code> will turn off the generation of <code class="docutils literal notranslate"><span class="pre">iptables</span></code> FORWARDING rules. NAT
rules will still be added so long as the matching <code class="docutils literal notranslate"><span class="pre">ipv4.nat</span></code> or
<code class="docutils literal notranslate"><span class="pre">ipv6.nat</span></code> key is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>Rules necessary for <code class="docutils literal notranslate"><span class="pre">dnsmasq</span></code> to work (DHCP/DNS) will always be applied if
<code class="docutils literal notranslate"><span class="pre">dnsmasq</span></code> is enabled on the bridge.</p>
</section>
<section id="network-routes">
<h2><code class="docutils literal notranslate"><span class="pre">network_routes</span></code><a class="headerlink" href="#network-routes" title="Permalink to this heading">#</a></h2>
<p>Introduces <code class="docutils literal notranslate"><span class="pre">ipv4.routes</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.routes</span></code> which allow routing additional subnets to a LXD bridge.</p>
</section>
<section id="storage">
<h2><code class="docutils literal notranslate"><span class="pre">storage</span></code><a class="headerlink" href="#storage" title="Permalink to this heading">#</a></h2>
<p>Storage management API for LXD.</p>
<p>This includes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/storage-pools/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/1.0/storage-pools/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/storage-pools/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;name&gt;/volumes</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;name&gt;/volumes/&lt;volume_type&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools/&lt;name&gt;/volumes/&lt;volume_type&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;volume_type&gt;/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;volume_type&gt;/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;volume_type&gt;/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;volume_type&gt;/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;volume_type&gt;/&lt;name&gt;</span></code> (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details)</p></li>
<li><p>All storage configuration options (see <a class="reference internal" href="../storage/"><span class="doc std std-doc">Storage configuration</span></a> for details)</p></li>
</ul>
</section>
<section id="file-delete">
<h2><code class="docutils literal notranslate"><span class="pre">file_delete</span></code><a class="headerlink" href="#file-delete" title="Permalink to this heading">#</a></h2>
<p>Implements <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> in <code class="docutils literal notranslate"><span class="pre">/1.0/containers/&lt;name&gt;/files</span></code></p>
</section>
<section id="file-append">
<h2><code class="docutils literal notranslate"><span class="pre">file_append</span></code><a class="headerlink" href="#file-append" title="Permalink to this heading">#</a></h2>
<p>Implements the <code class="docutils literal notranslate"><span class="pre">X-LXD-write</span></code> header which can be one of <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> or <code class="docutils literal notranslate"><span class="pre">append</span></code>.</p>
</section>
<section id="network-dhcp-expiry">
<h2><code class="docutils literal notranslate"><span class="pre">network_dhcp_expiry</span></code><a class="headerlink" href="#network-dhcp-expiry" title="Permalink to this heading">#</a></h2>
<p>Introduces <code class="docutils literal notranslate"><span class="pre">ipv4.dhcp.expiry</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.dhcp.expiry</span></code> allowing to set the DHCP lease expiry time.</p>
</section>
<section id="storage-lvm-vg-rename">
<h2><code class="docutils literal notranslate"><span class="pre">storage_lvm_vg_rename</span></code><a class="headerlink" href="#storage-lvm-vg-rename" title="Permalink to this heading">#</a></h2>
<p>Introduces the ability to rename a volume group by setting <code class="docutils literal notranslate"><span class="pre">storage.lvm.vg_name</span></code>.</p>
</section>
<section id="storage-lvm-thinpool-rename">
<h2><code class="docutils literal notranslate"><span class="pre">storage_lvm_thinpool_rename</span></code><a class="headerlink" href="#storage-lvm-thinpool-rename" title="Permalink to this heading">#</a></h2>
<p>Introduces the ability to rename a thin pool name by setting <code class="docutils literal notranslate"><span class="pre">storage.thinpool_name</span></code>.</p>
</section>
<section id="network-vlan">
<h2><code class="docutils literal notranslate"><span class="pre">network_vlan</span></code><a class="headerlink" href="#network-vlan" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">vlan</span></code> property to <code class="docutils literal notranslate"><span class="pre">macvlan</span></code> network devices.</p>
<p>When set, this will instruct LXD to attach to the specified VLAN. LXD
will look for an existing interface for that VLAN on the host. If one
can’t be found it will create one itself and then use that as the
macvlan parent.</p>
</section>
<section id="image-create-aliases">
<h2><code class="docutils literal notranslate"><span class="pre">image_create_aliases</span></code><a class="headerlink" href="#image-create-aliases" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">aliases</span></code> field to <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/images</span></code> allowing for aliases to
be set at image creation/import time.</p>
</section>
<section id="container-stateless-copy">
<h2><code class="docutils literal notranslate"><span class="pre">container_stateless_copy</span></code><a class="headerlink" href="#container-stateless-copy" title="Permalink to this heading">#</a></h2>
<p>This introduces a new <code class="docutils literal notranslate"><span class="pre">live</span></code> attribute in <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers/&lt;name&gt;</span></code>.
Setting it to <code class="docutils literal notranslate"><span class="pre">false</span></code> tells LXD not to attempt running state transfer.</p>
</section>
<section id="container-only-migration">
<h2><code class="docutils literal notranslate"><span class="pre">container_only_migration</span></code><a class="headerlink" href="#container-only-migration" title="Permalink to this heading">#</a></h2>
<p>Introduces a new Boolean <code class="docutils literal notranslate"><span class="pre">container_only</span></code> attribute. When set to <code class="docutils literal notranslate"><span class="pre">true</span></code> only the
container will be copied or moved.</p>
</section>
<section id="storage-zfs-clone-copy">
<h2><code class="docutils literal notranslate"><span class="pre">storage_zfs_clone_copy</span></code><a class="headerlink" href="#storage-zfs-clone-copy" title="Permalink to this heading">#</a></h2>
<p>Introduces a new Boolean <code class="docutils literal notranslate"><span class="pre">storage_zfs_clone_copy</span></code> property for ZFS storage
pools. When set to <code class="docutils literal notranslate"><span class="pre">false</span></code> copying a container will be done through <code class="docutils literal notranslate"><span class="pre">zfs</span> <span class="pre">send</span></code> and
receive. This will make the target container independent of its source
container thus avoiding the need to keep dependent snapshots in the ZFS pool
around. However, this also entails less efficient storage usage for the
affected pool.
The default value for this property is <code class="docutils literal notranslate"><span class="pre">true</span></code>, i.e. space-efficient snapshots
will be used unless explicitly set to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
<section id="unix-device-rename">
<h2><code class="docutils literal notranslate"><span class="pre">unix_device_rename</span></code><a class="headerlink" href="#unix-device-rename" title="Permalink to this heading">#</a></h2>
<p>Introduces the ability to rename the <code class="docutils literal notranslate"><span class="pre">unix-block</span></code>/<code class="docutils literal notranslate"><span class="pre">unix-char</span></code> device inside container by setting <code class="docutils literal notranslate"><span class="pre">path</span></code>,
and the <code class="docutils literal notranslate"><span class="pre">source</span></code> attribute is added to specify the device on host.
If <code class="docutils literal notranslate"><span class="pre">source</span></code> is set without a <code class="docutils literal notranslate"><span class="pre">path</span></code>, we should assume that <code class="docutils literal notranslate"><span class="pre">path</span></code> will be the same as <code class="docutils literal notranslate"><span class="pre">source</span></code>.
If <code class="docutils literal notranslate"><span class="pre">path</span></code> is set without <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">major</span></code>/<code class="docutils literal notranslate"><span class="pre">minor</span></code> isn’t set,
we should assume that <code class="docutils literal notranslate"><span class="pre">source</span></code> will be the same as <code class="docutils literal notranslate"><span class="pre">path</span></code>.
So at least one of them must be set.</p>
</section>
<section id="storage-rsync-bwlimit">
<h2><code class="docutils literal notranslate"><span class="pre">storage_rsync_bwlimit</span></code><a class="headerlink" href="#storage-rsync-bwlimit" title="Permalink to this heading">#</a></h2>
<p>When <code class="docutils literal notranslate"><span class="pre">rsync</span></code> has to be invoked to transfer storage entities setting <code class="docutils literal notranslate"><span class="pre">rsync.bwlimit</span></code>
places an upper limit on the amount of socket I/O allowed.</p>
</section>
<section id="network-vxlan-interface">
<h2><code class="docutils literal notranslate"><span class="pre">network_vxlan_interface</span></code><a class="headerlink" href="#network-vxlan-interface" title="Permalink to this heading">#</a></h2>
<p>This introduces a new <code class="docutils literal notranslate"><span class="pre">tunnel.NAME.interface</span></code> option for networks.</p>
<p>This key control what host network interface is used for a VXLAN tunnel.</p>
</section>
<section id="storage-btrfs-mount-options">
<h2><code class="docutils literal notranslate"><span class="pre">storage_btrfs_mount_options</span></code><a class="headerlink" href="#storage-btrfs-mount-options" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">btrfs.mount_options</span></code> property for Btrfs storage pools.</p>
<p>This key controls what mount options will be used for the Btrfs storage pool.</p>
</section>
<section id="entity-description">
<h2><code class="docutils literal notranslate"><span class="pre">entity_description</span></code><a class="headerlink" href="#entity-description" title="Permalink to this heading">#</a></h2>
<p>This adds descriptions to entities like containers, snapshots, networks, storage pools and volumes.</p>
</section>
<section id="image-force-refresh">
<h2><code class="docutils literal notranslate"><span class="pre">image_force_refresh</span></code><a class="headerlink" href="#image-force-refresh" title="Permalink to this heading">#</a></h2>
<p>This allows forcing a refresh for an existing image.</p>
</section>
<section id="storage-lvm-lv-resizing">
<h2><code class="docutils literal notranslate"><span class="pre">storage_lvm_lv_resizing</span></code><a class="headerlink" href="#storage-lvm-lv-resizing" title="Permalink to this heading">#</a></h2>
<p>This introduces the ability to resize logical volumes by setting the <code class="docutils literal notranslate"><span class="pre">size</span></code>
property in the containers root disk device.</p>
</section>
<section id="id-map-base">
<h2><code class="docutils literal notranslate"><span class="pre">id_map_base</span></code><a class="headerlink" href="#id-map-base" title="Permalink to this heading">#</a></h2>
<p>This introduces a new <code class="docutils literal notranslate"><span class="pre">security.idmap.base</span></code> allowing the user to skip the
map auto-selection process for isolated containers and specify what host
UID/GID to use as the base.</p>
</section>
<section id="file-symlinks">
<h2><code class="docutils literal notranslate"><span class="pre">file_symlinks</span></code><a class="headerlink" href="#file-symlinks" title="Permalink to this heading">#</a></h2>
<p>This adds support for transferring symlinks through the file API.
X-LXD-type can now be <code class="docutils literal notranslate"><span class="pre">symlink</span></code> with the request content being the target path.</p>
</section>
<section id="container-push-target">
<h2><code class="docutils literal notranslate"><span class="pre">container_push_target</span></code><a class="headerlink" href="#container-push-target" title="Permalink to this heading">#</a></h2>
<p>This adds the <code class="docutils literal notranslate"><span class="pre">target</span></code> field to <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers/&lt;name&gt;</span></code> which can be
used to have the source LXD host connect to the target during migration.</p>
</section>
<section id="network-vlan-physical">
<h2><code class="docutils literal notranslate"><span class="pre">network_vlan_physical</span></code><a class="headerlink" href="#network-vlan-physical" title="Permalink to this heading">#</a></h2>
<p>Allows use of <code class="docutils literal notranslate"><span class="pre">vlan</span></code> property with <code class="docutils literal notranslate"><span class="pre">physical</span></code> network devices.</p>
<p>When set, this will instruct LXD to attach to the specified VLAN on the <code class="docutils literal notranslate"><span class="pre">parent</span></code> interface.
LXD will look for an existing interface for that <code class="docutils literal notranslate"><span class="pre">parent</span></code> and VLAN on the host.
If one can’t be found it will create one itself.
Then, LXD will directly attach this interface to the container.</p>
</section>
<section id="storage-images-delete">
<h2><code class="docutils literal notranslate"><span class="pre">storage_images_delete</span></code><a class="headerlink" href="#storage-images-delete" title="Permalink to this heading">#</a></h2>
<p>This enabled the storage API to delete storage volumes for images from
a specific storage pool.</p>
</section>
<section id="container-edit-metadata">
<h2><code class="docutils literal notranslate"><span class="pre">container_edit_metadata</span></code><a class="headerlink" href="#container-edit-metadata" title="Permalink to this heading">#</a></h2>
<p>This adds support for editing a container <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code> and related templates
via API, by accessing URLs under <code class="docutils literal notranslate"><span class="pre">/1.0/containers/&lt;name&gt;/metadata</span></code>. It can be used
to edit a container before publishing an image from it.</p>
</section>
<section id="container-snapshot-stateful-migration">
<h2><code class="docutils literal notranslate"><span class="pre">container_snapshot_stateful_migration</span></code><a class="headerlink" href="#container-snapshot-stateful-migration" title="Permalink to this heading">#</a></h2>
<p>This enables migrating stateful container snapshots to new containers.</p>
</section>
<section id="storage-driver-ceph">
<h2><code class="docutils literal notranslate"><span class="pre">storage_driver_ceph</span></code><a class="headerlink" href="#storage-driver-ceph" title="Permalink to this heading">#</a></h2>
<p>This adds a Ceph storage driver.</p>
</section>
<section id="storage-ceph-user-name">
<h2><code class="docutils literal notranslate"><span class="pre">storage_ceph_user_name</span></code><a class="headerlink" href="#storage-ceph-user-name" title="Permalink to this heading">#</a></h2>
<p>This adds the ability to specify the Ceph user.</p>
</section>
<section id="instance-types">
<h2><code class="docutils literal notranslate"><span class="pre">instance_types</span></code><a class="headerlink" href="#instance-types" title="Permalink to this heading">#</a></h2>
<p>This adds the <code class="docutils literal notranslate"><span class="pre">instance_type</span></code> field to the container creation request.
Its value is expanded to LXD resource limits.</p>
</section>
<section id="storage-volatile-initial-source">
<h2><code class="docutils literal notranslate"><span class="pre">storage_volatile_initial_source</span></code><a class="headerlink" href="#storage-volatile-initial-source" title="Permalink to this heading">#</a></h2>
<p>This records the actual source passed to LXD during storage pool creation.</p>
</section>
<section id="storage-ceph-force-osd-reuse">
<h2><code class="docutils literal notranslate"><span class="pre">storage_ceph_force_osd_reuse</span></code><a class="headerlink" href="#storage-ceph-force-osd-reuse" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ceph.osd.force_reuse</span></code> property for the Ceph storage
driver. When set to <code class="docutils literal notranslate"><span class="pre">true</span></code> LXD will reuse an OSD storage pool that is already in
use by another LXD instance.</p>
</section>
<section id="storage-block-filesystem-btrfs">
<h2><code class="docutils literal notranslate"><span class="pre">storage_block_filesystem_btrfs</span></code><a class="headerlink" href="#storage-block-filesystem-btrfs" title="Permalink to this heading">#</a></h2>
<p>This adds support for Btrfs as a storage volume file system, in addition to <code class="docutils literal notranslate"><span class="pre">ext4</span></code>
and <code class="docutils literal notranslate"><span class="pre">xfs</span></code>.</p>
</section>
<section id="resources">
<h2><code class="docutils literal notranslate"><span class="pre">resources</span></code><a class="headerlink" href="#resources" title="Permalink to this heading">#</a></h2>
<p>This adds support for querying a LXD daemon for the system resources it has
available.</p>
</section>
<section id="kernel-limits">
<h2><code class="docutils literal notranslate"><span class="pre">kernel_limits</span></code><a class="headerlink" href="#kernel-limits" title="Permalink to this heading">#</a></h2>
<p>This adds support for setting process limits such as maximum number of open
files for the container via <code class="docutils literal notranslate"><span class="pre">nofile</span></code>. The format is <code class="docutils literal notranslate"><span class="pre">limits.kernel.[limit</span> <span class="pre">name]</span></code>.</p>
</section>
<section id="storage-api-volume-rename">
<h2><code class="docutils literal notranslate"><span class="pre">storage_api_volume_rename</span></code><a class="headerlink" href="#storage-api-volume-rename" title="Permalink to this heading">#</a></h2>
<p>This adds support for renaming custom storage volumes.</p>
</section>
<section id="external-authentication">
<h2><code class="docutils literal notranslate"><span class="pre">external_authentication</span></code><a class="headerlink" href="#external-authentication" title="Permalink to this heading">#</a></h2>
<p>This adds support for external authentication via Macaroons.</p>
</section>
<section id="network-sriov">
<h2><code class="docutils literal notranslate"><span class="pre">network_sriov</span></code><a class="headerlink" href="#network-sriov" title="Permalink to this heading">#</a></h2>
<p>This adds support for SR-IOV enabled network devices.</p>
</section>
<section id="console">
<h2><code class="docutils literal notranslate"><span class="pre">console</span></code><a class="headerlink" href="#console" title="Permalink to this heading">#</a></h2>
<p>This adds support to interact with the container console device and console log.</p>
</section>
<section id="restrict-devlxd">
<h2><code class="docutils literal notranslate"><span class="pre">restrict_devlxd</span></code><a class="headerlink" href="#restrict-devlxd" title="Permalink to this heading">#</a></h2>
<p>A new <code class="docutils literal notranslate"><span class="pre">security.devlxd</span></code> container configuration key was introduced.
The key controls whether the <code class="docutils literal notranslate"><span class="pre">/dev/lxd</span></code> interface is made available to the container.
If set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, this effectively prevents the container from interacting with the LXD daemon.</p>
</section>
<section id="migration-pre-copy">
<h2><code class="docutils literal notranslate"><span class="pre">migration_pre_copy</span></code><a class="headerlink" href="#migration-pre-copy" title="Permalink to this heading">#</a></h2>
<p>This adds support for optimized memory transfer during live migration.</p>
</section>
<section id="infiniband">
<h2><code class="docutils literal notranslate"><span class="pre">infiniband</span></code><a class="headerlink" href="#infiniband" title="Permalink to this heading">#</a></h2>
<p>This adds support to use InfiniBand network devices.</p>
</section>
<section id="maas-network">
<h2><code class="docutils literal notranslate"><span class="pre">maas_network</span></code><a class="headerlink" href="#maas-network" title="Permalink to this heading">#</a></h2>
<p>This adds support for MAAS network integration.</p>
<p>When configured at the daemon level, it’s then possible to attach a <code class="docutils literal notranslate"><span class="pre">nic</span></code>
device to a particular MAAS subnet.</p>
</section>
<section id="devlxd-events">
<h2><code class="docutils literal notranslate"><span class="pre">devlxd_events</span></code><a class="headerlink" href="#devlxd-events" title="Permalink to this heading">#</a></h2>
<p>This adds a WebSocket API to the <code class="docutils literal notranslate"><span class="pre">devlxd</span></code> socket.</p>
<p>When connecting to <code class="docutils literal notranslate"><span class="pre">/1.0/events</span></code> over the <code class="docutils literal notranslate"><span class="pre">devlxd</span></code> socket, you will now be
getting a stream of events over WebSocket.</p>
</section>
<section id="proxy">
<h2><code class="docutils literal notranslate"><span class="pre">proxy</span></code><a class="headerlink" href="#proxy" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">proxy</span></code> device type to containers, allowing forwarding
of connections between the host and container.</p>
</section>
<section id="network-dhcp-gateway">
<h2><code class="docutils literal notranslate"><span class="pre">network_dhcp_gateway</span></code><a class="headerlink" href="#network-dhcp-gateway" title="Permalink to this heading">#</a></h2>
<p>Introduces a new <code class="docutils literal notranslate"><span class="pre">ipv4.dhcp.gateway</span></code> network configuration key to set an alternate gateway.</p>
</section>
<section id="file-get-symlink">
<h2><code class="docutils literal notranslate"><span class="pre">file_get_symlink</span></code><a class="headerlink" href="#file-get-symlink" title="Permalink to this heading">#</a></h2>
<p>This makes it possible to retrieve symlinks using the file API.</p>
</section>
<section id="network-leases">
<h2><code class="docutils literal notranslate"><span class="pre">network_leases</span></code><a class="headerlink" href="#network-leases" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">/1.0/networks/NAME/leases</span></code> API endpoint to query the lease database on
bridges which run a LXD-managed DHCP server.</p>
</section>
<section id="unix-device-hotplug">
<h2><code class="docutils literal notranslate"><span class="pre">unix_device_hotplug</span></code><a class="headerlink" href="#unix-device-hotplug" title="Permalink to this heading">#</a></h2>
<p>This adds support for the <code class="docutils literal notranslate"><span class="pre">required</span></code> property for Unix devices.</p>
</section>
<section id="storage-api-local-volume-handling">
<h2><code class="docutils literal notranslate"><span class="pre">storage_api_local_volume_handling</span></code><a class="headerlink" href="#storage-api-local-volume-handling" title="Permalink to this heading">#</a></h2>
<p>This add the ability to copy and move custom storage volumes locally in the
same and between storage pools.</p>
</section>
<section id="operation-description">
<h2><code class="docutils literal notranslate"><span class="pre">operation_description</span></code><a class="headerlink" href="#operation-description" title="Permalink to this heading">#</a></h2>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">description</span></code> field to all operations.</p>
</section>
<section id="clustering">
<h2><code class="docutils literal notranslate"><span class="pre">clustering</span></code><a class="headerlink" href="#clustering" title="Permalink to this heading">#</a></h2>
<p>Clustering API for LXD.</p>
<p>This includes the following new endpoints (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/cluster</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UPDATE</span> <span class="pre">/1.0/cluster</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/cluster/members</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/cluster/members/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/cluster/members/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/cluster/members/&lt;name&gt;</span></code></p></li>
</ul>
<p>The following existing endpoints have been modified:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pool/&lt;name&gt;</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pool/&lt;pool&gt;/volumes/&lt;type&gt;</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pool/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;name&gt;</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pool/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;name&gt;</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/storage-pool/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;name&gt;</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/1.0/storage-pool/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;name&gt;</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/storage-pool/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;name&gt;</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/networks</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/networks/&lt;name&gt;</span></code> accepts a new <code class="docutils literal notranslate"><span class="pre">target</span></code> query parameter</p></li>
</ul>
</section>
<section id="event-lifecycle">
<h2><code class="docutils literal notranslate"><span class="pre">event_lifecycle</span></code><a class="headerlink" href="#event-lifecycle" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">lifecycle</span></code> message type to the events API.</p>
</section>
<section id="storage-api-remote-volume-handling">
<h2><code class="docutils literal notranslate"><span class="pre">storage_api_remote_volume_handling</span></code><a class="headerlink" href="#storage-api-remote-volume-handling" title="Permalink to this heading">#</a></h2>
<p>This adds the ability to copy and move custom storage volumes between remote.</p>
</section>
<section id="nvidia-runtime">
<h2><code class="docutils literal notranslate"><span class="pre">nvidia_runtime</span></code><a class="headerlink" href="#nvidia-runtime" title="Permalink to this heading">#</a></h2>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">nvidia_runtime</span></code> configuration option for containers, setting this to
<code class="docutils literal notranslate"><span class="pre">true</span></code> will have the NVIDIA runtime and CUDA libraries passed to the
container.</p>
</section>
<section id="container-mount-propagation">
<h2><code class="docutils literal notranslate"><span class="pre">container_mount_propagation</span></code><a class="headerlink" href="#container-mount-propagation" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">propagation</span></code> option to the disk device type, allowing
the configuration of kernel mount propagation.</p>
</section>
<section id="container-backup">
<h2><code class="docutils literal notranslate"><span class="pre">container_backup</span></code><a class="headerlink" href="#container-backup" title="Permalink to this heading">#</a></h2>
<p>Add container backup support.</p>
<p>This includes the following new endpoints (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/containers/&lt;name&gt;/backups</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers/&lt;name&gt;/backups</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/containers/&lt;name&gt;/backups/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers/&lt;name&gt;/backups/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/containers/&lt;name&gt;/backups/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/containers/&lt;name&gt;/backups/&lt;name&gt;/export</span></code></p></li>
</ul>
<p>The following existing endpoint has been modified:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers</span></code> accepts the new source type <code class="docutils literal notranslate"><span class="pre">backup</span></code></p></li>
</ul>
</section>
<section id="devlxd-images">
<h2><code class="docutils literal notranslate"><span class="pre">devlxd_images</span></code><a class="headerlink" href="#devlxd-images" title="Permalink to this heading">#</a></h2>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">security.devlxd.images</span></code> configuration option for containers which
controls the availability of a <code class="docutils literal notranslate"><span class="pre">/1.0/images/FINGERPRINT/export</span></code> API over
<code class="docutils literal notranslate"><span class="pre">devlxd</span></code>. This can be used by a container running nested LXD to access raw
images from the host.</p>
</section>
<section id="container-local-cross-pool-handling">
<h2><code class="docutils literal notranslate"><span class="pre">container_local_cross_pool_handling</span></code><a class="headerlink" href="#container-local-cross-pool-handling" title="Permalink to this heading">#</a></h2>
<p>This enables copying or moving containers between storage pools on the same LXD
instance.</p>
</section>
<section id="proxy-unix">
<h2><code class="docutils literal notranslate"><span class="pre">proxy_unix</span></code><a class="headerlink" href="#proxy-unix" title="Permalink to this heading">#</a></h2>
<p>Add support for both Unix sockets and abstract Unix sockets in proxy devices.
They can be used by specifying the address as <code class="docutils literal notranslate"><span class="pre">unix:/path/to/unix.sock</span></code> (normal
socket) or <code class="docutils literal notranslate"><span class="pre">unix:&#64;/tmp/unix.sock</span></code> (abstract socket).</p>
<p>Supported connections are now:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TCP</span> <span class="pre">&lt;-&gt;</span> <span class="pre">TCP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UNIX</span> <span class="pre">&lt;-&gt;</span> <span class="pre">UNIX</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TCP</span> <span class="pre">&lt;-&gt;</span> <span class="pre">UNIX</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UNIX</span> <span class="pre">&lt;-&gt;</span> <span class="pre">TCP</span></code></p></li>
</ul>
</section>
<section id="proxy-udp">
<h2><code class="docutils literal notranslate"><span class="pre">proxy_udp</span></code><a class="headerlink" href="#proxy-udp" title="Permalink to this heading">#</a></h2>
<p>Add support for UDP in proxy devices.</p>
<p>Supported connections are now:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TCP</span> <span class="pre">&lt;-&gt;</span> <span class="pre">TCP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UNIX</span> <span class="pre">&lt;-&gt;</span> <span class="pre">UNIX</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TCP</span> <span class="pre">&lt;-&gt;</span> <span class="pre">UNIX</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UNIX</span> <span class="pre">&lt;-&gt;</span> <span class="pre">TCP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UDP</span> <span class="pre">&lt;-&gt;</span> <span class="pre">UDP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TCP</span> <span class="pre">&lt;-&gt;</span> <span class="pre">UDP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UNIX</span> <span class="pre">&lt;-&gt;</span> <span class="pre">UDP</span></code></p></li>
</ul>
</section>
<section id="clustering-join">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_join</span></code><a class="headerlink" href="#clustering-join" title="Permalink to this heading">#</a></h2>
<p>This makes <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/cluster</span></code> return information about which storage pools and
networks are required to be created by joining nodes and which node-specific
configuration keys they are required to use when creating them. Likewise the <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/cluster</span></code> endpoint now accepts the same format to pass information about
storage pools and networks to be automatically created before attempting to join
a cluster.</p>
</section>
<section id="proxy-tcp-udp-multi-port-handling">
<h2><code class="docutils literal notranslate"><span class="pre">proxy_tcp_udp_multi_port_handling</span></code><a class="headerlink" href="#proxy-tcp-udp-multi-port-handling" title="Permalink to this heading">#</a></h2>
<p>Adds support for forwarding traffic for multiple ports. Forwarding is allowed
between a range of ports if the port range is equal for source and target
(for example <code class="docutils literal notranslate"><span class="pre">1.2.3.4</span> <span class="pre">0-1000</span> <span class="pre">-&gt;</span> <span class="pre">5.6.7.8</span> <span class="pre">1000-2000</span></code>) and between a range of source
ports and a single target port (for example <code class="docutils literal notranslate"><span class="pre">1.2.3.4</span> <span class="pre">0-1000</span> <span class="pre">-&gt;</span> <span class="pre">5.6.7.8</span> <span class="pre">1000</span></code>).</p>
</section>
<section id="network-state">
<h2><code class="docutils literal notranslate"><span class="pre">network_state</span></code><a class="headerlink" href="#network-state" title="Permalink to this heading">#</a></h2>
<p>Adds support for retrieving a network’s state.</p>
<p>This adds the following new endpoint (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/networks/&lt;name&gt;/state</span></code></p></li>
</ul>
</section>
<section id="proxy-unix-dac-properties">
<h2><code class="docutils literal notranslate"><span class="pre">proxy_unix_dac_properties</span></code><a class="headerlink" href="#proxy-unix-dac-properties" title="Permalink to this heading">#</a></h2>
<p>This adds support for GID, UID, and mode properties for non-abstract Unix
sockets.</p>
</section>
<section id="container-protection-delete">
<h2><code class="docutils literal notranslate"><span class="pre">container_protection_delete</span></code><a class="headerlink" href="#container-protection-delete" title="Permalink to this heading">#</a></h2>
<p>Enables setting the <code class="docutils literal notranslate"><span class="pre">security.protection.delete</span></code> field which prevents containers
from being deleted if set to <code class="docutils literal notranslate"><span class="pre">true</span></code>. Snapshots are not affected by this setting.</p>
</section>
<section id="proxy-priv-drop">
<h2><code class="docutils literal notranslate"><span class="pre">proxy_priv_drop</span></code><a class="headerlink" href="#proxy-priv-drop" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">security.uid</span></code> and <code class="docutils literal notranslate"><span class="pre">security.gid</span></code> for the proxy devices, allowing
privilege dropping and effectively changing the UID/GID used for
connections to Unix sockets too.</p>
</section>
<section id="pprof-http">
<h2><code class="docutils literal notranslate"><span class="pre">pprof_http</span></code><a class="headerlink" href="#pprof-http" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">core.debug_address</span></code> configuration option to start a debugging HTTP server.</p>
<p>That server currently includes a <code class="docutils literal notranslate"><span class="pre">pprof</span></code> API and replaces the old
<code class="docutils literal notranslate"><span class="pre">cpu-profile</span></code>, <code class="docutils literal notranslate"><span class="pre">memory-profile</span></code> and <code class="docutils literal notranslate"><span class="pre">print-goroutines</span></code> debug options.</p>
</section>
<section id="proxy-haproxy-protocol">
<h2><code class="docutils literal notranslate"><span class="pre">proxy_haproxy_protocol</span></code><a class="headerlink" href="#proxy-haproxy-protocol" title="Permalink to this heading">#</a></h2>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">proxy_protocol</span></code> key to the proxy device which controls the use of the HAProxy PROXY protocol header.</p>
</section>
<section id="network-hwaddr">
<h2><code class="docutils literal notranslate"><span class="pre">network_hwaddr</span></code><a class="headerlink" href="#network-hwaddr" title="Permalink to this heading">#</a></h2>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">bridge.hwaddr</span></code> key to control the MAC address of the bridge.</p>
</section>
<section id="proxy-nat">
<h2><code class="docutils literal notranslate"><span class="pre">proxy_nat</span></code><a class="headerlink" href="#proxy-nat" title="Permalink to this heading">#</a></h2>
<p>This adds optimized UDP/TCP proxying. If the configuration allows, proxying
will be done via <code class="docutils literal notranslate"><span class="pre">iptables</span></code> instead of proxy devices.</p>
</section>
<section id="network-nat-order">
<h2><code class="docutils literal notranslate"><span class="pre">network_nat_order</span></code><a class="headerlink" href="#network-nat-order" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.nat.order</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.nat.order</span></code> configuration keys for LXD bridges.
Those keys control whether to put the LXD rules before or after any pre-existing rules in the chain.</p>
</section>
<section id="container-full">
<h2><code class="docutils literal notranslate"><span class="pre">container_full</span></code><a class="headerlink" href="#container-full" title="Permalink to this heading">#</a></h2>
<p>This introduces a new <code class="docutils literal notranslate"><span class="pre">recursion=2</span></code> mode for <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/containers</span></code> which allows for the retrieval of
all container structs, including the state, snapshots and backup structs.</p>
<p>This effectively allows for <code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">list</span></code> to get all it needs in one query.</p>
</section>
<section id="candid-authentication">
<h2><code class="docutils literal notranslate"><span class="pre">candid_authentication</span></code><a class="headerlink" href="#candid-authentication" title="Permalink to this heading">#</a></h2>
<p>This introduces the new <code class="docutils literal notranslate"><span class="pre">candid.api.url</span></code> configuration option and removes
<code class="docutils literal notranslate"><span class="pre">core.macaroon.endpoint</span></code>.</p>
</section>
<section id="backup-compression">
<h2><code class="docutils literal notranslate"><span class="pre">backup_compression</span></code><a class="headerlink" href="#backup-compression" title="Permalink to this heading">#</a></h2>
<p>This introduces a new <code class="docutils literal notranslate"><span class="pre">backups.compression_algorithm</span></code> configuration key which
allows configuration of backup compression.</p>
</section>
<section id="candid-config">
<h2><code class="docutils literal notranslate"><span class="pre">candid_config</span></code><a class="headerlink" href="#candid-config" title="Permalink to this heading">#</a></h2>
<p>This introduces the configuration keys <code class="docutils literal notranslate"><span class="pre">candid.domains</span></code> and <code class="docutils literal notranslate"><span class="pre">candid.expiry</span></code>. The
former allows specifying allowed/valid Candid domains, the latter makes the
macaroon’s expiry configurable. The <code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">remote</span> <span class="pre">add</span></code> command now has a
<code class="docutils literal notranslate"><span class="pre">--domain</span></code> flag which allows specifying a Candid domain.</p>
</section>
<section id="nvidia-runtime-config">
<h2><code class="docutils literal notranslate"><span class="pre">nvidia_runtime_config</span></code><a class="headerlink" href="#nvidia-runtime-config" title="Permalink to this heading">#</a></h2>
<p>This introduces a few extra configuration keys when using <code class="docutils literal notranslate"><span class="pre">nvidia.runtime</span></code> and the <code class="docutils literal notranslate"><span class="pre">libnvidia-container</span></code> library.
Those keys translate pretty much directly to the matching NVIDIA container environment variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nvidia.driver.capabilities</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">NVIDIA_DRIVER_CAPABILITIES</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nvidia.require.cuda</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">NVIDIA_REQUIRE_CUDA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nvidia.require.driver</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">NVIDIA_REQUIRE_DRIVER</span></code></p></li>
</ul>
</section>
<section id="storage-api-volume-snapshots">
<h2><code class="docutils literal notranslate"><span class="pre">storage_api_volume_snapshots</span></code><a class="headerlink" href="#storage-api-volume-snapshots" title="Permalink to this heading">#</a></h2>
<p>Add support for storage volume snapshots. They work like container snapshots,
only for volumes.</p>
<p>This adds the following new endpoint (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;name&gt;/snapshots</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;name&gt;/snapshots</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;volume&gt;/snapshots/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;volume&gt;/snapshots/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;volume&gt;/snapshots/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/volumes/&lt;type&gt;/&lt;volume&gt;/snapshots/&lt;name&gt;</span></code></p></li>
</ul>
</section>
<section id="storage-unmapped">
<h2><code class="docutils literal notranslate"><span class="pre">storage_unmapped</span></code><a class="headerlink" href="#storage-unmapped" title="Permalink to this heading">#</a></h2>
<p>Introduces a new <code class="docutils literal notranslate"><span class="pre">security.unmapped</span></code> Boolean on storage volumes.</p>
<p>Setting it to <code class="docutils literal notranslate"><span class="pre">true</span></code> will flush the current map on the volume and prevent
any further idmap tracking and remapping on the volume.</p>
<p>This can be used to share data between isolated containers after
attaching it to the container which requires write access.</p>
</section>
<section id="projects">
<h2><code class="docutils literal notranslate"><span class="pre">projects</span></code><a class="headerlink" href="#projects" title="Permalink to this heading">#</a></h2>
<p>Add a new project API, supporting creation, update and deletion of projects.</p>
<p>Projects can hold containers, profiles or images at this point and let
you get a separate view of your LXD resources by switching to it.</p>
</section>
<section id="candid-config-key">
<h2><code class="docutils literal notranslate"><span class="pre">candid_config_key</span></code><a class="headerlink" href="#candid-config-key" title="Permalink to this heading">#</a></h2>
<p>This introduces a new <code class="docutils literal notranslate"><span class="pre">candid.api.key</span></code> option which allows for setting
the expected public key for the endpoint, allowing for safe use of a
HTTP-only Candid server.</p>
</section>
<section id="network-vxlan-ttl">
<h2><code class="docutils literal notranslate"><span class="pre">network_vxlan_ttl</span></code><a class="headerlink" href="#network-vxlan-ttl" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">tunnel.NAME.ttl</span></code> network configuration option which
makes it possible to raise the TTL on VXLAN tunnels.</p>
</section>
<section id="container-incremental-copy">
<h2><code class="docutils literal notranslate"><span class="pre">container_incremental_copy</span></code><a class="headerlink" href="#container-incremental-copy" title="Permalink to this heading">#</a></h2>
<p>This adds support for incremental container copy. When copying a container
using the <code class="docutils literal notranslate"><span class="pre">--refresh</span></code> flag, only the missing or outdated files will be
copied over. Should the target container not exist yet, a normal copy operation
is performed.</p>
</section>
<section id="usb-optional-vendorid">
<h2><code class="docutils literal notranslate"><span class="pre">usb_optional_vendorid</span></code><a class="headerlink" href="#usb-optional-vendorid" title="Permalink to this heading">#</a></h2>
<p>As the name implies, the <code class="docutils literal notranslate"><span class="pre">vendorid</span></code> field on USB devices attached to
containers has now been made optional, allowing for all USB devices to
be passed to a container (similar to what’s done for GPUs).</p>
</section>
<section id="snapshot-scheduling">
<h2><code class="docutils literal notranslate"><span class="pre">snapshot_scheduling</span></code><a class="headerlink" href="#snapshot-scheduling" title="Permalink to this heading">#</a></h2>
<p>This adds support for snapshot scheduling. It introduces three new
configuration keys: <code class="docutils literal notranslate"><span class="pre">snapshots.schedule</span></code>, <code class="docutils literal notranslate"><span class="pre">snapshots.schedule.stopped</span></code>, and
<code class="docutils literal notranslate"><span class="pre">snapshots.pattern</span></code>. Snapshots can be created automatically up to every minute.</p>
</section>
<section id="snapshots-schedule-aliases">
<h2><code class="docutils literal notranslate"><span class="pre">snapshots_schedule_aliases</span></code><a class="headerlink" href="#snapshots-schedule-aliases" title="Permalink to this heading">#</a></h2>
<p>Snapshot schedule can be configured by a comma-separated list of schedule aliases.
Available aliases are <code class="docutils literal notranslate"><span class="pre">&lt;&#64;hourly&gt;</span> <span class="pre">&lt;&#64;daily&gt;</span> <span class="pre">&lt;&#64;midnight&gt;</span> <span class="pre">&lt;&#64;weekly&gt;</span> <span class="pre">&lt;&#64;monthly&gt;</span> <span class="pre">&lt;&#64;annually&gt;</span> <span class="pre">&lt;&#64;yearly&gt;</span> <span class="pre">&lt;&#64;startup&gt;</span></code> for instances,
and <code class="docutils literal notranslate"><span class="pre">&lt;&#64;hourly&gt;</span> <span class="pre">&lt;&#64;daily&gt;</span> <span class="pre">&lt;&#64;midnight&gt;</span> <span class="pre">&lt;&#64;weekly&gt;</span> <span class="pre">&lt;&#64;monthly&gt;</span> <span class="pre">&lt;&#64;annually&gt;</span> <span class="pre">&lt;&#64;yearly&gt;</span></code> for storage volumes.</p>
</section>
<section id="container-copy-project">
<h2><code class="docutils literal notranslate"><span class="pre">container_copy_project</span></code><a class="headerlink" href="#container-copy-project" title="Permalink to this heading">#</a></h2>
<p>Introduces a <code class="docutils literal notranslate"><span class="pre">project</span></code> field to the container source dict, allowing for
copy/move of containers between projects.</p>
</section>
<section id="clustering-server-address">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_server_address</span></code><a class="headerlink" href="#clustering-server-address" title="Permalink to this heading">#</a></h2>
<p>This adds support for configuring a server network address which differs from
the REST API client network address. When bootstrapping a new cluster, clients
can set the new <code class="docutils literal notranslate"><span class="pre">cluster.https_address</span></code> configuration key to specify the address of
the initial server. When joining a new server, clients can set the
<code class="docutils literal notranslate"><span class="pre">core.https_address</span></code> configuration key of the joining server to the REST API
address the joining server should listen at, and set the <code class="docutils literal notranslate"><span class="pre">server_address</span></code>
key in the <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/cluster</span></code> API to the address the joining server should
use for clustering traffic (the value of <code class="docutils literal notranslate"><span class="pre">server_address</span></code> will be
automatically copied to the <code class="docutils literal notranslate"><span class="pre">cluster.https_address</span></code> configuration key of the
joining server).</p>
</section>
<section id="clustering-image-replication">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_image_replication</span></code><a class="headerlink" href="#clustering-image-replication" title="Permalink to this heading">#</a></h2>
<p>Enable image replication across the nodes in the cluster.
A new <code class="docutils literal notranslate"><span class="pre">cluster.images_minimal_replica</span></code> configuration key was introduced can be used
to specify to the minimal numbers of nodes for image replication.</p>
</section>
<section id="container-protection-shift">
<h2><code class="docutils literal notranslate"><span class="pre">container_protection_shift</span></code><a class="headerlink" href="#container-protection-shift" title="Permalink to this heading">#</a></h2>
<p>Enables setting the <code class="docutils literal notranslate"><span class="pre">security.protection.shift</span></code> option which prevents containers
from having their file system shifted.</p>
</section>
<section id="snapshot-expiry">
<h2><code class="docutils literal notranslate"><span class="pre">snapshot_expiry</span></code><a class="headerlink" href="#snapshot-expiry" title="Permalink to this heading">#</a></h2>
<p>This adds support for snapshot expiration. The task is run minutely. The configuration
option <code class="docutils literal notranslate"><span class="pre">snapshots.expiry</span></code> takes an expression in the form of <code class="docutils literal notranslate"><span class="pre">1M</span> <span class="pre">2H</span> <span class="pre">3d</span> <span class="pre">4w</span> <span class="pre">5m</span> <span class="pre">6y</span></code> (1 minute, 2 hours, 3 days, 4 weeks, 5 months, 6 years), however not all
parts have to be used.</p>
<p>Snapshots which are then created will be given an expiry date based on the
expression. This expiry date, defined by <code class="docutils literal notranslate"><span class="pre">expires_at</span></code>, can be manually edited
using the API or <code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">config</span> <span class="pre">edit</span></code>. Snapshots with a valid expiry date will be
removed when the task in run. Expiry can be disabled by setting <code class="docutils literal notranslate"><span class="pre">expires_at</span></code> to
an empty string or <code class="docutils literal notranslate"><span class="pre">0001-01-01T00:00:00Z</span></code> (zero time). This is the default if
<code class="docutils literal notranslate"><span class="pre">snapshots.expiry</span></code> is not set.</p>
<p>This adds the following new endpoint (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/containers/&lt;name&gt;/snapshots/&lt;name&gt;</span></code></p></li>
</ul>
</section>
<section id="snapshot-expiry-creation">
<h2><code class="docutils literal notranslate"><span class="pre">snapshot_expiry_creation</span></code><a class="headerlink" href="#snapshot-expiry-creation" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">expires_at</span></code> to container creation, allowing for override of a
snapshot’s expiry at creation time.</p>
</section>
<section id="network-leases-location">
<h2><code class="docutils literal notranslate"><span class="pre">network_leases_location</span></code><a class="headerlink" href="#network-leases-location" title="Permalink to this heading">#</a></h2>
<p>Introduces a <code class="docutils literal notranslate"><span class="pre">Location</span></code> field in the leases list.
This is used when querying a cluster to show what node a particular
lease was found on.</p>
</section>
<section id="resources-cpu-socket">
<h2><code class="docutils literal notranslate"><span class="pre">resources_cpu_socket</span></code><a class="headerlink" href="#resources-cpu-socket" title="Permalink to this heading">#</a></h2>
<p>Add Socket field to CPU resources in case we get out of order socket information.</p>
</section>
<section id="resources-gpu">
<h2><code class="docutils literal notranslate"><span class="pre">resources_gpu</span></code><a class="headerlink" href="#resources-gpu" title="Permalink to this heading">#</a></h2>
<p>Add a new GPU struct to the server resources, listing all usable GPUs on the system.</p>
</section>
<section id="resources-numa">
<h2><code class="docutils literal notranslate"><span class="pre">resources_numa</span></code><a class="headerlink" href="#resources-numa" title="Permalink to this heading">#</a></h2>
<p>Shows the NUMA node for all CPUs and GPUs.</p>
</section>
<section id="kernel-features">
<h2><code class="docutils literal notranslate"><span class="pre">kernel_features</span></code><a class="headerlink" href="#kernel-features" title="Permalink to this heading">#</a></h2>
<p>Exposes the state of optional kernel features through the server environment.</p>
</section>
<section id="id-map-current">
<h2><code class="docutils literal notranslate"><span class="pre">id_map_current</span></code><a class="headerlink" href="#id-map-current" title="Permalink to this heading">#</a></h2>
<p>This introduces a new internal <code class="docutils literal notranslate"><span class="pre">volatile.idmap.current</span></code> key which is
used to track the current mapping for the container.</p>
<p>This effectively gives us:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">volatile.last_state.idmap</span></code> =&gt; On-disk idmap</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">volatile.idmap.current</span></code> =&gt; Current kernel map</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">volatile.idmap.next</span></code> =&gt; Next on-disk idmap</p></li>
</ul>
<p>This is required to implement environments where the on-disk map isn’t
changed but the kernel map is (e.g. <code class="docutils literal notranslate"><span class="pre">shiftfs</span></code>).</p>
</section>
<section id="event-location">
<h2><code class="docutils literal notranslate"><span class="pre">event_location</span></code><a class="headerlink" href="#event-location" title="Permalink to this heading">#</a></h2>
<p>Expose the location of the generation of API events.</p>
</section>
<section id="storage-api-remote-volume-snapshots">
<h2><code class="docutils literal notranslate"><span class="pre">storage_api_remote_volume_snapshots</span></code><a class="headerlink" href="#storage-api-remote-volume-snapshots" title="Permalink to this heading">#</a></h2>
<p>This allows migrating storage volumes including their snapshots.</p>
</section>
<section id="network-nat-address">
<h2><code class="docutils literal notranslate"><span class="pre">network_nat_address</span></code><a class="headerlink" href="#network-nat-address" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.nat.address</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.nat.address</span></code> configuration keys for LXD bridges.
Those keys control the source address used for outbound traffic from the bridge.</p>
</section>
<section id="container-nic-routes">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_routes</span></code><a class="headerlink" href="#container-nic-routes" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.routes</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.routes</span></code> properties on <code class="docutils literal notranslate"><span class="pre">nic</span></code> type devices.
This allows adding static routes on host to container’s NIC.</p>
</section>
<section id="rbac">
<h2><code class="docutils literal notranslate"><span class="pre">rbac</span></code><a class="headerlink" href="#rbac" title="Permalink to this heading">#</a></h2>
<p>Adds support for RBAC (role based access control). This introduces new configuration keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rbac.api.url</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rbac.api.key</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rbac.api.expiry</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rbac.agent.url</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rbac.agent.username</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rbac.agent.private_key</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rbac.agent.public_key</span></code></p></li>
</ul>
</section>
<section id="cluster-internal-copy">
<h2><code class="docutils literal notranslate"><span class="pre">cluster_internal_copy</span></code><a class="headerlink" href="#cluster-internal-copy" title="Permalink to this heading">#</a></h2>
<p>This makes it possible to do a normal <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers</span></code> to copy a
container between cluster nodes with LXD internally detecting whether a
migration is required.</p>
</section>
<section id="seccomp-notify">
<h2><code class="docutils literal notranslate"><span class="pre">seccomp_notify</span></code><a class="headerlink" href="#seccomp-notify" title="Permalink to this heading">#</a></h2>
<p>If the kernel supports <code class="docutils literal notranslate"><span class="pre">seccomp</span></code>-based syscall interception LXD can be notified
by a container that a registered syscall has been performed. LXD can then
decide to trigger various actions.</p>
</section>
<section id="lxc-features">
<h2><code class="docutils literal notranslate"><span class="pre">lxc_features</span></code><a class="headerlink" href="#lxc-features" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">lxc_features</span></code> section output from the <code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">info</span></code> command
via the <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0</span></code> route. It outputs the result of checks for key features being present in the
underlying LXC library.</p>
</section>
<section id="container-nic-ipvlan">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_ipvlan</span></code><a class="headerlink" href="#container-nic-ipvlan" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipvlan</span></code> <code class="docutils literal notranslate"><span class="pre">nic</span></code> device type.</p>
</section>
<section id="network-vlan-sriov">
<h2><code class="docutils literal notranslate"><span class="pre">network_vlan_sriov</span></code><a class="headerlink" href="#network-vlan-sriov" title="Permalink to this heading">#</a></h2>
<p>This introduces VLAN (<code class="docutils literal notranslate"><span class="pre">vlan</span></code>) and MAC filtering (<code class="docutils literal notranslate"><span class="pre">security.mac_filtering</span></code>) support for SR-IOV devices.</p>
</section>
<section id="storage-cephfs">
<h2><code class="docutils literal notranslate"><span class="pre">storage_cephfs</span></code><a class="headerlink" href="#storage-cephfs" title="Permalink to this heading">#</a></h2>
<p>Add support for CephFS as a storage pool driver. This can only be used
for custom volumes, images and containers should be on Ceph (RBD)
instead.</p>
</section>
<section id="container-nic-ipfilter">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_ipfilter</span></code><a class="headerlink" href="#container-nic-ipfilter" title="Permalink to this heading">#</a></h2>
<p>This introduces container IP filtering (<code class="docutils literal notranslate"><span class="pre">security.ipv4_filtering</span></code> and <code class="docutils literal notranslate"><span class="pre">security.ipv6_filtering</span></code>) support for <code class="docutils literal notranslate"><span class="pre">bridged</span></code> NIC devices.</p>
</section>
<section id="resources-v2">
<h2><code class="docutils literal notranslate"><span class="pre">resources_v2</span></code><a class="headerlink" href="#resources-v2" title="Permalink to this heading">#</a></h2>
<p>Rework the resources API at <code class="docutils literal notranslate"><span class="pre">/1.0/resources</span></code>, especially:</p>
<ul class="simple">
<li><p>CPU</p>
<ul>
<li><p>Fix reporting to track sockets, cores and threads</p></li>
<li><p>Track NUMA node per core</p></li>
<li><p>Track base and turbo frequency per socket</p></li>
<li><p>Track current frequency per core</p></li>
<li><p>Add CPU cache information</p></li>
<li><p>Export the CPU architecture</p></li>
<li><p>Show online/offline status of threads</p></li>
</ul>
</li>
<li><p>Memory</p>
<ul>
<li><p>Add huge-pages tracking</p></li>
<li><p>Track memory consumption per NUMA node too</p></li>
</ul>
</li>
<li><p>GPU</p>
<ul>
<li><p>Split DRM information to separate struct</p></li>
<li><p>Export device names and nodes in DRM struct</p></li>
<li><p>Export device name and node in NVIDIA struct</p></li>
<li><p>Add SR-IOV VF tracking</p></li>
</ul>
</li>
</ul>
</section>
<section id="container-exec-user-group-cwd">
<h2><code class="docutils literal notranslate"><span class="pre">container_exec_user_group_cwd</span></code><a class="headerlink" href="#container-exec-user-group-cwd" title="Permalink to this heading">#</a></h2>
<p>Adds support for specifying <code class="docutils literal notranslate"><span class="pre">User</span></code>, <code class="docutils literal notranslate"><span class="pre">Group</span></code> and <code class="docutils literal notranslate"><span class="pre">Cwd</span></code> during <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers/NAME/exec</span></code>.</p>
</section>
<section id="container-syscall-intercept">
<h2><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept</span></code><a class="headerlink" href="#container-syscall-intercept" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">security.syscalls.intercept.*</span></code> configuration keys to control
what system calls will be intercepted by LXD and processed with
elevated permissions.</p>
</section>
<section id="container-disk-shift">
<h2><code class="docutils literal notranslate"><span class="pre">container_disk_shift</span></code><a class="headerlink" href="#container-disk-shift" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">shift</span></code> property on <code class="docutils literal notranslate"><span class="pre">disk</span></code> devices which controls the use of the <code class="docutils literal notranslate"><span class="pre">shiftfs</span></code> overlay.</p>
</section>
<section id="storage-shifted">
<h2><code class="docutils literal notranslate"><span class="pre">storage_shifted</span></code><a class="headerlink" href="#storage-shifted" title="Permalink to this heading">#</a></h2>
<p>Introduces a new <code class="docutils literal notranslate"><span class="pre">security.shifted</span></code> Boolean on storage volumes.</p>
<p>Setting it to <code class="docutils literal notranslate"><span class="pre">true</span></code> will allow multiple isolated containers to attach the
same storage volume while keeping the file system writable from all of
them.</p>
<p>This makes use of <code class="docutils literal notranslate"><span class="pre">shiftfs</span></code> as an overlay file system.</p>
</section>
<section id="resources-infiniband">
<h2><code class="docutils literal notranslate"><span class="pre">resources_infiniband</span></code><a class="headerlink" href="#resources-infiniband" title="Permalink to this heading">#</a></h2>
<p>Export InfiniBand character device information (<code class="docutils literal notranslate"><span class="pre">issm</span></code>, <code class="docutils literal notranslate"><span class="pre">umad</span></code>, <code class="docutils literal notranslate"><span class="pre">uverb</span></code>) as part of the resources API.</p>
</section>
<section id="daemon-storage">
<h2><code class="docutils literal notranslate"><span class="pre">daemon_storage</span></code><a class="headerlink" href="#daemon-storage" title="Permalink to this heading">#</a></h2>
<p>This introduces two new configuration keys <code class="docutils literal notranslate"><span class="pre">storage.images_volume</span></code> and
<code class="docutils literal notranslate"><span class="pre">storage.backups_volume</span></code> to allow for a storage volume on an existing
pool be used for storing the daemon-wide images and backups artifacts.</p>
</section>
<section id="instances">
<h2><code class="docutils literal notranslate"><span class="pre">instances</span></code><a class="headerlink" href="#instances" title="Permalink to this heading">#</a></h2>
<p>This introduces the concept of instances, of which currently the only type is <code class="docutils literal notranslate"><span class="pre">container</span></code>.</p>
</section>
<section id="image-types">
<h2><code class="docutils literal notranslate"><span class="pre">image_types</span></code><a class="headerlink" href="#image-types" title="Permalink to this heading">#</a></h2>
<p>This introduces support for a new Type field on images, indicating what type of images they are.</p>
</section>
<section id="resources-disk-sata">
<h2><code class="docutils literal notranslate"><span class="pre">resources_disk_sata</span></code><a class="headerlink" href="#resources-disk-sata" title="Permalink to this heading">#</a></h2>
<p>Extends the disk resource API struct to include:</p>
<ul class="simple">
<li><p>Proper detection of SATA devices (type)</p></li>
<li><p>Device path</p></li>
<li><p>Drive RPM</p></li>
<li><p>Block size</p></li>
<li><p>Firmware version</p></li>
<li><p>Serial number</p></li>
</ul>
</section>
<section id="clustering-roles">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_roles</span></code><a class="headerlink" href="#clustering-roles" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">roles</span></code> attribute to cluster entries, exposing a list of
roles that the member serves in the cluster.</p>
</section>
<section id="images-expiry">
<h2><code class="docutils literal notranslate"><span class="pre">images_expiry</span></code><a class="headerlink" href="#images-expiry" title="Permalink to this heading">#</a></h2>
<p>This allows for editing of the expiry date on images.</p>
</section>
<section id="resources-network-firmware">
<h2><code class="docutils literal notranslate"><span class="pre">resources_network_firmware</span></code><a class="headerlink" href="#resources-network-firmware" title="Permalink to this heading">#</a></h2>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">FirmwareVersion</span></code> field to network card entries.</p>
</section>
<section id="backup-compression-algorithm">
<h2><code class="docutils literal notranslate"><span class="pre">backup_compression_algorithm</span></code><a class="headerlink" href="#backup-compression-algorithm" title="Permalink to this heading">#</a></h2>
<p>This adds support for a <code class="docutils literal notranslate"><span class="pre">compression_algorithm</span></code> property when creating a backup (<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/containers/&lt;name&gt;/backups</span></code>).</p>
<p>Setting this property overrides the server default value (<code class="docutils literal notranslate"><span class="pre">backups.compression_algorithm</span></code>).</p>
</section>
<section id="ceph-data-pool-name">
<h2><code class="docutils literal notranslate"><span class="pre">ceph_data_pool_name</span></code><a class="headerlink" href="#ceph-data-pool-name" title="Permalink to this heading">#</a></h2>
<p>This adds support for an optional argument (<code class="docutils literal notranslate"><span class="pre">ceph.osd.data_pool_name</span></code>) when creating
storage pools using Ceph RBD, when this argument is used the pool will store it’s
actual data in the pool specified with <code class="docutils literal notranslate"><span class="pre">data_pool_name</span></code> while keeping the metadata
in the pool specified by <code class="docutils literal notranslate"><span class="pre">pool_name</span></code>.</p>
</section>
<section id="container-syscall-intercept-mount">
<h2><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_mount</span></code><a class="headerlink" href="#container-syscall-intercept-mount" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">security.syscalls.intercept.mount</span></code>,
<code class="docutils literal notranslate"><span class="pre">security.syscalls.intercept.mount.allowed</span></code>, and
<code class="docutils literal notranslate"><span class="pre">security.syscalls.intercept.mount.shift</span></code> configuration keys to control whether
and how the <code class="docutils literal notranslate"><span class="pre">mount</span></code> system call will be intercepted by LXD and processed with
elevated permissions.</p>
</section>
<section id="compression-squashfs">
<h2><code class="docutils literal notranslate"><span class="pre">compression_squashfs</span></code><a class="headerlink" href="#compression-squashfs" title="Permalink to this heading">#</a></h2>
<p>Adds support for importing/exporting of images/backups using SquashFS file system format.</p>
</section>
<section id="container-raw-mount">
<h2><code class="docutils literal notranslate"><span class="pre">container_raw_mount</span></code><a class="headerlink" href="#container-raw-mount" title="Permalink to this heading">#</a></h2>
<p>This adds support for passing in raw mount options for disk devices.</p>
</section>
<section id="container-nic-routed">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_routed</span></code><a class="headerlink" href="#container-nic-routed" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">routed</span></code> <code class="docutils literal notranslate"><span class="pre">nic</span></code> device type.</p>
</section>
<section id="container-syscall-intercept-mount-fuse">
<h2><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_mount_fuse</span></code><a class="headerlink" href="#container-syscall-intercept-mount-fuse" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">security.syscalls.intercept.mount.fuse</span></code> key. It can be used to
redirect file-system mounts to their fuse implementation. To this end, set e.g.
<code class="docutils literal notranslate"><span class="pre">security.syscalls.intercept.mount.fuse=ext4=fuse2fs</span></code>.</p>
</section>
<section id="container-disk-ceph">
<h2><code class="docutils literal notranslate"><span class="pre">container_disk_ceph</span></code><a class="headerlink" href="#container-disk-ceph" title="Permalink to this heading">#</a></h2>
<p>This allows for existing a Ceph RBD or CephFS to be directly connected to a LXD container.</p>
</section>
<section id="virtual-machines">
<h2><code class="docutils literal notranslate"><span class="pre">virtual_machines</span></code><a class="headerlink" href="#virtual-machines" title="Permalink to this heading">#</a></h2>
<p>Add virtual machine support.</p>
</section>
<section id="image-profiles">
<h2><code class="docutils literal notranslate"><span class="pre">image_profiles</span></code><a class="headerlink" href="#image-profiles" title="Permalink to this heading">#</a></h2>
<p>Allows a list of profiles to be applied to an image when launching a new container.</p>
</section>
<section id="clustering-architecture">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_architecture</span></code><a class="headerlink" href="#clustering-architecture" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">architecture</span></code> attribute to cluster members which indicates a cluster
member’s architecture.</p>
</section>
<section id="resources-disk-id">
<h2><code class="docutils literal notranslate"><span class="pre">resources_disk_id</span></code><a class="headerlink" href="#resources-disk-id" title="Permalink to this heading">#</a></h2>
<p>Add a new <code class="docutils literal notranslate"><span class="pre">device_id</span></code> field in the disk entries on the resources API.</p>
</section>
<section id="storage-lvm-stripes">
<h2><code class="docutils literal notranslate"><span class="pre">storage_lvm_stripes</span></code><a class="headerlink" href="#storage-lvm-stripes" title="Permalink to this heading">#</a></h2>
<p>This adds the ability to use LVM stripes on normal volumes and thin pool volumes.</p>
</section>
<section id="vm-boot-priority">
<h2><code class="docutils literal notranslate"><span class="pre">vm_boot_priority</span></code><a class="headerlink" href="#vm-boot-priority" title="Permalink to this heading">#</a></h2>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">boot.priority</span></code> property on NIC and disk devices to control the boot order.</p>
</section>
<section id="unix-hotplug-devices">
<h2><code class="docutils literal notranslate"><span class="pre">unix_hotplug_devices</span></code><a class="headerlink" href="#unix-hotplug-devices" title="Permalink to this heading">#</a></h2>
<p>Adds support for Unix char and block device hotplugging.</p>
</section>
<section id="api-filtering">
<h2><code class="docutils literal notranslate"><span class="pre">api_filtering</span></code><a class="headerlink" href="#api-filtering" title="Permalink to this heading">#</a></h2>
<p>Adds support for filtering the result of a GET request for instances and images.</p>
</section>
<section id="instance-nic-network">
<h2><code class="docutils literal notranslate"><span class="pre">instance_nic_network</span></code><a class="headerlink" href="#instance-nic-network" title="Permalink to this heading">#</a></h2>
<p>Adds support for the <code class="docutils literal notranslate"><span class="pre">network</span></code> property on a NIC device to allow a NIC to be linked to a managed network.
This allows it to inherit some of the network’s settings and allows better validation of IP settings.</p>
</section>
<section id="clustering-sizing">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_sizing</span></code><a class="headerlink" href="#clustering-sizing" title="Permalink to this heading">#</a></h2>
<p>Support specifying a custom values for database voters and standbys.
The new <code class="docutils literal notranslate"><span class="pre">cluster.max_voters</span></code> and <code class="docutils literal notranslate"><span class="pre">cluster.max_standby</span></code> configuration keys were introduced
to specify to the ideal number of database voter and standbys.</p>
</section>
<section id="firewall-driver">
<h2><code class="docutils literal notranslate"><span class="pre">firewall_driver</span></code><a class="headerlink" href="#firewall-driver" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">Firewall</span></code> property to the <code class="docutils literal notranslate"><span class="pre">ServerEnvironment</span></code> struct indicating the firewall driver being used.</p>
</section>
<section id="storage-lvm-vg-force-reuse">
<h2><code class="docutils literal notranslate"><span class="pre">storage_lvm_vg_force_reuse</span></code><a class="headerlink" href="#storage-lvm-vg-force-reuse" title="Permalink to this heading">#</a></h2>
<p>Introduces the ability to create a storage pool from an existing non-empty volume group.
This option should be used with care, as LXD can then not guarantee that volume name conflicts won’t occur
with non-LXD created volumes in the same volume group.
This could also potentially lead to LXD deleting a non-LXD volume should name conflicts occur.</p>
</section>
<section id="container-syscall-intercept-hugetlbfs">
<h2><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_hugetlbfs</span></code><a class="headerlink" href="#container-syscall-intercept-hugetlbfs" title="Permalink to this heading">#</a></h2>
<p>When mount syscall interception is enabled and <code class="docutils literal notranslate"><span class="pre">hugetlbfs</span></code> is specified as an
allowed file system type LXD will mount a separate <code class="docutils literal notranslate"><span class="pre">hugetlbfs</span></code> instance for the
container with the UID and GID mount options set to the container’s root UID
and GID. This ensures that processes in the container can use huge pages.</p>
</section>
<section id="limits-hugepages">
<h2><code class="docutils literal notranslate"><span class="pre">limits_hugepages</span></code><a class="headerlink" href="#limits-hugepages" title="Permalink to this heading">#</a></h2>
<p>This allows to limit the number of huge pages a container can use through the
<code class="docutils literal notranslate"><span class="pre">hugetlb</span></code> cgroup. This means the <code class="docutils literal notranslate"><span class="pre">hugetlb</span></code> cgroup needs to be available. Note, that
limiting huge pages is recommended when intercepting the mount syscall for the
<code class="docutils literal notranslate"><span class="pre">hugetlbfs</span></code> file system to avoid allowing the container to exhaust the host’s
huge pages resources.</p>
</section>
<section id="container-nic-routed-gateway">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_routed_gateway</span></code><a class="headerlink" href="#container-nic-routed-gateway" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.gateway</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.gateway</span></code> NIC configuration keys that can take a value of either <code class="docutils literal notranslate"><span class="pre">auto</span></code> or
<code class="docutils literal notranslate"><span class="pre">none</span></code>. The default value for the key if unspecified is <code class="docutils literal notranslate"><span class="pre">auto</span></code>. This will cause the current behavior of a default
gateway being added inside the container and the same gateway address being added to the host-side interface.
If the value is set to <code class="docutils literal notranslate"><span class="pre">none</span></code> then no default gateway nor will the address be added to the host-side interface.
This allows multiple routed NIC devices to be added to a container.</p>
</section>
<section id="projects-restrictions">
<h2><code class="docutils literal notranslate"><span class="pre">projects_restrictions</span></code><a class="headerlink" href="#projects-restrictions" title="Permalink to this heading">#</a></h2>
<p>This introduces support for the <code class="docutils literal notranslate"><span class="pre">restricted</span></code> configuration key on project, which
can prevent the use of security-sensitive features in a project.</p>
</section>
<section id="custom-volume-snapshot-expiry">
<h2><code class="docutils literal notranslate"><span class="pre">custom_volume_snapshot_expiry</span></code><a class="headerlink" href="#custom-volume-snapshot-expiry" title="Permalink to this heading">#</a></h2>
<p>This allows custom volume snapshots to expiry.
Expiry dates can be set individually, or by setting the <code class="docutils literal notranslate"><span class="pre">snapshots.expiry</span></code> configuration key on the parent custom volume which then automatically applies to all created snapshots.</p>
</section>
<section id="volume-snapshot-scheduling">
<h2><code class="docutils literal notranslate"><span class="pre">volume_snapshot_scheduling</span></code><a class="headerlink" href="#volume-snapshot-scheduling" title="Permalink to this heading">#</a></h2>
<p>This adds support for custom volume snapshot scheduling. It introduces two new
configuration keys: <code class="docutils literal notranslate"><span class="pre">snapshots.schedule</span></code> and
<code class="docutils literal notranslate"><span class="pre">snapshots.pattern</span></code>. Snapshots can be created automatically up to every minute.</p>
</section>
<section id="trust-ca-certificates">
<h2><code class="docutils literal notranslate"><span class="pre">trust_ca_certificates</span></code><a class="headerlink" href="#trust-ca-certificates" title="Permalink to this heading">#</a></h2>
<p>This allows for checking client certificates trusted by the provided CA (<code class="docutils literal notranslate"><span class="pre">server.ca</span></code>).
It can be enabled by setting <code class="docutils literal notranslate"><span class="pre">core.trust_ca_certificates</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.
If enabled, it will perform the check, and bypass the trusted password if <code class="docutils literal notranslate"><span class="pre">true</span></code>.
An exception will be made if the connecting client certificate is in the provided CRL (<code class="docutils literal notranslate"><span class="pre">ca.crl</span></code>).
In this case, it will ask for the password.</p>
</section>
<section id="snapshot-disk-usage">
<h2><code class="docutils literal notranslate"><span class="pre">snapshot_disk_usage</span></code><a class="headerlink" href="#snapshot-disk-usage" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">size</span></code> field to the output of <code class="docutils literal notranslate"><span class="pre">/1.0/instances/&lt;name&gt;/snapshots/&lt;snapshot&gt;</span></code> which represents the disk usage of the snapshot.</p>
</section>
<section id="clustering-edit-roles">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_edit_roles</span></code><a class="headerlink" href="#clustering-edit-roles" title="Permalink to this heading">#</a></h2>
<p>This adds a writable endpoint for cluster members, allowing the editing of their roles.</p>
</section>
<section id="container-nic-routed-host-address">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_routed_host_address</span></code><a class="headerlink" href="#container-nic-routed-host-address" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.host_address</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.host_address</span></code> NIC configuration keys that can be used to control the
host-side <code class="docutils literal notranslate"><span class="pre">veth</span></code> interface’s IP addresses. This can be useful when using multiple routed NICs at the same time and
needing a predictable next-hop address to use.</p>
<p>This also alters the behavior of <code class="docutils literal notranslate"><span class="pre">ipv4.gateway</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.gateway</span></code> NIC configuration keys. When they are set to <code class="docutils literal notranslate"><span class="pre">auto</span></code>
the container will have its default gateway set to the value of <code class="docutils literal notranslate"><span class="pre">ipv4.host_address</span></code> or <code class="docutils literal notranslate"><span class="pre">ipv6.host_address</span></code> respectively.</p>
<p>The default values are:</p>
<p><code class="docutils literal notranslate"><span class="pre">ipv4.host_address</span></code>: <code class="docutils literal notranslate"><span class="pre">169.254.0.1</span></code>
<code class="docutils literal notranslate"><span class="pre">ipv6.host_address</span></code>: <code class="docutils literal notranslate"><span class="pre">fe80::1</span></code></p>
<p>This is backward compatible with the previous default behavior.</p>
</section>
<section id="container-nic-ipvlan-gateway">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_ipvlan_gateway</span></code><a class="headerlink" href="#container-nic-ipvlan-gateway" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.gateway</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.gateway</span></code> NIC configuration keys that can take a value of either <code class="docutils literal notranslate"><span class="pre">auto</span></code> or
<code class="docutils literal notranslate"><span class="pre">none</span></code>. The default value for the key if unspecified is <code class="docutils literal notranslate"><span class="pre">auto</span></code>. This will cause the current behavior of a default
gateway being added inside the container and the same gateway address being added to the host-side interface.
If the value is set to <code class="docutils literal notranslate"><span class="pre">none</span></code> then no default gateway nor will the address be added to the host-side interface.
This allows multiple IPVLAN NIC devices to be added to a container.</p>
</section>
<section id="resources-usb-pci">
<h2><code class="docutils literal notranslate"><span class="pre">resources_usb_pci</span></code><a class="headerlink" href="#resources-usb-pci" title="Permalink to this heading">#</a></h2>
<p>This adds USB and PCI devices to the output of <code class="docutils literal notranslate"><span class="pre">/1.0/resources</span></code>.</p>
</section>
<section id="resources-cpu-threads-numa">
<h2><code class="docutils literal notranslate"><span class="pre">resources_cpu_threads_numa</span></code><a class="headerlink" href="#resources-cpu-threads-numa" title="Permalink to this heading">#</a></h2>
<p>This indicates that the <code class="docutils literal notranslate"><span class="pre">numa_node</span></code> field is now recorded per-thread
rather than per core as some hardware apparently puts threads in
different NUMA domains.</p>
</section>
<section id="resources-cpu-core-die">
<h2><code class="docutils literal notranslate"><span class="pre">resources_cpu_core_die</span></code><a class="headerlink" href="#resources-cpu-core-die" title="Permalink to this heading">#</a></h2>
<p>Exposes the <code class="docutils literal notranslate"><span class="pre">die_id</span></code> information on each core.</p>
</section>
<section id="api-os">
<h2><code class="docutils literal notranslate"><span class="pre">api_os</span></code><a class="headerlink" href="#api-os" title="Permalink to this heading">#</a></h2>
<p>This introduces two new fields in <code class="docutils literal notranslate"><span class="pre">/1.0</span></code>, <code class="docutils literal notranslate"><span class="pre">os</span></code> and <code class="docutils literal notranslate"><span class="pre">os_version</span></code>.</p>
<p>Those are taken from the OS-release data on the system.</p>
</section>
<section id="container-nic-routed-host-table">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_routed_host_table</span></code><a class="headerlink" href="#container-nic-routed-host-table" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.host_table</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.host_table</span></code> NIC configuration keys that can be used to add static routes
for the instance’s IPs to a custom policy routing table by ID.</p>
</section>
<section id="container-nic-ipvlan-host-table">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_ipvlan_host_table</span></code><a class="headerlink" href="#container-nic-ipvlan-host-table" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.host_table</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.host_table</span></code> NIC configuration keys that can be used to add static routes
for the instance’s IPs to a custom policy routing table by ID.</p>
</section>
<section id="container-nic-ipvlan-mode">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_ipvlan_mode</span></code><a class="headerlink" href="#container-nic-ipvlan-mode" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">mode</span></code> NIC configuration key that can be used to switch the <code class="docutils literal notranslate"><span class="pre">ipvlan</span></code> mode into either <code class="docutils literal notranslate"><span class="pre">l2</span></code> or <code class="docutils literal notranslate"><span class="pre">l3s</span></code>.
If not specified, the default value is <code class="docutils literal notranslate"><span class="pre">l3s</span></code> (which is the old behavior).</p>
<p>In <code class="docutils literal notranslate"><span class="pre">l2</span></code> mode the <code class="docutils literal notranslate"><span class="pre">ipv4.address</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.address</span></code> keys will accept addresses in either CIDR or singular formats.
If singular format is used, the default subnet size is taken to be /24 and /64 for IPv4 and IPv6 respectively.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">l2</span></code> mode the <code class="docutils literal notranslate"><span class="pre">ipv4.gateway</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.gateway</span></code> keys accept only a singular IP address.</p>
</section>
<section id="resources-system">
<h2><code class="docutils literal notranslate"><span class="pre">resources_system</span></code><a class="headerlink" href="#resources-system" title="Permalink to this heading">#</a></h2>
<p>This adds system information to the output of <code class="docutils literal notranslate"><span class="pre">/1.0/resources</span></code>.</p>
</section>
<section id="images-push-relay">
<h2><code class="docutils literal notranslate"><span class="pre">images_push_relay</span></code><a class="headerlink" href="#images-push-relay" title="Permalink to this heading">#</a></h2>
<p>This adds the push and relay modes to image copy.
It also introduces the following new endpoint:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">1.0/images/&lt;fingerprint&gt;/export</span></code></p></li>
</ul>
</section>
<section id="network-dns-search">
<h2><code class="docutils literal notranslate"><span class="pre">network_dns_search</span></code><a class="headerlink" href="#network-dns-search" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">dns.search</span></code> configuration option on networks.</p>
</section>
<section id="container-nic-routed-limits">
<h2><code class="docutils literal notranslate"><span class="pre">container_nic_routed_limits</span></code><a class="headerlink" href="#container-nic-routed-limits" title="Permalink to this heading">#</a></h2>
<p>This introduces <code class="docutils literal notranslate"><span class="pre">limits.ingress</span></code>, <code class="docutils literal notranslate"><span class="pre">limits.egress</span></code> and <code class="docutils literal notranslate"><span class="pre">limits.max</span></code> for routed NICs.</p>
</section>
<section id="instance-nic-bridged-vlan">
<h2><code class="docutils literal notranslate"><span class="pre">instance_nic_bridged_vlan</span></code><a class="headerlink" href="#instance-nic-bridged-vlan" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">vlan</span></code> and <code class="docutils literal notranslate"><span class="pre">vlan.tagged</span></code> settings for <code class="docutils literal notranslate"><span class="pre">bridged</span></code> NICs.</p>
<p><code class="docutils literal notranslate"><span class="pre">vlan</span></code> specifies the non-tagged VLAN to join, and <code class="docutils literal notranslate"><span class="pre">vlan.tagged</span></code> is a comma-delimited list of tagged VLANs to join.</p>
</section>
<section id="network-state-bond-bridge">
<h2><code class="docutils literal notranslate"><span class="pre">network_state_bond_bridge</span></code><a class="headerlink" href="#network-state-bond-bridge" title="Permalink to this heading">#</a></h2>
<p>This adds a <code class="docutils literal notranslate"><span class="pre">bridge</span></code> and <code class="docutils literal notranslate"><span class="pre">bond</span></code> section to the <code class="docutils literal notranslate"><span class="pre">/1.0/networks/NAME/state</span></code> API.</p>
<p>Those contain additional state information relevant to those particular types.</p>
<p>Bond:</p>
<ul class="simple">
<li><p>Mode</p></li>
<li><p>Transmit hash</p></li>
<li><p>Up delay</p></li>
<li><p>Down delay</p></li>
<li><p>MII frequency</p></li>
<li><p>MII state</p></li>
<li><p>Lower devices</p></li>
</ul>
<p>Bridge:</p>
<ul class="simple">
<li><p>ID</p></li>
<li><p>Forward delay</p></li>
<li><p>STP mode</p></li>
<li><p>Default VLAN</p></li>
<li><p>VLAN filtering</p></li>
<li><p>Upper devices</p></li>
</ul>
</section>
<section id="resources-cpu-isolated">
<h2><code class="docutils literal notranslate"><span class="pre">resources_cpu_isolated</span></code><a class="headerlink" href="#resources-cpu-isolated" title="Permalink to this heading">#</a></h2>
<p>Add an <code class="docutils literal notranslate"><span class="pre">Isolated</span></code> property on CPU threads to indicate if the thread is
physically <code class="docutils literal notranslate"><span class="pre">Online</span></code> but is configured not to accept tasks.</p>
</section>
<section id="usedby-consistency">
<h2><code class="docutils literal notranslate"><span class="pre">usedby_consistency</span></code><a class="headerlink" href="#usedby-consistency" title="Permalink to this heading">#</a></h2>
<p>This extension indicates that <code class="docutils literal notranslate"><span class="pre">UsedBy</span></code> should now be consistent with
suitable <code class="docutils literal notranslate"><span class="pre">?project=</span></code> and <code class="docutils literal notranslate"><span class="pre">?target=</span></code> when appropriate.</p>
<p>The 5 entities that have <code class="docutils literal notranslate"><span class="pre">UsedBy</span></code> are:</p>
<ul class="simple">
<li><p>Profiles</p></li>
<li><p>Projects</p></li>
<li><p>Networks</p></li>
<li><p>Storage pools</p></li>
<li><p>Storage volumes</p></li>
</ul>
</section>
<section id="custom-block-volumes">
<h2><code class="docutils literal notranslate"><span class="pre">custom_block_volumes</span></code><a class="headerlink" href="#custom-block-volumes" title="Permalink to this heading">#</a></h2>
<p>This adds support for creating and attaching custom block volumes to instances.
It introduces the new <code class="docutils literal notranslate"><span class="pre">--type</span></code> flag when creating custom storage volumes, and accepts the values <code class="docutils literal notranslate"><span class="pre">fs</span></code> and <code class="docutils literal notranslate"><span class="pre">block</span></code>.</p>
</section>
<section id="clustering-failure-domains">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_failure_domains</span></code><a class="headerlink" href="#clustering-failure-domains" title="Permalink to this heading">#</a></h2>
<p>This extension adds a new <code class="docutils literal notranslate"><span class="pre">failure_domain</span></code> field to the <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/cluster/&lt;node&gt;</span></code> API,
which can be used to set the failure domain of a node.</p>
</section>
<section id="container-syscall-filtering-allow-deny-syntax">
<h2><code class="docutils literal notranslate"><span class="pre">container_syscall_filtering_allow_deny_syntax</span></code><a class="headerlink" href="#container-syscall-filtering-allow-deny-syntax" title="Permalink to this heading">#</a></h2>
<p>A number of new syscalls related container configuration keys were updated.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">security.syscalls.deny_default</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security.syscalls.deny_compat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security.syscalls.deny</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security.syscalls.allow</span></code></p></li>
</ul>
</section>
<section id="resources-gpu-mdev">
<h2><code class="docutils literal notranslate"><span class="pre">resources_gpu_mdev</span></code><a class="headerlink" href="#resources-gpu-mdev" title="Permalink to this heading">#</a></h2>
<p>Expose available mediated device profiles and devices in <code class="docutils literal notranslate"><span class="pre">/1.0/resources</span></code>.</p>
</section>
<section id="console-vga-type">
<h2><code class="docutils literal notranslate"><span class="pre">console_vga_type</span></code><a class="headerlink" href="#console-vga-type" title="Permalink to this heading">#</a></h2>
<p>This extends the <code class="docutils literal notranslate"><span class="pre">/1.0/console</span></code> endpoint to take a <code class="docutils literal notranslate"><span class="pre">?type=</span></code> argument, which can
be set to <code class="docutils literal notranslate"><span class="pre">console</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">vga</span></code> (the new type added by this extension).</p>
<p>When doing a <code class="docutils literal notranslate"><span class="pre">POST</span></code> to <code class="docutils literal notranslate"><span class="pre">/1.0/&lt;instance</span> <span class="pre">name&gt;/console?type=vga</span></code> the data WebSocket
returned by the operation in the metadata field will be a bidirectional proxy
attached to a SPICE Unix socket of the target virtual machine.</p>
</section>
<section id="projects-limits-disk">
<h2><code class="docutils literal notranslate"><span class="pre">projects_limits_disk</span></code><a class="headerlink" href="#projects-limits-disk" title="Permalink to this heading">#</a></h2>
<p>Add <code class="docutils literal notranslate"><span class="pre">limits.disk</span></code> to the available project configuration keys. If set, it limits
the total amount of disk space that instances volumes, custom volumes and images
volumes can use in the project.</p>
</section>
<section id="network-type-macvlan">
<h2><code class="docutils literal notranslate"><span class="pre">network_type_macvlan</span></code><a class="headerlink" href="#network-type-macvlan" title="Permalink to this heading">#</a></h2>
<p>Adds support for additional network type <code class="docutils literal notranslate"><span class="pre">macvlan</span></code> and adds <code class="docutils literal notranslate"><span class="pre">parent</span></code> configuration key for this network type to
specify which parent interface should be used for creating NIC device interfaces on top of.</p>
<p>Also adds <code class="docutils literal notranslate"><span class="pre">network</span></code> configuration key support for <code class="docutils literal notranslate"><span class="pre">macvlan</span></code> NICs to allow them to specify the associated network of
the same type that they should use as the basis for the NIC device.</p>
</section>
<section id="network-type-sriov">
<h2><code class="docutils literal notranslate"><span class="pre">network_type_sriov</span></code><a class="headerlink" href="#network-type-sriov" title="Permalink to this heading">#</a></h2>
<p>Adds support for additional network type <code class="docutils literal notranslate"><span class="pre">sriov</span></code> and adds <code class="docutils literal notranslate"><span class="pre">parent</span></code> configuration key for this network type to
specify which parent interface should be used for creating NIC device interfaces on top of.</p>
<p>Also adds <code class="docutils literal notranslate"><span class="pre">network</span></code> configuration key support for <code class="docutils literal notranslate"><span class="pre">sriov</span></code> NICs to allow them to specify the associated network of
the same type that they should use as the basis for the NIC device.</p>
</section>
<section id="container-syscall-intercept-bpf-devices">
<h2><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_bpf_devices</span></code><a class="headerlink" href="#container-syscall-intercept-bpf-devices" title="Permalink to this heading">#</a></h2>
<p>This adds support to intercept the <code class="docutils literal notranslate"><span class="pre">bpf</span></code> syscall in containers. Specifically, it allows to manage device cgroup <code class="docutils literal notranslate"><span class="pre">bpf</span></code> programs.</p>
</section>
<section id="network-type-ovn">
<h2><code class="docutils literal notranslate"><span class="pre">network_type_ovn</span></code><a class="headerlink" href="#network-type-ovn" title="Permalink to this heading">#</a></h2>
<p>Adds support for additional network type <code class="docutils literal notranslate"><span class="pre">ovn</span></code> with the ability to specify a <code class="docutils literal notranslate"><span class="pre">bridge</span></code> type network as the <code class="docutils literal notranslate"><span class="pre">parent</span></code>.</p>
<p>Introduces a new NIC device type of <code class="docutils literal notranslate"><span class="pre">ovn</span></code> which allows the <code class="docutils literal notranslate"><span class="pre">network</span></code> configuration key to specify which <code class="docutils literal notranslate"><span class="pre">ovn</span></code>
type network they should connect to.</p>
<p>Also introduces two new global configuration keys that apply to all <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks and NIC devices:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">network.ovn.integration_bridge</span></code> - the OVS integration bridge to use.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">network.ovn.northbound_connection</span></code> - the OVN northbound database connection string.</p></li>
</ul>
</section>
<section id="projects-networks">
<h2><code class="docutils literal notranslate"><span class="pre">projects_networks</span></code><a class="headerlink" href="#projects-networks" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">features.networks</span></code> configuration key to projects and the ability for a project to hold networks.</p>
</section>
<section id="projects-networks-restricted-uplinks">
<h2><code class="docutils literal notranslate"><span class="pre">projects_networks_restricted_uplinks</span></code><a class="headerlink" href="#projects-networks-restricted-uplinks" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">restricted.networks.uplinks</span></code> project configuration key to indicate (as a comma-delimited list) which networks
the networks created inside the project can use as their uplink network.</p>
</section>
<section id="custom-volume-backup">
<h2><code class="docutils literal notranslate"><span class="pre">custom_volume_backup</span></code><a class="headerlink" href="#custom-volume-backup" title="Permalink to this heading">#</a></h2>
<p>Add custom volume backup support.</p>
<p>This includes the following new endpoints (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/&lt;type&gt;/&lt;volume&gt;/backups</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/&lt;type&gt;/&lt;volume&gt;/backups</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/&lt;type&gt;/&lt;volume&gt;/backups/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/&lt;type&gt;/&lt;volume&gt;/backups/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/&lt;type&gt;/&lt;volume&gt;/backups/&lt;name&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/&lt;type&gt;/&lt;volume&gt;/backups/&lt;name&gt;/export</span></code></p></li>
</ul>
<p>The following existing endpoint has been modified:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/storage-pools/&lt;pool&gt;/&lt;type&gt;/&lt;volume&gt;</span></code> accepts the new source type <code class="docutils literal notranslate"><span class="pre">backup</span></code></p></li>
</ul>
</section>
<section id="backup-override-name">
<h2><code class="docutils literal notranslate"><span class="pre">backup_override_name</span></code><a class="headerlink" href="#backup-override-name" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">Name</span></code> field to <code class="docutils literal notranslate"><span class="pre">InstanceBackupArgs</span></code> to allow specifying a different instance name when restoring a backup.</p>
<p>Adds <code class="docutils literal notranslate"><span class="pre">Name</span></code> and <code class="docutils literal notranslate"><span class="pre">PoolName</span></code> fields to <code class="docutils literal notranslate"><span class="pre">StoragePoolVolumeBackupArgs</span></code> to allow specifying a different volume name
when restoring a custom volume backup.</p>
</section>
<section id="storage-rsync-compression">
<h2><code class="docutils literal notranslate"><span class="pre">storage_rsync_compression</span></code><a class="headerlink" href="#storage-rsync-compression" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">rsync.compression</span></code> configuration key to storage pools. This key can be used
to disable compression in <code class="docutils literal notranslate"><span class="pre">rsync</span></code> while migrating storage pools.</p>
</section>
<section id="network-type-physical">
<h2><code class="docutils literal notranslate"><span class="pre">network_type_physical</span></code><a class="headerlink" href="#network-type-physical" title="Permalink to this heading">#</a></h2>
<p>Adds support for additional network type <code class="docutils literal notranslate"><span class="pre">physical</span></code> that can be used as an uplink for <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks.</p>
<p>The interface specified by <code class="docutils literal notranslate"><span class="pre">parent</span></code> on the <code class="docutils literal notranslate"><span class="pre">physical</span></code> network will be connected to the <code class="docutils literal notranslate"><span class="pre">ovn</span></code> network’s gateway.</p>
</section>
<section id="network-ovn-external-subnets">
<h2><code class="docutils literal notranslate"><span class="pre">network_ovn_external_subnets</span></code><a class="headerlink" href="#network-ovn-external-subnets" title="Permalink to this heading">#</a></h2>
<p>Adds support for <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks to use external subnets from uplink networks.</p>
<p>Introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.routes</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.routes</span></code> setting on <code class="docutils literal notranslate"><span class="pre">physical</span></code> networks that defines the external routes
allowed to be used in child OVN networks in their <code class="docutils literal notranslate"><span class="pre">ipv4.routes.external</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.routes.external</span></code> settings.</p>
<p>Introduces the <code class="docutils literal notranslate"><span class="pre">restricted.networks.subnets</span></code> project setting that specifies which external subnets are allowed to
be used by OVN networks inside the project (if not set then all routes defined on the uplink network are allowed).</p>
</section>
<section id="network-ovn-nat">
<h2><code class="docutils literal notranslate"><span class="pre">network_ovn_nat</span></code><a class="headerlink" href="#network-ovn-nat" title="Permalink to this heading">#</a></h2>
<p>Adds support for <code class="docutils literal notranslate"><span class="pre">ipv4.nat</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.nat</span></code> settings on <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks.</p>
<p>When creating the network if these settings are unspecified, and an equivalent IP address is being generated for
the subnet, then the appropriate NAT setting will added set to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>If the setting is missing then the value is taken as <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
<section id="network-ovn-external-routes-remove">
<h2><code class="docutils literal notranslate"><span class="pre">network_ovn_external_routes_remove</span></code><a class="headerlink" href="#network-ovn-external-routes-remove" title="Permalink to this heading">#</a></h2>
<p>Removes the settings <code class="docutils literal notranslate"><span class="pre">ipv4.routes.external</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.routes.external</span></code> from <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks.</p>
<p>The equivalent settings on the <code class="docutils literal notranslate"><span class="pre">ovn</span></code> NIC type can be used instead for this, rather than having to specify them
both at the network and NIC level.</p>
</section>
<section id="tpm-device-type">
<h2><code class="docutils literal notranslate"><span class="pre">tpm_device_type</span></code><a class="headerlink" href="#tpm-device-type" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">tpm</span></code> device type.</p>
</section>
<section id="storage-zfs-clone-copy-rebase">
<h2><code class="docutils literal notranslate"><span class="pre">storage_zfs_clone_copy_rebase</span></code><a class="headerlink" href="#storage-zfs-clone-copy-rebase" title="Permalink to this heading">#</a></h2>
<p>This introduces <code class="docutils literal notranslate"><span class="pre">rebase</span></code> as a value for <code class="docutils literal notranslate"><span class="pre">zfs.clone_copy</span></code> causing LXD to
track down any <code class="docutils literal notranslate"><span class="pre">image</span></code> dataset in the ancestry line and then perform
send/receive on top of that.</p>
</section>
<section id="gpu-mdev">
<h2><code class="docutils literal notranslate"><span class="pre">gpu_mdev</span></code><a class="headerlink" href="#gpu-mdev" title="Permalink to this heading">#</a></h2>
<p>This adds support for virtual GPUs. It introduces the <code class="docutils literal notranslate"><span class="pre">mdev</span></code> configuration key for GPU devices which takes
a supported <code class="docutils literal notranslate"><span class="pre">mdev</span></code> type, e.g. <code class="docutils literal notranslate"><span class="pre">i915-GVTg_V5_4</span></code>.</p>
</section>
<section id="resources-pci-iommu">
<h2><code class="docutils literal notranslate"><span class="pre">resources_pci_iommu</span></code><a class="headerlink" href="#resources-pci-iommu" title="Permalink to this heading">#</a></h2>
<p>This adds the <code class="docutils literal notranslate"><span class="pre">IOMMUGroup</span></code> field for PCI entries in the resources API.</p>
</section>
<section id="resources-network-usb">
<h2><code class="docutils literal notranslate"><span class="pre">resources_network_usb</span></code><a class="headerlink" href="#resources-network-usb" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">usb_address</span></code> field to the network card entries in the resources API.</p>
</section>
<section id="resources-disk-address">
<h2><code class="docutils literal notranslate"><span class="pre">resources_disk_address</span></code><a class="headerlink" href="#resources-disk-address" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">usb_address</span></code> and <code class="docutils literal notranslate"><span class="pre">pci_address</span></code> fields to the disk entries in the resources API.</p>
</section>
<section id="network-physical-ovn-ingress-mode">
<h2><code class="docutils literal notranslate"><span class="pre">network_physical_ovn_ingress_mode</span></code><a class="headerlink" href="#network-physical-ovn-ingress-mode" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">ovn.ingress_mode</span></code> setting for <code class="docutils literal notranslate"><span class="pre">physical</span></code> networks.</p>
<p>Sets the method that OVN NIC external IPs will be advertised on uplink network.</p>
<p>Either <code class="docutils literal notranslate"><span class="pre">l2proxy</span></code> (proxy ARP/NDP) or <code class="docutils literal notranslate"><span class="pre">routed</span></code>.</p>
</section>
<section id="network-ovn-dhcp">
<h2><code class="docutils literal notranslate"><span class="pre">network_ovn_dhcp</span></code><a class="headerlink" href="#network-ovn-dhcp" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">ipv4.dhcp</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.dhcp</span></code> settings for <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks.</p>
<p>Allows DHCP (and RA for IPv6) to be disabled. Defaults to on.</p>
</section>
<section id="network-physical-routes-anycast">
<h2><code class="docutils literal notranslate"><span class="pre">network_physical_routes_anycast</span></code><a class="headerlink" href="#network-physical-routes-anycast" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">ipv4.routes.anycast</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.routes.anycast</span></code> Boolean settings for <code class="docutils literal notranslate"><span class="pre">physical</span></code> networks. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<p>Allows OVN networks using physical network as uplink to relax external subnet/route overlap detection when used
with <code class="docutils literal notranslate"><span class="pre">ovn.ingress_mode=routed</span></code>.</p>
</section>
<section id="projects-limits-instances">
<h2><code class="docutils literal notranslate"><span class="pre">projects_limits_instances</span></code><a class="headerlink" href="#projects-limits-instances" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">limits.instances</span></code> to the available project configuration keys. If set, it
limits the total number of instances (VMs and containers) that can be used in the project.</p>
</section>
<section id="network-state-vlan">
<h2><code class="docutils literal notranslate"><span class="pre">network_state_vlan</span></code><a class="headerlink" href="#network-state-vlan" title="Permalink to this heading">#</a></h2>
<p>This adds a <code class="docutils literal notranslate"><span class="pre">vlan</span></code> section to the <code class="docutils literal notranslate"><span class="pre">/1.0/networks/NAME/state</span></code> API.</p>
<p>Those contain additional state information relevant to VLAN interfaces:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lower_device</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vid</span></code></p></li>
</ul>
</section>
<section id="instance-nic-bridged-port-isolation">
<h2><code class="docutils literal notranslate"><span class="pre">instance_nic_bridged_port_isolation</span></code><a class="headerlink" href="#instance-nic-bridged-port-isolation" title="Permalink to this heading">#</a></h2>
<p>This adds the <code class="docutils literal notranslate"><span class="pre">security.port_isolation</span></code> field for bridged NIC instances.</p>
</section>
<section id="instance-bulk-state-change">
<h2><code class="docutils literal notranslate"><span class="pre">instance_bulk_state_change</span></code><a class="headerlink" href="#instance-bulk-state-change" title="Permalink to this heading">#</a></h2>
<p>Adds the following endpoint for bulk state change (see <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">RESTful API</span></a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/instances</span></code></p></li>
</ul>
</section>
<section id="network-gvrp">
<h2><code class="docutils literal notranslate"><span class="pre">network_gvrp</span></code><a class="headerlink" href="#network-gvrp" title="Permalink to this heading">#</a></h2>
<p>This adds an optional <code class="docutils literal notranslate"><span class="pre">gvrp</span></code> property to <code class="docutils literal notranslate"><span class="pre">macvlan</span></code> and <code class="docutils literal notranslate"><span class="pre">physical</span></code> networks,
and to <code class="docutils literal notranslate"><span class="pre">ipvlan</span></code>, <code class="docutils literal notranslate"><span class="pre">macvlan</span></code>, <code class="docutils literal notranslate"><span class="pre">routed</span></code> and <code class="docutils literal notranslate"><span class="pre">physical</span></code> NIC devices.</p>
<p>When set, this specifies whether the VLAN should be registered using GARP VLAN
Registration Protocol. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
<section id="instance-pool-move">
<h2><code class="docutils literal notranslate"><span class="pre">instance_pool_move</span></code><a class="headerlink" href="#instance-pool-move" title="Permalink to this heading">#</a></h2>
<p>This adds a <code class="docutils literal notranslate"><span class="pre">pool</span></code> field to the <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/instances/NAME</span></code> API,
allowing for easy move of an instance root disk between pools.</p>
</section>
<section id="gpu-sriov">
<h2><code class="docutils literal notranslate"><span class="pre">gpu_sriov</span></code><a class="headerlink" href="#gpu-sriov" title="Permalink to this heading">#</a></h2>
<p>This adds support for SR-IOV enabled GPUs.
It introduces the <code class="docutils literal notranslate"><span class="pre">sriov</span></code> GPU type property.</p>
</section>
<section id="pci-device-type">
<h2><code class="docutils literal notranslate"><span class="pre">pci_device_type</span></code><a class="headerlink" href="#pci-device-type" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">pci</span></code> device type.</p>
</section>
<section id="storage-volume-state">
<h2><code class="docutils literal notranslate"><span class="pre">storage_volume_state</span></code><a class="headerlink" href="#storage-volume-state" title="Permalink to this heading">#</a></h2>
<p>Add new <code class="docutils literal notranslate"><span class="pre">/1.0/storage-pools/POOL/volumes/VOLUME/state</span></code> API endpoint to get usage data on a volume.</p>
</section>
<section id="network-acl">
<h2><code class="docutils literal notranslate"><span class="pre">network_acl</span></code><a class="headerlink" href="#network-acl" title="Permalink to this heading">#</a></h2>
<p>This adds the concept of network ACLs to API under the API endpoint prefix <code class="docutils literal notranslate"><span class="pre">/1.0/network-acls</span></code>.</p>
</section>
<section id="migration-stateful">
<h2><code class="docutils literal notranslate"><span class="pre">migration_stateful</span></code><a class="headerlink" href="#migration-stateful" title="Permalink to this heading">#</a></h2>
<p>Add a new <code class="docutils literal notranslate"><span class="pre">migration.stateful</span></code> configuration key.</p>
</section>
<section id="disk-state-quota">
<h2><code class="docutils literal notranslate"><span class="pre">disk_state_quota</span></code><a class="headerlink" href="#disk-state-quota" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">size.state</span></code> device configuration key on <code class="docutils literal notranslate"><span class="pre">disk</span></code> devices.</p>
</section>
<section id="storage-ceph-features">
<h2><code class="docutils literal notranslate"><span class="pre">storage_ceph_features</span></code><a class="headerlink" href="#storage-ceph-features" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">ceph.rbd.features</span></code> configuration key on storage pools to control the RBD features used for new volumes.</p>
</section>
<section id="projects-compression">
<h2><code class="docutils literal notranslate"><span class="pre">projects_compression</span></code><a class="headerlink" href="#projects-compression" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">backups.compression_algorithm</span></code> and <code class="docutils literal notranslate"><span class="pre">images.compression_algorithm</span></code> configuration keys which
allows configuration of backup and image compression per-project.</p>
</section>
<section id="projects-images-remote-cache-expiry">
<h2><code class="docutils literal notranslate"><span class="pre">projects_images_remote_cache_expiry</span></code><a class="headerlink" href="#projects-images-remote-cache-expiry" title="Permalink to this heading">#</a></h2>
<p>Add new <code class="docutils literal notranslate"><span class="pre">images.remote_cache_expiry</span></code> configuration key to projects,
allowing for set number of days after which an unused cached remote image will be flushed.</p>
</section>
<section id="certificate-project">
<h2><code class="docutils literal notranslate"><span class="pre">certificate_project</span></code><a class="headerlink" href="#certificate-project" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">restricted</span></code> property to certificates in the API as well as
<code class="docutils literal notranslate"><span class="pre">projects</span></code> holding a list of project names that the certificate has
access to.</p>
</section>
<section id="network-ovn-acl">
<h2><code class="docutils literal notranslate"><span class="pre">network_ovn_acl</span></code><a class="headerlink" href="#network-ovn-acl" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">security.acls</span></code> property to OVN networks and OVN NICs, allowing Network ACLs to be applied.</p>
</section>
<section id="projects-images-auto-update">
<h2><code class="docutils literal notranslate"><span class="pre">projects_images_auto_update</span></code><a class="headerlink" href="#projects-images-auto-update" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">images.auto_update_cached</span></code> and <code class="docutils literal notranslate"><span class="pre">images.auto_update_interval</span></code> configuration keys which
allows configuration of images auto update in projects</p>
</section>
<section id="projects-restricted-cluster-target">
<h2><code class="docutils literal notranslate"><span class="pre">projects_restricted_cluster_target</span></code><a class="headerlink" href="#projects-restricted-cluster-target" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">restricted.cluster.target</span></code> configuration key to project which prevent the user from using –target
to specify what cluster member to place a workload on or the ability to move a workload between members.</p>
</section>
<section id="images-default-architecture">
<h2><code class="docutils literal notranslate"><span class="pre">images_default_architecture</span></code><a class="headerlink" href="#images-default-architecture" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">images.default_architecture</span></code> global configuration key and matching per-project key which lets user tell LXD
what architecture to go with when no specific one is specified as part of the image request.</p>
</section>
<section id="network-ovn-acl-defaults">
<h2><code class="docutils literal notranslate"><span class="pre">network_ovn_acl_defaults</span></code><a class="headerlink" href="#network-ovn-acl-defaults" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">security.acls.default.{in,e}gress.action</span></code> and <code class="docutils literal notranslate"><span class="pre">security.acls.default.{in,e}gress.logged</span></code> configuration keys for
OVN networks and NICs. This replaces the removed ACL <code class="docutils literal notranslate"><span class="pre">default.action</span></code> and <code class="docutils literal notranslate"><span class="pre">default.logged</span></code> keys.</p>
</section>
<section id="gpu-mig">
<h2><code class="docutils literal notranslate"><span class="pre">gpu_mig</span></code><a class="headerlink" href="#gpu-mig" title="Permalink to this heading">#</a></h2>
<p>This adds support for NVIDIA MIG. It introduces the <code class="docutils literal notranslate"><span class="pre">mig</span></code> GPU type and associated configuration keys.</p>
</section>
<section id="project-usage">
<h2><code class="docutils literal notranslate"><span class="pre">project_usage</span></code><a class="headerlink" href="#project-usage" title="Permalink to this heading">#</a></h2>
<p>Adds an API endpoint to get current resource allocations in a project.
Accessible at API <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/projects/&lt;name&gt;/state</span></code>.</p>
</section>
<section id="network-bridge-acl">
<h2><code class="docutils literal notranslate"><span class="pre">network_bridge_acl</span></code><a class="headerlink" href="#network-bridge-acl" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">security.acls</span></code> configuration key to <code class="docutils literal notranslate"><span class="pre">bridge</span></code> networks, allowing Network ACLs to be applied.</p>
<p>Also adds <code class="docutils literal notranslate"><span class="pre">security.acls.default.{in,e}gress.action</span></code> and <code class="docutils literal notranslate"><span class="pre">security.acls.default.{in,e}gress.logged</span></code> configuration keys for
specifying the default behavior for unmatched traffic.</p>
</section>
<section id="warnings">
<h2><code class="docutils literal notranslate"><span class="pre">warnings</span></code><a class="headerlink" href="#warnings" title="Permalink to this heading">#</a></h2>
<p>Warning API for LXD.</p>
<p>This includes the following endpoints (see  <a class="reference internal" href="../rest-api/"><span class="doc std std-doc">Restful API</span></a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/warnings</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/warnings/&lt;uuid&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/warnings/&lt;uuid&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/warnings/&lt;uuid&gt;</span></code></p></li>
</ul>
</section>
<section id="projects-restricted-backups-and-snapshots">
<h2><code class="docutils literal notranslate"><span class="pre">projects_restricted_backups_and_snapshots</span></code><a class="headerlink" href="#projects-restricted-backups-and-snapshots" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">restricted.backups</span></code> and <code class="docutils literal notranslate"><span class="pre">restricted.snapshots</span></code> configuration keys to project which
prevents the user from creation of backups and snapshots.</p>
</section>
<section id="clustering-join-token">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_join_token</span></code><a class="headerlink" href="#clustering-join-token" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/cluster/members</span></code> API endpoint for requesting a join token used when adding new cluster members
without using the trust password.</p>
</section>
<section id="clustering-description">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_description</span></code><a class="headerlink" href="#clustering-description" title="Permalink to this heading">#</a></h2>
<p>Adds an editable description to the cluster members.</p>
</section>
<section id="server-trusted-proxy">
<h2><code class="docutils literal notranslate"><span class="pre">server_trusted_proxy</span></code><a class="headerlink" href="#server-trusted-proxy" title="Permalink to this heading">#</a></h2>
<p>This introduces support for <code class="docutils literal notranslate"><span class="pre">core.https_trusted_proxy</span></code> which has LXD
parse a HAProxy style connection header on such connections and if
present, will rewrite the request’s source address to that provided by
the proxy server.</p>
</section>
<section id="clustering-update-cert">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_update_cert</span></code><a class="headerlink" href="#clustering-update-cert" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/cluster/certificate</span></code> endpoint for updating the cluster
certificate across the whole cluster</p>
</section>
<section id="storage-api-project">
<h2><code class="docutils literal notranslate"><span class="pre">storage_api_project</span></code><a class="headerlink" href="#storage-api-project" title="Permalink to this heading">#</a></h2>
<p>This adds support for copy/move custom storage volumes between projects.</p>
</section>
<section id="server-instance-driver-operational">
<h2><code class="docutils literal notranslate"><span class="pre">server_instance_driver_operational</span></code><a class="headerlink" href="#server-instance-driver-operational" title="Permalink to this heading">#</a></h2>
<p>This modifies the <code class="docutils literal notranslate"><span class="pre">driver</span></code> output for the <code class="docutils literal notranslate"><span class="pre">/1.0</span></code> endpoint to only include drivers which are actually supported and
operational on the server (as opposed to being included in LXD but not operational on the server).</p>
</section>
<section id="server-supported-storage-drivers">
<h2><code class="docutils literal notranslate"><span class="pre">server_supported_storage_drivers</span></code><a class="headerlink" href="#server-supported-storage-drivers" title="Permalink to this heading">#</a></h2>
<p>This adds supported storage driver info to server environment info.</p>
</section>
<section id="event-lifecycle-requestor-address">
<h2><code class="docutils literal notranslate"><span class="pre">event_lifecycle_requestor_address</span></code><a class="headerlink" href="#event-lifecycle-requestor-address" title="Permalink to this heading">#</a></h2>
<p>Adds a new address field to life-cycle requestor.</p>
</section>
<section id="resources-gpu-usb">
<h2><code class="docutils literal notranslate"><span class="pre">resources_gpu_usb</span></code><a class="headerlink" href="#resources-gpu-usb" title="Permalink to this heading">#</a></h2>
<p>Add a new <code class="docutils literal notranslate"><span class="pre">USBAddress</span></code> (<code class="docutils literal notranslate"><span class="pre">usb_address</span></code>) field to <code class="docutils literal notranslate"><span class="pre">ResourcesGPUCard</span></code> (GPU entries) in the resources API.</p>
</section>
<section id="clustering-evacuation">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_evacuation</span></code><a class="headerlink" href="#clustering-evacuation" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/cluster/members/&lt;name&gt;/state</span></code> endpoint for evacuating and restoring cluster members.
It also adds the configuration keys <code class="docutils literal notranslate"><span class="pre">cluster.evacuate</span></code> and <code class="docutils literal notranslate"><span class="pre">volatile.evacuate.origin</span></code> for setting the evacuation method (<code class="docutils literal notranslate"><span class="pre">auto</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code> or <code class="docutils literal notranslate"><span class="pre">migrate</span></code>) and the origin of any migrated instance respectively.</p>
</section>
<section id="network-ovn-nat-address">
<h2><code class="docutils literal notranslate"><span class="pre">network_ovn_nat_address</span></code><a class="headerlink" href="#network-ovn-nat-address" title="Permalink to this heading">#</a></h2>
<p>This introduces the <code class="docutils literal notranslate"><span class="pre">ipv4.nat.address</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.nat.address</span></code> configuration keys for LXD <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks.
Those keys control the source address used for outbound traffic from the OVN virtual network.
These keys can only be specified when the OVN network’s uplink network has <code class="docutils literal notranslate"><span class="pre">ovn.ingress_mode=routed</span></code>.</p>
</section>
<section id="network-bgp">
<h2><code class="docutils literal notranslate"><span class="pre">network_bgp</span></code><a class="headerlink" href="#network-bgp" title="Permalink to this heading">#</a></h2>
<p>This introduces support for LXD acting as a BGP router to advertise
routes to <code class="docutils literal notranslate"><span class="pre">bridge</span></code> and <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks.</p>
<p>This comes with the addition to global configuration of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">core.bgp_address</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">core.bgp_asn</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">core.bgp_routerid</span></code></p></li>
</ul>
<p>The following network configurations keys (<code class="docutils literal notranslate"><span class="pre">bridge</span></code> and <code class="docutils literal notranslate"><span class="pre">physical</span></code>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bgp.peers.&lt;name&gt;.address</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bgp.peers.&lt;name&gt;.asn</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bgp.peers.&lt;name&gt;.password</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bgp.ipv4.nexthop</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bgp.ipv6.nexthop</span></code></p></li>
</ul>
<p>And the following NIC-specific configuration keys (<code class="docutils literal notranslate"><span class="pre">bridged</span></code> NIC type):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ipv4.routes.external</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipv6.routes.external</span></code></p></li>
</ul>
</section>
<section id="network-forward">
<h2><code class="docutils literal notranslate"><span class="pre">network_forward</span></code><a class="headerlink" href="#network-forward" title="Permalink to this heading">#</a></h2>
<p>This introduces the networking address forward functionality. Allowing for <code class="docutils literal notranslate"><span class="pre">bridge</span></code> and <code class="docutils literal notranslate"><span class="pre">ovn</span></code> networks to define
external IP addresses that can be forwarded to internal IP(s) inside their respective networks.</p>
</section>
<section id="custom-volume-refresh">
<h2><code class="docutils literal notranslate"><span class="pre">custom_volume_refresh</span></code><a class="headerlink" href="#custom-volume-refresh" title="Permalink to this heading">#</a></h2>
<p>Adds support for refresh during volume migration.</p>
</section>
<section id="network-counters-errors-dropped">
<h2><code class="docutils literal notranslate"><span class="pre">network_counters_errors_dropped</span></code><a class="headerlink" href="#network-counters-errors-dropped" title="Permalink to this heading">#</a></h2>
<p>This adds the received and sent errors as well as inbound and outbound dropped packets to the network counters.</p>
</section>
<section id="metrics">
<h2><code class="docutils literal notranslate"><span class="pre">metrics</span></code><a class="headerlink" href="#metrics" title="Permalink to this heading">#</a></h2>
<p>This adds metrics to LXD. It returns metrics of running instances using the OpenMetrics format.</p>
<p>This includes the following endpoints:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/metrics</span></code></p></li>
</ul>
</section>
<section id="image-source-project">
<h2><code class="docutils literal notranslate"><span class="pre">image_source_project</span></code><a class="headerlink" href="#image-source-project" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">project</span></code> field to <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/images</span></code> allowing for the source project
to be set at image copy time.</p>
</section>
<section id="clustering-config">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_config</span></code><a class="headerlink" href="#clustering-config" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">config</span></code> property to cluster members with configurable key/value pairs.</p>
</section>
<section id="network-peer">
<h2><code class="docutils literal notranslate"><span class="pre">network_peer</span></code><a class="headerlink" href="#network-peer" title="Permalink to this heading">#</a></h2>
<p>This adds network peering to allow traffic to flow between OVN networks without leaving the OVN subsystem.</p>
</section>
<section id="linux-sysctl">
<h2><code class="docutils literal notranslate"><span class="pre">linux_sysctl</span></code><a class="headerlink" href="#linux-sysctl" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">linux.sysctl.*</span></code> configuration keys allowing users to modify certain kernel parameters
within containers.</p>
</section>
<section id="network-dns">
<h2><code class="docutils literal notranslate"><span class="pre">network_dns</span></code><a class="headerlink" href="#network-dns" title="Permalink to this heading">#</a></h2>
<p>Introduces a built-in DNS server and zones API to provide DNS records for LXD instances.</p>
<p>This introduces the following server configuration key:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">core.dns_address</span></code></p></li>
</ul>
<p>The following network configuration key:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dns.zone.forward</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dns.zone.reverse.ipv4</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dns.zone.reverse.ipv6</span></code></p></li>
</ul>
<p>And the following project configuration key:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">restricted.networks.zones</span></code></p></li>
</ul>
<p>A new REST API is also introduced to manage DNS zones:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/1.0/network-zones</span></code> (GET, POST)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/1.0/network-zones/&lt;name&gt;</span></code> (GET, PUT, PATCH, DELETE)</p></li>
</ul>
</section>
<section id="ovn-nic-acceleration">
<h2><code class="docutils literal notranslate"><span class="pre">ovn_nic_acceleration</span></code><a class="headerlink" href="#ovn-nic-acceleration" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">acceleration</span></code> configuration key to OVN NICs which can be used for enabling hardware offloading.
It takes the values <code class="docutils literal notranslate"><span class="pre">none</span></code> or <code class="docutils literal notranslate"><span class="pre">sriov</span></code>.</p>
</section>
<section id="certificate-self-renewal">
<h2><code class="docutils literal notranslate"><span class="pre">certificate_self_renewal</span></code><a class="headerlink" href="#certificate-self-renewal" title="Permalink to this heading">#</a></h2>
<p>This adds support for renewing a client’s own trust certificate.</p>
</section>
<section id="instance-project-move">
<h2><code class="docutils literal notranslate"><span class="pre">instance_project_move</span></code><a class="headerlink" href="#instance-project-move" title="Permalink to this heading">#</a></h2>
<p>This adds a <code class="docutils literal notranslate"><span class="pre">project</span></code> field to the <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/instances/NAME</span></code> API,
allowing for easy move of an instance between projects.</p>
</section>
<section id="storage-volume-project-move">
<h2><code class="docutils literal notranslate"><span class="pre">storage_volume_project_move</span></code><a class="headerlink" href="#storage-volume-project-move" title="Permalink to this heading">#</a></h2>
<p>This adds support for moving storage volume between projects.</p>
</section>
<section id="cloud-init">
<h2><code class="docutils literal notranslate"><span class="pre">cloud_init</span></code><a class="headerlink" href="#cloud-init" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">cloud-init</span></code> configuration key namespace which contains the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cloud-init.vendor-data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cloud-init.user-data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cloud-init.network-config</span></code></p></li>
</ul>
<p>It also adds a new endpoint <code class="docutils literal notranslate"><span class="pre">/1.0/devices</span></code> to <code class="docutils literal notranslate"><span class="pre">devlxd</span></code> which shows an instance’s devices.</p>
</section>
<section id="network-dns-nat">
<h2><code class="docutils literal notranslate"><span class="pre">network_dns_nat</span></code><a class="headerlink" href="#network-dns-nat" title="Permalink to this heading">#</a></h2>
<p>This introduces <code class="docutils literal notranslate"><span class="pre">network.nat</span></code> as a configuration option on network zones (DNS).</p>
<p>It defaults to the current behavior of generating records for all
instances NICs but if set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, it will instruct LXD to only
generate records for externally reachable addresses.</p>
</section>
<section id="database-leader">
<h2><code class="docutils literal notranslate"><span class="pre">database_leader</span></code><a class="headerlink" href="#database-leader" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">database-leader</span></code> role which is assigned to cluster leader.</p>
</section>
<section id="instance-all-projects">
<h2><code class="docutils literal notranslate"><span class="pre">instance_all_projects</span></code><a class="headerlink" href="#instance-all-projects" title="Permalink to this heading">#</a></h2>
<p>This adds support for displaying instances from all projects.</p>
</section>
<section id="clustering-groups">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_groups</span></code><a class="headerlink" href="#clustering-groups" title="Permalink to this heading">#</a></h2>
<p>Add support for grouping cluster members.</p>
<p>This introduces the following new endpoints:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/1.0/cluster/groups</span></code> (GET, POST)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/1.0/cluster/groups/&lt;name&gt;</span></code> (GET, POST, PUT, PATCH, DELETE)</p></li>
</ul>
<p>The following project restriction is added:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">restricted.cluster.groups</span></code></p></li>
</ul>
</section>
<section id="ceph-rbd-du">
<h2><code class="docutils literal notranslate"><span class="pre">ceph_rbd_du</span></code><a class="headerlink" href="#ceph-rbd-du" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">ceph.rbd.du</span></code> Boolean on Ceph storage pools which allows
disabling the use of the potentially slow <code class="docutils literal notranslate"><span class="pre">rbd</span> <span class="pre">du</span></code> calls.</p>
</section>
<section id="instance-get-full">
<h2><code class="docutils literal notranslate"><span class="pre">instance_get_full</span></code><a class="headerlink" href="#instance-get-full" title="Permalink to this heading">#</a></h2>
<p>This introduces a new <code class="docutils literal notranslate"><span class="pre">recursion=1</span></code> mode for <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/instances/{name}</span></code> which allows for the retrieval of
all instance structs, including the state, snapshots and backup structs.</p>
</section>
<section id="qemu-metrics">
<h2><code class="docutils literal notranslate"><span class="pre">qemu_metrics</span></code><a class="headerlink" href="#qemu-metrics" title="Permalink to this heading">#</a></h2>
<p>This adds a new <code class="docutils literal notranslate"><span class="pre">security.agent.metrics</span></code> Boolean which defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.
When set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, it doesn’t connect to the <code class="docutils literal notranslate"><span class="pre">lxd-agent</span></code> for metrics and other state information, but relies on stats from QEMU.</p>
</section>
<section id="gpu-mig-uuid">
<h2><code class="docutils literal notranslate"><span class="pre">gpu_mig_uuid</span></code><a class="headerlink" href="#gpu-mig-uuid" title="Permalink to this heading">#</a></h2>
<p>Adds support for the new MIG UUID format used by NVIDIA <code class="docutils literal notranslate"><span class="pre">470+</span></code> drivers (for example, <code class="docutils literal notranslate"><span class="pre">MIG-74c6a31a-fde5-5c61-973b-70e12346c202</span></code>),
the <code class="docutils literal notranslate"><span class="pre">MIG-</span></code> prefix can be omitted</p>
<p>This extension supersedes old <code class="docutils literal notranslate"><span class="pre">mig.gi</span></code> and <code class="docutils literal notranslate"><span class="pre">mig.ci</span></code> parameters which are kept for compatibility with old drivers and
cannot be set together.</p>
</section>
<section id="event-project">
<h2><code class="docutils literal notranslate"><span class="pre">event_project</span></code><a class="headerlink" href="#event-project" title="Permalink to this heading">#</a></h2>
<p>Expose the project an API event belongs to.</p>
</section>
<section id="clustering-evacuation-live">
<h2><code class="docutils literal notranslate"><span class="pre">clustering_evacuation_live</span></code><a class="headerlink" href="#clustering-evacuation-live" title="Permalink to this heading">#</a></h2>
<p>This adds <code class="docutils literal notranslate"><span class="pre">live-migrate</span></code> as a configuration option to <code class="docutils literal notranslate"><span class="pre">cluster.evacuate</span></code>, which forces live-migration
of instances during cluster evacuation.</p>
</section>
<section id="instance-allow-inconsistent-copy">
<h2><code class="docutils literal notranslate"><span class="pre">instance_allow_inconsistent_copy</span></code><a class="headerlink" href="#instance-allow-inconsistent-copy" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">allow_inconsistent</span></code> field to instance source on <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/instances</span></code>. If <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">rsync</span></code> will ignore the
<code class="docutils literal notranslate"><span class="pre">Partial</span> <span class="pre">transfer</span> <span class="pre">due</span> <span class="pre">to</span> <span class="pre">vanished</span> <span class="pre">source</span> <span class="pre">files</span></code> (code 24) error when creating an instance from a copy.</p>
</section>
<section id="network-state-ovn">
<h2><code class="docutils literal notranslate"><span class="pre">network_state_ovn</span></code><a class="headerlink" href="#network-state-ovn" title="Permalink to this heading">#</a></h2>
<p>This adds an <code class="docutils literal notranslate"><span class="pre">ovn</span></code> section to the <code class="docutils literal notranslate"><span class="pre">/1.0/networks/NAME/state</span></code> API which contains additional state information relevant to
OVN networks:</p>
<ul class="simple">
<li><p>chassis</p></li>
</ul>
</section>
<section id="storage-volume-api-filtering">
<h2><code class="docutils literal notranslate"><span class="pre">storage_volume_api_filtering</span></code><a class="headerlink" href="#storage-volume-api-filtering" title="Permalink to this heading">#</a></h2>
<p>Adds support for filtering the result of a GET request for storage volumes.</p>
</section>
<section id="image-restrictions">
<h2><code class="docutils literal notranslate"><span class="pre">image_restrictions</span></code><a class="headerlink" href="#image-restrictions" title="Permalink to this heading">#</a></h2>
<p>This extension adds on to the image properties to include image restrictions/host requirements. These requirements
help determine the compatibility between an instance and the host system.</p>
</section>
<section id="storage-zfs-export">
<h2><code class="docutils literal notranslate"><span class="pre">storage_zfs_export</span></code><a class="headerlink" href="#storage-zfs-export" title="Permalink to this heading">#</a></h2>
<p>Introduces the ability to disable zpool export when unmounting pool by setting <code class="docutils literal notranslate"><span class="pre">zfs.export</span></code>.</p>
</section>
<section id="network-dns-records">
<h2><code class="docutils literal notranslate"><span class="pre">network_dns_records</span></code><a class="headerlink" href="#network-dns-records" title="Permalink to this heading">#</a></h2>
<p>This extends the network zones (DNS) API to add the ability to create and manage custom records.</p>
<p>This adds:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/network-zones/ZONE/records</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/network-zones/ZONE/records</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/network-zones/ZONE/records/RECORD</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/1.0/network-zones/ZONE/records/RECORD</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/1.0/network-zones/ZONE/records/RECORD</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/1.0/network-zones/ZONE/records/RECORD</span></code></p></li>
</ul>
</section>
<section id="storage-zfs-reserve-space">
<h2><code class="docutils literal notranslate"><span class="pre">storage_zfs_reserve_space</span></code><a class="headerlink" href="#storage-zfs-reserve-space" title="Permalink to this heading">#</a></h2>
<p>Adds ability to set the <code class="docutils literal notranslate"><span class="pre">reservation</span></code>/<code class="docutils literal notranslate"><span class="pre">refreservation</span></code> ZFS property along with <code class="docutils literal notranslate"><span class="pre">quota</span></code>/<code class="docutils literal notranslate"><span class="pre">refquota</span></code>.</p>
</section>
<section id="network-acl-log">
<h2><code class="docutils literal notranslate"><span class="pre">network_acl_log</span></code><a class="headerlink" href="#network-acl-log" title="Permalink to this heading">#</a></h2>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/networks-acls/NAME/log</span></code> API to retrieve ACL firewall logs.</p>
</section>
<section id="storage-zfs-blocksize">
<h2><code class="docutils literal notranslate"><span class="pre">storage_zfs_blocksize</span></code><a class="headerlink" href="#storage-zfs-blocksize" title="Permalink to this heading">#</a></h2>
<p>Introduces a new <code class="docutils literal notranslate"><span class="pre">zfs.blocksize</span></code> property for ZFS storage volumes which allows to set volume block size.</p>
</section>
<section id="metrics-cpu-seconds">
<h2><code class="docutils literal notranslate"><span class="pre">metrics_cpu_seconds</span></code><a class="headerlink" href="#metrics-cpu-seconds" title="Permalink to this heading">#</a></h2>
<p>This is used to detect whether LXD was fixed to output used CPU time in seconds rather than as milliseconds.</p>
</section>
<section id="instance-snapshot-never">
<h2><code class="docutils literal notranslate"><span class="pre">instance_snapshot_never</span></code><a class="headerlink" href="#instance-snapshot-never" title="Permalink to this heading">#</a></h2>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">&#64;never</span></code> option to <code class="docutils literal notranslate"><span class="pre">snapshots.schedule</span></code> which allows disabling inheritance.</p>
</section>
<section id="certificate-token">
<h2><code class="docutils literal notranslate"><span class="pre">certificate_token</span></code><a class="headerlink" href="#certificate-token" title="Permalink to this heading">#</a></h2>
<p>This adds token-based certificate addition to the trust store as a safer alternative to a trust password.</p>
<p>It adds the <code class="docutils literal notranslate"><span class="pre">token</span></code> field to <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/certificates</span></code>.</p>
</section>
<section id="instance-nic-routed-neighbor-probe">
<h2><code class="docutils literal notranslate"><span class="pre">instance_nic_routed_neighbor_probe</span></code><a class="headerlink" href="#instance-nic-routed-neighbor-probe" title="Permalink to this heading">#</a></h2>
<p>This adds the ability to disable the <code class="docutils literal notranslate"><span class="pre">routed</span></code> NIC IP neighbor probing for availability on the parent network.</p>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">ipv4.neighbor_probe</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6.neighbor_probe</span></code> NIC settings. Defaulting to <code class="docutils literal notranslate"><span class="pre">true</span></code> if not specified.</p>
</section>
<section id="event-hub">
<h2><code class="docutils literal notranslate"><span class="pre">event_hub</span></code><a class="headerlink" href="#event-hub" title="Permalink to this heading">#</a></h2>
<p>This adds support for <code class="docutils literal notranslate"><span class="pre">event-hub</span></code> cluster member role and the <code class="docutils literal notranslate"><span class="pre">ServerEventMode</span></code> environment field.</p>
</section>
<section id="agent-nic-config">
<h2><code class="docutils literal notranslate"><span class="pre">agent_nic_config</span></code><a class="headerlink" href="#agent-nic-config" title="Permalink to this heading">#</a></h2>
<p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, on VM start-up the <code class="docutils literal notranslate"><span class="pre">lxd-agent</span></code> will apply NIC configuration to change the names and MTU of the instance NIC
devices.</p>
</section>
<section id="projects-restricted-intercept">
<h2><code class="docutils literal notranslate"><span class="pre">projects_restricted_intercept</span></code><a class="headerlink" href="#projects-restricted-intercept" title="Permalink to this heading">#</a></h2>
<p>Adds new <code class="docutils literal notranslate"><span class="pre">restricted.container.intercept</span></code> configuration key to allow usually safe system call interception options.</p>
</section>
<section id="metrics-authentication">
<h2><code class="docutils literal notranslate"><span class="pre">metrics_authentication</span></code><a class="headerlink" href="#metrics-authentication" title="Permalink to this heading">#</a></h2>
<p>Introduces a new <code class="docutils literal notranslate"><span class="pre">core.metrics_authentication</span></code> server configuration option to
allow for the <code class="docutils literal notranslate"><span class="pre">/1.0/metrics</span></code> endpoint to be generally available without
client authentication.</p>
</section>
<section id="images-target-project">
<h2><code class="docutils literal notranslate"><span class="pre">images_target_project</span></code><a class="headerlink" href="#images-target-project" title="Permalink to this heading">#</a></h2>
<p>Adds ability to copy image to a project different from the source.</p>
</section>
<section id="cluster-migration-inconsistent-copy">
<h2><code class="docutils literal notranslate"><span class="pre">cluster_migration_inconsistent_copy</span></code><a class="headerlink" href="#cluster-migration-inconsistent-copy" title="Permalink to this heading">#</a></h2>
<p>Adds <code class="docutils literal notranslate"><span class="pre">allow_inconsistent</span></code> field to <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/1.0/instances/&lt;name&gt;</span></code>. Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to allow inconsistent copying between cluster
members.</p>
</section>
<section id="cluster-ovn-chassis">
<h2><code class="docutils literal notranslate"><span class="pre">cluster_ovn_chassis</span></code><a class="headerlink" href="#cluster-ovn-chassis" title="Permalink to this heading">#</a></h2>
<p>Introduces a new <code class="docutils literal notranslate"><span class="pre">ovn-chassis</span></code> cluster role which allows for specifying what cluster member should act as an OVN chassis.</p>
</section>
<section id="container-syscall-intercept-sched-setscheduler">
<h2><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_sched_setscheduler</span></code><a class="headerlink" href="#container-syscall-intercept-sched-setscheduler" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">security.syscalls.intercept.sched_setscheduler</span></code> to allow advanced process priority management in containers.</p>
</section>
<section id="storage-lvm-thinpool-metadata-size">
<h2><code class="docutils literal notranslate"><span class="pre">storage_lvm_thinpool_metadata_size</span></code><a class="headerlink" href="#storage-lvm-thinpool-metadata-size" title="Permalink to this heading">#</a></h2>
<p>Introduces the ability to specify the thin pool metadata volume size via <code class="docutils literal notranslate"><span class="pre">storage.thinpool_metadata_size</span></code>.</p>
<p>If this is not specified then the default is to let LVM pick an appropriate thin pool metadata volume size.</p>
</section>
<section id="storage-volume-state-total">
<h2><code class="docutils literal notranslate"><span class="pre">storage_volume_state_total</span></code><a class="headerlink" href="#storage-volume-state-total" title="Permalink to this heading">#</a></h2>
<p>This adds <code class="docutils literal notranslate"><span class="pre">total</span></code> field to the <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/1.0/storage-pools/{name}/volumes/{type}/{volume}/state</span></code> API.</p>
</section>
<section id="instance-file-head">
<h2><code class="docutils literal notranslate"><span class="pre">instance_file_head</span></code><a class="headerlink" href="#instance-file-head" title="Permalink to this heading">#</a></h2>
<p>Implements HEAD on <code class="docutils literal notranslate"><span class="pre">/1.0/instances/NAME/file</span></code>.</p>
</section>
<section id="resources-pci-vpd">
<h2><code class="docutils literal notranslate"><span class="pre">resources_pci_vpd</span></code><a class="headerlink" href="#resources-pci-vpd" title="Permalink to this heading">#</a></h2>
<p>Adds a new VPD struct to the PCI resource entries.
This struct extracts vendor provided data including the full product name and additional key/value configuration pairs.</p>
</section>
<section id="qemu-raw-conf">
<h2><code class="docutils literal notranslate"><span class="pre">qemu_raw_conf</span></code><a class="headerlink" href="#qemu-raw-conf" title="Permalink to this heading">#</a></h2>
<p>Introduces a <code class="docutils literal notranslate"><span class="pre">raw.qemu.conf</span></code> configuration key to override select sections of the generated <code class="docutils literal notranslate"><span class="pre">qemu.conf</span></code>.</p>
</section>
<section id="storage-cephfs-fscache">
<h2><code class="docutils literal notranslate"><span class="pre">storage_cephfs_fscache</span></code><a class="headerlink" href="#storage-cephfs-fscache" title="Permalink to this heading">#</a></h2>
<p>Add support for <code class="docutils literal notranslate"><span class="pre">fscache</span></code>/<code class="docutils literal notranslate"><span class="pre">cachefilesd</span></code> on CephFS pools through a new <code class="docutils literal notranslate"><span class="pre">cephfs.fscache</span></code> configuration option.</p>
</section>
<section id="vsock-api">
<h2><code class="docutils literal notranslate"><span class="pre">vsock_api</span></code><a class="headerlink" href="#vsock-api" title="Permalink to this heading">#</a></h2>
<p>This introduces a bidirectional <code class="docutils literal notranslate"><span class="pre">vsock</span></code> interface which allows the <code class="docutils literal notranslate"><span class="pre">lxd-agent</span></code> and the LXD server to communicate better.</p>
</section>
<section id="storage-volumes-all-projects">
<h2><code class="docutils literal notranslate"><span class="pre">storage_volumes_all_projects</span></code><a class="headerlink" href="#storage-volumes-all-projects" title="Permalink to this heading">#</a></h2>
<p>This introduces the ability to list storage volumes from all projects.</p>
</section>
<section id="projects-networks-restricted-access">
<h2><code class="docutils literal notranslate"><span class="pre">projects_networks_restricted_access</span></code><a class="headerlink" href="#projects-networks-restricted-access" title="Permalink to this heading">#</a></h2>
<p>Adds the <code class="docutils literal notranslate"><span class="pre">restricted.networks.access</span></code> project configuration key to indicate (as a comma-delimited list) which networks can be accessed inside the project.
If not specified, all networks are accessible (assuming it is also allowed by the <code class="docutils literal notranslate"><span class="pre">restricted.devices.nic</span></code> setting, described below).</p>
<p>This also introduces a change whereby network access is controlled by the project’s <code class="docutils literal notranslate"><span class="pre">restricted.devices.nic</span></code> setting:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">restricted.devices.nic</span></code> is set to <code class="docutils literal notranslate"><span class="pre">managed</span></code> (the default if not specified), only managed networks are accessible.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">restricted.devices.nic</span></code> is set to <code class="docutils literal notranslate"><span class="pre">allow</span></code>, all networks are accessible (dependent on the <code class="docutils literal notranslate"><span class="pre">restricted.networks.access</span></code> setting).</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">restricted.devices.nic</span></code> is set to <code class="docutils literal notranslate"><span class="pre">block</span></code>, no networks are accessible.</p></li>
</ul>
</section>
<section id="cluster-join-token-expiry">
<h2><code class="docutils literal notranslate"><span class="pre">cluster_join_token_expiry</span></code><a class="headerlink" href="#cluster-join-token-expiry" title="Permalink to this heading">#</a></h2>
<p>This adds an expiry to cluster join tokens which defaults to 3 hours, but can be changed by setting the <code class="docutils literal notranslate"><span class="pre">cluster.join_token_expiry</span></code> configuration key.</p>
</section>
<section id="remote-token-expiry">
<h2><code class="docutils literal notranslate"><span class="pre">remote_token_expiry</span></code><a class="headerlink" href="#remote-token-expiry" title="Permalink to this heading">#</a></h2>
<p>This adds an expiry to remote add join tokens.
It can be set in the <code class="docutils literal notranslate"><span class="pre">core.remote_token_expiry</span></code> configuration key, and default to no expiry.</p>
</section>
<section id="cpu-hotplug">
<h2><code class="docutils literal notranslate"><span class="pre">cpu_hotplug</span></code><a class="headerlink" href="#cpu-hotplug" title="Permalink to this heading">#</a></h2>
<p>This adds CPU hotplugging for VMs.
Hotplugging is disabled when using CPU pinning, because this would require hotplugging NUMA devices as well, which is not possible.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
   

<div class="related-pages">
  <a class="next-page" href="../dev-lxd/">
      <div class="page-info">
        <div class="context">
          <span>Next</span>
        </div>
        <div class="title">Communication between instance and host</div>
      </div>
      <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
    </a>
  <a class="prev-page" href="../api/">
      <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
      <div class="page-info">
        <div class="context">
          <span>Previous</span>
        </div>
        
        <div class="title">Main API specification</div>
        
      </div>
    </a>
</div>
<div class="bottom-of-page">
  <div class="left-details">
    <div class="copyright">
        Copyright &#169; 2014-2023 LXD contributors
    </div>

    <div class="last-updated">
      Last updated on Jan 16, 2023</div>
  </div>
  <div class="right-details">

    
    <div class="show-source">
      <a class="muted-link" href="../_sources/api-extensions.md.txt"
         rel="nofollow">Show source</a>
    </div>
    
    <div class="edit-github">
      <a class="muted-link" href="https://github.com/lxc/lxd/edit/master/doc/api-extensions.md">Edit on GitHub</a>
    </div>
    

    </div>
  </div>
</div>

      </footer>
    </div>
    <aside class="toc-drawer">
      
<div class="toc-sticky toc-scroll">
   
    <div class="toc-title-container">
      <span class="toc-title">
       Contents
      </span>
    </div>
    <div class="toc-tree-container">
      <div class="toc-tree">
        <ul>
<li><a class="reference internal" href="#">API extensions</a><ul>
<li><a class="reference internal" href="#storage-zfs-remove-snapshots"><code class="docutils literal notranslate"><span class="pre">storage_zfs_remove_snapshots</span></code></a></li>
<li><a class="reference internal" href="#container-host-shutdown-timeout"><code class="docutils literal notranslate"><span class="pre">container_host_shutdown_timeout</span></code></a></li>
<li><a class="reference internal" href="#container-stop-priority"><code class="docutils literal notranslate"><span class="pre">container_stop_priority</span></code></a></li>
<li><a class="reference internal" href="#container-syscall-filtering"><code class="docutils literal notranslate"><span class="pre">container_syscall_filtering</span></code></a></li>
<li><a class="reference internal" href="#auth-pki"><code class="docutils literal notranslate"><span class="pre">auth_pki</span></code></a></li>
<li><a class="reference internal" href="#container-last-used-at"><code class="docutils literal notranslate"><span class="pre">container_last_used_at</span></code></a></li>
<li><a class="reference internal" href="#etag"><code class="docutils literal notranslate"><span class="pre">etag</span></code></a></li>
<li><a class="reference internal" href="#patch"><code class="docutils literal notranslate"><span class="pre">patch</span></code></a></li>
<li><a class="reference internal" href="#usb-devices"><code class="docutils literal notranslate"><span class="pre">usb_devices</span></code></a></li>
<li><a class="reference internal" href="#https-allowed-credentials"><code class="docutils literal notranslate"><span class="pre">https_allowed_credentials</span></code></a></li>
<li><a class="reference internal" href="#image-compression-algorithm"><code class="docutils literal notranslate"><span class="pre">image_compression_algorithm</span></code></a></li>
<li><a class="reference internal" href="#directory-manipulation"><code class="docutils literal notranslate"><span class="pre">directory_manipulation</span></code></a></li>
<li><a class="reference internal" href="#container-cpu-time"><code class="docutils literal notranslate"><span class="pre">container_cpu_time</span></code></a></li>
<li><a class="reference internal" href="#storage-zfs-use-refquota"><code class="docutils literal notranslate"><span class="pre">storage_zfs_use_refquota</span></code></a></li>
<li><a class="reference internal" href="#storage-lvm-mount-options"><code class="docutils literal notranslate"><span class="pre">storage_lvm_mount_options</span></code></a></li>
<li><a class="reference internal" href="#network"><code class="docutils literal notranslate"><span class="pre">network</span></code></a></li>
<li><a class="reference internal" href="#profile-usedby"><code class="docutils literal notranslate"><span class="pre">profile_usedby</span></code></a></li>
<li><a class="reference internal" href="#container-push"><code class="docutils literal notranslate"><span class="pre">container_push</span></code></a></li>
<li><a class="reference internal" href="#container-exec-recording"><code class="docutils literal notranslate"><span class="pre">container_exec_recording</span></code></a></li>
<li><a class="reference internal" href="#certificate-update"><code class="docutils literal notranslate"><span class="pre">certificate_update</span></code></a></li>
<li><a class="reference internal" href="#container-exec-signal-handling"><code class="docutils literal notranslate"><span class="pre">container_exec_signal_handling</span></code></a></li>
<li><a class="reference internal" href="#gpu-devices"><code class="docutils literal notranslate"><span class="pre">gpu_devices</span></code></a></li>
<li><a class="reference internal" href="#container-image-properties"><code class="docutils literal notranslate"><span class="pre">container_image_properties</span></code></a></li>
<li><a class="reference internal" href="#migration-progress"><code class="docutils literal notranslate"><span class="pre">migration_progress</span></code></a></li>
<li><a class="reference internal" href="#id-map"><code class="docutils literal notranslate"><span class="pre">id_map</span></code></a></li>
<li><a class="reference internal" href="#network-firewall-filtering"><code class="docutils literal notranslate"><span class="pre">network_firewall_filtering</span></code></a></li>
<li><a class="reference internal" href="#network-routes"><code class="docutils literal notranslate"><span class="pre">network_routes</span></code></a></li>
<li><a class="reference internal" href="#storage"><code class="docutils literal notranslate"><span class="pre">storage</span></code></a></li>
<li><a class="reference internal" href="#file-delete"><code class="docutils literal notranslate"><span class="pre">file_delete</span></code></a></li>
<li><a class="reference internal" href="#file-append"><code class="docutils literal notranslate"><span class="pre">file_append</span></code></a></li>
<li><a class="reference internal" href="#network-dhcp-expiry"><code class="docutils literal notranslate"><span class="pre">network_dhcp_expiry</span></code></a></li>
<li><a class="reference internal" href="#storage-lvm-vg-rename"><code class="docutils literal notranslate"><span class="pre">storage_lvm_vg_rename</span></code></a></li>
<li><a class="reference internal" href="#storage-lvm-thinpool-rename"><code class="docutils literal notranslate"><span class="pre">storage_lvm_thinpool_rename</span></code></a></li>
<li><a class="reference internal" href="#network-vlan"><code class="docutils literal notranslate"><span class="pre">network_vlan</span></code></a></li>
<li><a class="reference internal" href="#image-create-aliases"><code class="docutils literal notranslate"><span class="pre">image_create_aliases</span></code></a></li>
<li><a class="reference internal" href="#container-stateless-copy"><code class="docutils literal notranslate"><span class="pre">container_stateless_copy</span></code></a></li>
<li><a class="reference internal" href="#container-only-migration"><code class="docutils literal notranslate"><span class="pre">container_only_migration</span></code></a></li>
<li><a class="reference internal" href="#storage-zfs-clone-copy"><code class="docutils literal notranslate"><span class="pre">storage_zfs_clone_copy</span></code></a></li>
<li><a class="reference internal" href="#unix-device-rename"><code class="docutils literal notranslate"><span class="pre">unix_device_rename</span></code></a></li>
<li><a class="reference internal" href="#storage-rsync-bwlimit"><code class="docutils literal notranslate"><span class="pre">storage_rsync_bwlimit</span></code></a></li>
<li><a class="reference internal" href="#network-vxlan-interface"><code class="docutils literal notranslate"><span class="pre">network_vxlan_interface</span></code></a></li>
<li><a class="reference internal" href="#storage-btrfs-mount-options"><code class="docutils literal notranslate"><span class="pre">storage_btrfs_mount_options</span></code></a></li>
<li><a class="reference internal" href="#entity-description"><code class="docutils literal notranslate"><span class="pre">entity_description</span></code></a></li>
<li><a class="reference internal" href="#image-force-refresh"><code class="docutils literal notranslate"><span class="pre">image_force_refresh</span></code></a></li>
<li><a class="reference internal" href="#storage-lvm-lv-resizing"><code class="docutils literal notranslate"><span class="pre">storage_lvm_lv_resizing</span></code></a></li>
<li><a class="reference internal" href="#id-map-base"><code class="docutils literal notranslate"><span class="pre">id_map_base</span></code></a></li>
<li><a class="reference internal" href="#file-symlinks"><code class="docutils literal notranslate"><span class="pre">file_symlinks</span></code></a></li>
<li><a class="reference internal" href="#container-push-target"><code class="docutils literal notranslate"><span class="pre">container_push_target</span></code></a></li>
<li><a class="reference internal" href="#network-vlan-physical"><code class="docutils literal notranslate"><span class="pre">network_vlan_physical</span></code></a></li>
<li><a class="reference internal" href="#storage-images-delete"><code class="docutils literal notranslate"><span class="pre">storage_images_delete</span></code></a></li>
<li><a class="reference internal" href="#container-edit-metadata"><code class="docutils literal notranslate"><span class="pre">container_edit_metadata</span></code></a></li>
<li><a class="reference internal" href="#container-snapshot-stateful-migration"><code class="docutils literal notranslate"><span class="pre">container_snapshot_stateful_migration</span></code></a></li>
<li><a class="reference internal" href="#storage-driver-ceph"><code class="docutils literal notranslate"><span class="pre">storage_driver_ceph</span></code></a></li>
<li><a class="reference internal" href="#storage-ceph-user-name"><code class="docutils literal notranslate"><span class="pre">storage_ceph_user_name</span></code></a></li>
<li><a class="reference internal" href="#instance-types"><code class="docutils literal notranslate"><span class="pre">instance_types</span></code></a></li>
<li><a class="reference internal" href="#storage-volatile-initial-source"><code class="docutils literal notranslate"><span class="pre">storage_volatile_initial_source</span></code></a></li>
<li><a class="reference internal" href="#storage-ceph-force-osd-reuse"><code class="docutils literal notranslate"><span class="pre">storage_ceph_force_osd_reuse</span></code></a></li>
<li><a class="reference internal" href="#storage-block-filesystem-btrfs"><code class="docutils literal notranslate"><span class="pre">storage_block_filesystem_btrfs</span></code></a></li>
<li><a class="reference internal" href="#resources"><code class="docutils literal notranslate"><span class="pre">resources</span></code></a></li>
<li><a class="reference internal" href="#kernel-limits"><code class="docutils literal notranslate"><span class="pre">kernel_limits</span></code></a></li>
<li><a class="reference internal" href="#storage-api-volume-rename"><code class="docutils literal notranslate"><span class="pre">storage_api_volume_rename</span></code></a></li>
<li><a class="reference internal" href="#external-authentication"><code class="docutils literal notranslate"><span class="pre">external_authentication</span></code></a></li>
<li><a class="reference internal" href="#network-sriov"><code class="docutils literal notranslate"><span class="pre">network_sriov</span></code></a></li>
<li><a class="reference internal" href="#console"><code class="docutils literal notranslate"><span class="pre">console</span></code></a></li>
<li><a class="reference internal" href="#restrict-devlxd"><code class="docutils literal notranslate"><span class="pre">restrict_devlxd</span></code></a></li>
<li><a class="reference internal" href="#migration-pre-copy"><code class="docutils literal notranslate"><span class="pre">migration_pre_copy</span></code></a></li>
<li><a class="reference internal" href="#infiniband"><code class="docutils literal notranslate"><span class="pre">infiniband</span></code></a></li>
<li><a class="reference internal" href="#maas-network"><code class="docutils literal notranslate"><span class="pre">maas_network</span></code></a></li>
<li><a class="reference internal" href="#devlxd-events"><code class="docutils literal notranslate"><span class="pre">devlxd_events</span></code></a></li>
<li><a class="reference internal" href="#proxy"><code class="docutils literal notranslate"><span class="pre">proxy</span></code></a></li>
<li><a class="reference internal" href="#network-dhcp-gateway"><code class="docutils literal notranslate"><span class="pre">network_dhcp_gateway</span></code></a></li>
<li><a class="reference internal" href="#file-get-symlink"><code class="docutils literal notranslate"><span class="pre">file_get_symlink</span></code></a></li>
<li><a class="reference internal" href="#network-leases"><code class="docutils literal notranslate"><span class="pre">network_leases</span></code></a></li>
<li><a class="reference internal" href="#unix-device-hotplug"><code class="docutils literal notranslate"><span class="pre">unix_device_hotplug</span></code></a></li>
<li><a class="reference internal" href="#storage-api-local-volume-handling"><code class="docutils literal notranslate"><span class="pre">storage_api_local_volume_handling</span></code></a></li>
<li><a class="reference internal" href="#operation-description"><code class="docutils literal notranslate"><span class="pre">operation_description</span></code></a></li>
<li><a class="reference internal" href="#clustering"><code class="docutils literal notranslate"><span class="pre">clustering</span></code></a></li>
<li><a class="reference internal" href="#event-lifecycle"><code class="docutils literal notranslate"><span class="pre">event_lifecycle</span></code></a></li>
<li><a class="reference internal" href="#storage-api-remote-volume-handling"><code class="docutils literal notranslate"><span class="pre">storage_api_remote_volume_handling</span></code></a></li>
<li><a class="reference internal" href="#nvidia-runtime"><code class="docutils literal notranslate"><span class="pre">nvidia_runtime</span></code></a></li>
<li><a class="reference internal" href="#container-mount-propagation"><code class="docutils literal notranslate"><span class="pre">container_mount_propagation</span></code></a></li>
<li><a class="reference internal" href="#container-backup"><code class="docutils literal notranslate"><span class="pre">container_backup</span></code></a></li>
<li><a class="reference internal" href="#devlxd-images"><code class="docutils literal notranslate"><span class="pre">devlxd_images</span></code></a></li>
<li><a class="reference internal" href="#container-local-cross-pool-handling"><code class="docutils literal notranslate"><span class="pre">container_local_cross_pool_handling</span></code></a></li>
<li><a class="reference internal" href="#proxy-unix"><code class="docutils literal notranslate"><span class="pre">proxy_unix</span></code></a></li>
<li><a class="reference internal" href="#proxy-udp"><code class="docutils literal notranslate"><span class="pre">proxy_udp</span></code></a></li>
<li><a class="reference internal" href="#clustering-join"><code class="docutils literal notranslate"><span class="pre">clustering_join</span></code></a></li>
<li><a class="reference internal" href="#proxy-tcp-udp-multi-port-handling"><code class="docutils literal notranslate"><span class="pre">proxy_tcp_udp_multi_port_handling</span></code></a></li>
<li><a class="reference internal" href="#network-state"><code class="docutils literal notranslate"><span class="pre">network_state</span></code></a></li>
<li><a class="reference internal" href="#proxy-unix-dac-properties"><code class="docutils literal notranslate"><span class="pre">proxy_unix_dac_properties</span></code></a></li>
<li><a class="reference internal" href="#container-protection-delete"><code class="docutils literal notranslate"><span class="pre">container_protection_delete</span></code></a></li>
<li><a class="reference internal" href="#proxy-priv-drop"><code class="docutils literal notranslate"><span class="pre">proxy_priv_drop</span></code></a></li>
<li><a class="reference internal" href="#pprof-http"><code class="docutils literal notranslate"><span class="pre">pprof_http</span></code></a></li>
<li><a class="reference internal" href="#proxy-haproxy-protocol"><code class="docutils literal notranslate"><span class="pre">proxy_haproxy_protocol</span></code></a></li>
<li><a class="reference internal" href="#network-hwaddr"><code class="docutils literal notranslate"><span class="pre">network_hwaddr</span></code></a></li>
<li><a class="reference internal" href="#proxy-nat"><code class="docutils literal notranslate"><span class="pre">proxy_nat</span></code></a></li>
<li><a class="reference internal" href="#network-nat-order"><code class="docutils literal notranslate"><span class="pre">network_nat_order</span></code></a></li>
<li><a class="reference internal" href="#container-full"><code class="docutils literal notranslate"><span class="pre">container_full</span></code></a></li>
<li><a class="reference internal" href="#candid-authentication"><code class="docutils literal notranslate"><span class="pre">candid_authentication</span></code></a></li>
<li><a class="reference internal" href="#backup-compression"><code class="docutils literal notranslate"><span class="pre">backup_compression</span></code></a></li>
<li><a class="reference internal" href="#candid-config"><code class="docutils literal notranslate"><span class="pre">candid_config</span></code></a></li>
<li><a class="reference internal" href="#nvidia-runtime-config"><code class="docutils literal notranslate"><span class="pre">nvidia_runtime_config</span></code></a></li>
<li><a class="reference internal" href="#storage-api-volume-snapshots"><code class="docutils literal notranslate"><span class="pre">storage_api_volume_snapshots</span></code></a></li>
<li><a class="reference internal" href="#storage-unmapped"><code class="docutils literal notranslate"><span class="pre">storage_unmapped</span></code></a></li>
<li><a class="reference internal" href="#projects"><code class="docutils literal notranslate"><span class="pre">projects</span></code></a></li>
<li><a class="reference internal" href="#candid-config-key"><code class="docutils literal notranslate"><span class="pre">candid_config_key</span></code></a></li>
<li><a class="reference internal" href="#network-vxlan-ttl"><code class="docutils literal notranslate"><span class="pre">network_vxlan_ttl</span></code></a></li>
<li><a class="reference internal" href="#container-incremental-copy"><code class="docutils literal notranslate"><span class="pre">container_incremental_copy</span></code></a></li>
<li><a class="reference internal" href="#usb-optional-vendorid"><code class="docutils literal notranslate"><span class="pre">usb_optional_vendorid</span></code></a></li>
<li><a class="reference internal" href="#snapshot-scheduling"><code class="docutils literal notranslate"><span class="pre">snapshot_scheduling</span></code></a></li>
<li><a class="reference internal" href="#snapshots-schedule-aliases"><code class="docutils literal notranslate"><span class="pre">snapshots_schedule_aliases</span></code></a></li>
<li><a class="reference internal" href="#container-copy-project"><code class="docutils literal notranslate"><span class="pre">container_copy_project</span></code></a></li>
<li><a class="reference internal" href="#clustering-server-address"><code class="docutils literal notranslate"><span class="pre">clustering_server_address</span></code></a></li>
<li><a class="reference internal" href="#clustering-image-replication"><code class="docutils literal notranslate"><span class="pre">clustering_image_replication</span></code></a></li>
<li><a class="reference internal" href="#container-protection-shift"><code class="docutils literal notranslate"><span class="pre">container_protection_shift</span></code></a></li>
<li><a class="reference internal" href="#snapshot-expiry"><code class="docutils literal notranslate"><span class="pre">snapshot_expiry</span></code></a></li>
<li><a class="reference internal" href="#snapshot-expiry-creation"><code class="docutils literal notranslate"><span class="pre">snapshot_expiry_creation</span></code></a></li>
<li><a class="reference internal" href="#network-leases-location"><code class="docutils literal notranslate"><span class="pre">network_leases_location</span></code></a></li>
<li><a class="reference internal" href="#resources-cpu-socket"><code class="docutils literal notranslate"><span class="pre">resources_cpu_socket</span></code></a></li>
<li><a class="reference internal" href="#resources-gpu"><code class="docutils literal notranslate"><span class="pre">resources_gpu</span></code></a></li>
<li><a class="reference internal" href="#resources-numa"><code class="docutils literal notranslate"><span class="pre">resources_numa</span></code></a></li>
<li><a class="reference internal" href="#kernel-features"><code class="docutils literal notranslate"><span class="pre">kernel_features</span></code></a></li>
<li><a class="reference internal" href="#id-map-current"><code class="docutils literal notranslate"><span class="pre">id_map_current</span></code></a></li>
<li><a class="reference internal" href="#event-location"><code class="docutils literal notranslate"><span class="pre">event_location</span></code></a></li>
<li><a class="reference internal" href="#storage-api-remote-volume-snapshots"><code class="docutils literal notranslate"><span class="pre">storage_api_remote_volume_snapshots</span></code></a></li>
<li><a class="reference internal" href="#network-nat-address"><code class="docutils literal notranslate"><span class="pre">network_nat_address</span></code></a></li>
<li><a class="reference internal" href="#container-nic-routes"><code class="docutils literal notranslate"><span class="pre">container_nic_routes</span></code></a></li>
<li><a class="reference internal" href="#rbac"><code class="docutils literal notranslate"><span class="pre">rbac</span></code></a></li>
<li><a class="reference internal" href="#cluster-internal-copy"><code class="docutils literal notranslate"><span class="pre">cluster_internal_copy</span></code></a></li>
<li><a class="reference internal" href="#seccomp-notify"><code class="docutils literal notranslate"><span class="pre">seccomp_notify</span></code></a></li>
<li><a class="reference internal" href="#lxc-features"><code class="docutils literal notranslate"><span class="pre">lxc_features</span></code></a></li>
<li><a class="reference internal" href="#container-nic-ipvlan"><code class="docutils literal notranslate"><span class="pre">container_nic_ipvlan</span></code></a></li>
<li><a class="reference internal" href="#network-vlan-sriov"><code class="docutils literal notranslate"><span class="pre">network_vlan_sriov</span></code></a></li>
<li><a class="reference internal" href="#storage-cephfs"><code class="docutils literal notranslate"><span class="pre">storage_cephfs</span></code></a></li>
<li><a class="reference internal" href="#container-nic-ipfilter"><code class="docutils literal notranslate"><span class="pre">container_nic_ipfilter</span></code></a></li>
<li><a class="reference internal" href="#resources-v2"><code class="docutils literal notranslate"><span class="pre">resources_v2</span></code></a></li>
<li><a class="reference internal" href="#container-exec-user-group-cwd"><code class="docutils literal notranslate"><span class="pre">container_exec_user_group_cwd</span></code></a></li>
<li><a class="reference internal" href="#container-syscall-intercept"><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept</span></code></a></li>
<li><a class="reference internal" href="#container-disk-shift"><code class="docutils literal notranslate"><span class="pre">container_disk_shift</span></code></a></li>
<li><a class="reference internal" href="#storage-shifted"><code class="docutils literal notranslate"><span class="pre">storage_shifted</span></code></a></li>
<li><a class="reference internal" href="#resources-infiniband"><code class="docutils literal notranslate"><span class="pre">resources_infiniband</span></code></a></li>
<li><a class="reference internal" href="#daemon-storage"><code class="docutils literal notranslate"><span class="pre">daemon_storage</span></code></a></li>
<li><a class="reference internal" href="#instances"><code class="docutils literal notranslate"><span class="pre">instances</span></code></a></li>
<li><a class="reference internal" href="#image-types"><code class="docutils literal notranslate"><span class="pre">image_types</span></code></a></li>
<li><a class="reference internal" href="#resources-disk-sata"><code class="docutils literal notranslate"><span class="pre">resources_disk_sata</span></code></a></li>
<li><a class="reference internal" href="#clustering-roles"><code class="docutils literal notranslate"><span class="pre">clustering_roles</span></code></a></li>
<li><a class="reference internal" href="#images-expiry"><code class="docutils literal notranslate"><span class="pre">images_expiry</span></code></a></li>
<li><a class="reference internal" href="#resources-network-firmware"><code class="docutils literal notranslate"><span class="pre">resources_network_firmware</span></code></a></li>
<li><a class="reference internal" href="#backup-compression-algorithm"><code class="docutils literal notranslate"><span class="pre">backup_compression_algorithm</span></code></a></li>
<li><a class="reference internal" href="#ceph-data-pool-name"><code class="docutils literal notranslate"><span class="pre">ceph_data_pool_name</span></code></a></li>
<li><a class="reference internal" href="#container-syscall-intercept-mount"><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_mount</span></code></a></li>
<li><a class="reference internal" href="#compression-squashfs"><code class="docutils literal notranslate"><span class="pre">compression_squashfs</span></code></a></li>
<li><a class="reference internal" href="#container-raw-mount"><code class="docutils literal notranslate"><span class="pre">container_raw_mount</span></code></a></li>
<li><a class="reference internal" href="#container-nic-routed"><code class="docutils literal notranslate"><span class="pre">container_nic_routed</span></code></a></li>
<li><a class="reference internal" href="#container-syscall-intercept-mount-fuse"><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_mount_fuse</span></code></a></li>
<li><a class="reference internal" href="#container-disk-ceph"><code class="docutils literal notranslate"><span class="pre">container_disk_ceph</span></code></a></li>
<li><a class="reference internal" href="#virtual-machines"><code class="docutils literal notranslate"><span class="pre">virtual_machines</span></code></a></li>
<li><a class="reference internal" href="#image-profiles"><code class="docutils literal notranslate"><span class="pre">image_profiles</span></code></a></li>
<li><a class="reference internal" href="#clustering-architecture"><code class="docutils literal notranslate"><span class="pre">clustering_architecture</span></code></a></li>
<li><a class="reference internal" href="#resources-disk-id"><code class="docutils literal notranslate"><span class="pre">resources_disk_id</span></code></a></li>
<li><a class="reference internal" href="#storage-lvm-stripes"><code class="docutils literal notranslate"><span class="pre">storage_lvm_stripes</span></code></a></li>
<li><a class="reference internal" href="#vm-boot-priority"><code class="docutils literal notranslate"><span class="pre">vm_boot_priority</span></code></a></li>
<li><a class="reference internal" href="#unix-hotplug-devices"><code class="docutils literal notranslate"><span class="pre">unix_hotplug_devices</span></code></a></li>
<li><a class="reference internal" href="#api-filtering"><code class="docutils literal notranslate"><span class="pre">api_filtering</span></code></a></li>
<li><a class="reference internal" href="#instance-nic-network"><code class="docutils literal notranslate"><span class="pre">instance_nic_network</span></code></a></li>
<li><a class="reference internal" href="#clustering-sizing"><code class="docutils literal notranslate"><span class="pre">clustering_sizing</span></code></a></li>
<li><a class="reference internal" href="#firewall-driver"><code class="docutils literal notranslate"><span class="pre">firewall_driver</span></code></a></li>
<li><a class="reference internal" href="#storage-lvm-vg-force-reuse"><code class="docutils literal notranslate"><span class="pre">storage_lvm_vg_force_reuse</span></code></a></li>
<li><a class="reference internal" href="#container-syscall-intercept-hugetlbfs"><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_hugetlbfs</span></code></a></li>
<li><a class="reference internal" href="#limits-hugepages"><code class="docutils literal notranslate"><span class="pre">limits_hugepages</span></code></a></li>
<li><a class="reference internal" href="#container-nic-routed-gateway"><code class="docutils literal notranslate"><span class="pre">container_nic_routed_gateway</span></code></a></li>
<li><a class="reference internal" href="#projects-restrictions"><code class="docutils literal notranslate"><span class="pre">projects_restrictions</span></code></a></li>
<li><a class="reference internal" href="#custom-volume-snapshot-expiry"><code class="docutils literal notranslate"><span class="pre">custom_volume_snapshot_expiry</span></code></a></li>
<li><a class="reference internal" href="#volume-snapshot-scheduling"><code class="docutils literal notranslate"><span class="pre">volume_snapshot_scheduling</span></code></a></li>
<li><a class="reference internal" href="#trust-ca-certificates"><code class="docutils literal notranslate"><span class="pre">trust_ca_certificates</span></code></a></li>
<li><a class="reference internal" href="#snapshot-disk-usage"><code class="docutils literal notranslate"><span class="pre">snapshot_disk_usage</span></code></a></li>
<li><a class="reference internal" href="#clustering-edit-roles"><code class="docutils literal notranslate"><span class="pre">clustering_edit_roles</span></code></a></li>
<li><a class="reference internal" href="#container-nic-routed-host-address"><code class="docutils literal notranslate"><span class="pre">container_nic_routed_host_address</span></code></a></li>
<li><a class="reference internal" href="#container-nic-ipvlan-gateway"><code class="docutils literal notranslate"><span class="pre">container_nic_ipvlan_gateway</span></code></a></li>
<li><a class="reference internal" href="#resources-usb-pci"><code class="docutils literal notranslate"><span class="pre">resources_usb_pci</span></code></a></li>
<li><a class="reference internal" href="#resources-cpu-threads-numa"><code class="docutils literal notranslate"><span class="pre">resources_cpu_threads_numa</span></code></a></li>
<li><a class="reference internal" href="#resources-cpu-core-die"><code class="docutils literal notranslate"><span class="pre">resources_cpu_core_die</span></code></a></li>
<li><a class="reference internal" href="#api-os"><code class="docutils literal notranslate"><span class="pre">api_os</span></code></a></li>
<li><a class="reference internal" href="#container-nic-routed-host-table"><code class="docutils literal notranslate"><span class="pre">container_nic_routed_host_table</span></code></a></li>
<li><a class="reference internal" href="#container-nic-ipvlan-host-table"><code class="docutils literal notranslate"><span class="pre">container_nic_ipvlan_host_table</span></code></a></li>
<li><a class="reference internal" href="#container-nic-ipvlan-mode"><code class="docutils literal notranslate"><span class="pre">container_nic_ipvlan_mode</span></code></a></li>
<li><a class="reference internal" href="#resources-system"><code class="docutils literal notranslate"><span class="pre">resources_system</span></code></a></li>
<li><a class="reference internal" href="#images-push-relay"><code class="docutils literal notranslate"><span class="pre">images_push_relay</span></code></a></li>
<li><a class="reference internal" href="#network-dns-search"><code class="docutils literal notranslate"><span class="pre">network_dns_search</span></code></a></li>
<li><a class="reference internal" href="#container-nic-routed-limits"><code class="docutils literal notranslate"><span class="pre">container_nic_routed_limits</span></code></a></li>
<li><a class="reference internal" href="#instance-nic-bridged-vlan"><code class="docutils literal notranslate"><span class="pre">instance_nic_bridged_vlan</span></code></a></li>
<li><a class="reference internal" href="#network-state-bond-bridge"><code class="docutils literal notranslate"><span class="pre">network_state_bond_bridge</span></code></a></li>
<li><a class="reference internal" href="#resources-cpu-isolated"><code class="docutils literal notranslate"><span class="pre">resources_cpu_isolated</span></code></a></li>
<li><a class="reference internal" href="#usedby-consistency"><code class="docutils literal notranslate"><span class="pre">usedby_consistency</span></code></a></li>
<li><a class="reference internal" href="#custom-block-volumes"><code class="docutils literal notranslate"><span class="pre">custom_block_volumes</span></code></a></li>
<li><a class="reference internal" href="#clustering-failure-domains"><code class="docutils literal notranslate"><span class="pre">clustering_failure_domains</span></code></a></li>
<li><a class="reference internal" href="#container-syscall-filtering-allow-deny-syntax"><code class="docutils literal notranslate"><span class="pre">container_syscall_filtering_allow_deny_syntax</span></code></a></li>
<li><a class="reference internal" href="#resources-gpu-mdev"><code class="docutils literal notranslate"><span class="pre">resources_gpu_mdev</span></code></a></li>
<li><a class="reference internal" href="#console-vga-type"><code class="docutils literal notranslate"><span class="pre">console_vga_type</span></code></a></li>
<li><a class="reference internal" href="#projects-limits-disk"><code class="docutils literal notranslate"><span class="pre">projects_limits_disk</span></code></a></li>
<li><a class="reference internal" href="#network-type-macvlan"><code class="docutils literal notranslate"><span class="pre">network_type_macvlan</span></code></a></li>
<li><a class="reference internal" href="#network-type-sriov"><code class="docutils literal notranslate"><span class="pre">network_type_sriov</span></code></a></li>
<li><a class="reference internal" href="#container-syscall-intercept-bpf-devices"><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_bpf_devices</span></code></a></li>
<li><a class="reference internal" href="#network-type-ovn"><code class="docutils literal notranslate"><span class="pre">network_type_ovn</span></code></a></li>
<li><a class="reference internal" href="#projects-networks"><code class="docutils literal notranslate"><span class="pre">projects_networks</span></code></a></li>
<li><a class="reference internal" href="#projects-networks-restricted-uplinks"><code class="docutils literal notranslate"><span class="pre">projects_networks_restricted_uplinks</span></code></a></li>
<li><a class="reference internal" href="#custom-volume-backup"><code class="docutils literal notranslate"><span class="pre">custom_volume_backup</span></code></a></li>
<li><a class="reference internal" href="#backup-override-name"><code class="docutils literal notranslate"><span class="pre">backup_override_name</span></code></a></li>
<li><a class="reference internal" href="#storage-rsync-compression"><code class="docutils literal notranslate"><span class="pre">storage_rsync_compression</span></code></a></li>
<li><a class="reference internal" href="#network-type-physical"><code class="docutils literal notranslate"><span class="pre">network_type_physical</span></code></a></li>
<li><a class="reference internal" href="#network-ovn-external-subnets"><code class="docutils literal notranslate"><span class="pre">network_ovn_external_subnets</span></code></a></li>
<li><a class="reference internal" href="#network-ovn-nat"><code class="docutils literal notranslate"><span class="pre">network_ovn_nat</span></code></a></li>
<li><a class="reference internal" href="#network-ovn-external-routes-remove"><code class="docutils literal notranslate"><span class="pre">network_ovn_external_routes_remove</span></code></a></li>
<li><a class="reference internal" href="#tpm-device-type"><code class="docutils literal notranslate"><span class="pre">tpm_device_type</span></code></a></li>
<li><a class="reference internal" href="#storage-zfs-clone-copy-rebase"><code class="docutils literal notranslate"><span class="pre">storage_zfs_clone_copy_rebase</span></code></a></li>
<li><a class="reference internal" href="#gpu-mdev"><code class="docutils literal notranslate"><span class="pre">gpu_mdev</span></code></a></li>
<li><a class="reference internal" href="#resources-pci-iommu"><code class="docutils literal notranslate"><span class="pre">resources_pci_iommu</span></code></a></li>
<li><a class="reference internal" href="#resources-network-usb"><code class="docutils literal notranslate"><span class="pre">resources_network_usb</span></code></a></li>
<li><a class="reference internal" href="#resources-disk-address"><code class="docutils literal notranslate"><span class="pre">resources_disk_address</span></code></a></li>
<li><a class="reference internal" href="#network-physical-ovn-ingress-mode"><code class="docutils literal notranslate"><span class="pre">network_physical_ovn_ingress_mode</span></code></a></li>
<li><a class="reference internal" href="#network-ovn-dhcp"><code class="docutils literal notranslate"><span class="pre">network_ovn_dhcp</span></code></a></li>
<li><a class="reference internal" href="#network-physical-routes-anycast"><code class="docutils literal notranslate"><span class="pre">network_physical_routes_anycast</span></code></a></li>
<li><a class="reference internal" href="#projects-limits-instances"><code class="docutils literal notranslate"><span class="pre">projects_limits_instances</span></code></a></li>
<li><a class="reference internal" href="#network-state-vlan"><code class="docutils literal notranslate"><span class="pre">network_state_vlan</span></code></a></li>
<li><a class="reference internal" href="#instance-nic-bridged-port-isolation"><code class="docutils literal notranslate"><span class="pre">instance_nic_bridged_port_isolation</span></code></a></li>
<li><a class="reference internal" href="#instance-bulk-state-change"><code class="docutils literal notranslate"><span class="pre">instance_bulk_state_change</span></code></a></li>
<li><a class="reference internal" href="#network-gvrp"><code class="docutils literal notranslate"><span class="pre">network_gvrp</span></code></a></li>
<li><a class="reference internal" href="#instance-pool-move"><code class="docutils literal notranslate"><span class="pre">instance_pool_move</span></code></a></li>
<li><a class="reference internal" href="#gpu-sriov"><code class="docutils literal notranslate"><span class="pre">gpu_sriov</span></code></a></li>
<li><a class="reference internal" href="#pci-device-type"><code class="docutils literal notranslate"><span class="pre">pci_device_type</span></code></a></li>
<li><a class="reference internal" href="#storage-volume-state"><code class="docutils literal notranslate"><span class="pre">storage_volume_state</span></code></a></li>
<li><a class="reference internal" href="#network-acl"><code class="docutils literal notranslate"><span class="pre">network_acl</span></code></a></li>
<li><a class="reference internal" href="#migration-stateful"><code class="docutils literal notranslate"><span class="pre">migration_stateful</span></code></a></li>
<li><a class="reference internal" href="#disk-state-quota"><code class="docutils literal notranslate"><span class="pre">disk_state_quota</span></code></a></li>
<li><a class="reference internal" href="#storage-ceph-features"><code class="docutils literal notranslate"><span class="pre">storage_ceph_features</span></code></a></li>
<li><a class="reference internal" href="#projects-compression"><code class="docutils literal notranslate"><span class="pre">projects_compression</span></code></a></li>
<li><a class="reference internal" href="#projects-images-remote-cache-expiry"><code class="docutils literal notranslate"><span class="pre">projects_images_remote_cache_expiry</span></code></a></li>
<li><a class="reference internal" href="#certificate-project"><code class="docutils literal notranslate"><span class="pre">certificate_project</span></code></a></li>
<li><a class="reference internal" href="#network-ovn-acl"><code class="docutils literal notranslate"><span class="pre">network_ovn_acl</span></code></a></li>
<li><a class="reference internal" href="#projects-images-auto-update"><code class="docutils literal notranslate"><span class="pre">projects_images_auto_update</span></code></a></li>
<li><a class="reference internal" href="#projects-restricted-cluster-target"><code class="docutils literal notranslate"><span class="pre">projects_restricted_cluster_target</span></code></a></li>
<li><a class="reference internal" href="#images-default-architecture"><code class="docutils literal notranslate"><span class="pre">images_default_architecture</span></code></a></li>
<li><a class="reference internal" href="#network-ovn-acl-defaults"><code class="docutils literal notranslate"><span class="pre">network_ovn_acl_defaults</span></code></a></li>
<li><a class="reference internal" href="#gpu-mig"><code class="docutils literal notranslate"><span class="pre">gpu_mig</span></code></a></li>
<li><a class="reference internal" href="#project-usage"><code class="docutils literal notranslate"><span class="pre">project_usage</span></code></a></li>
<li><a class="reference internal" href="#network-bridge-acl"><code class="docutils literal notranslate"><span class="pre">network_bridge_acl</span></code></a></li>
<li><a class="reference internal" href="#warnings"><code class="docutils literal notranslate"><span class="pre">warnings</span></code></a></li>
<li><a class="reference internal" href="#projects-restricted-backups-and-snapshots"><code class="docutils literal notranslate"><span class="pre">projects_restricted_backups_and_snapshots</span></code></a></li>
<li><a class="reference internal" href="#clustering-join-token"><code class="docutils literal notranslate"><span class="pre">clustering_join_token</span></code></a></li>
<li><a class="reference internal" href="#clustering-description"><code class="docutils literal notranslate"><span class="pre">clustering_description</span></code></a></li>
<li><a class="reference internal" href="#server-trusted-proxy"><code class="docutils literal notranslate"><span class="pre">server_trusted_proxy</span></code></a></li>
<li><a class="reference internal" href="#clustering-update-cert"><code class="docutils literal notranslate"><span class="pre">clustering_update_cert</span></code></a></li>
<li><a class="reference internal" href="#storage-api-project"><code class="docutils literal notranslate"><span class="pre">storage_api_project</span></code></a></li>
<li><a class="reference internal" href="#server-instance-driver-operational"><code class="docutils literal notranslate"><span class="pre">server_instance_driver_operational</span></code></a></li>
<li><a class="reference internal" href="#server-supported-storage-drivers"><code class="docutils literal notranslate"><span class="pre">server_supported_storage_drivers</span></code></a></li>
<li><a class="reference internal" href="#event-lifecycle-requestor-address"><code class="docutils literal notranslate"><span class="pre">event_lifecycle_requestor_address</span></code></a></li>
<li><a class="reference internal" href="#resources-gpu-usb"><code class="docutils literal notranslate"><span class="pre">resources_gpu_usb</span></code></a></li>
<li><a class="reference internal" href="#clustering-evacuation"><code class="docutils literal notranslate"><span class="pre">clustering_evacuation</span></code></a></li>
<li><a class="reference internal" href="#network-ovn-nat-address"><code class="docutils literal notranslate"><span class="pre">network_ovn_nat_address</span></code></a></li>
<li><a class="reference internal" href="#network-bgp"><code class="docutils literal notranslate"><span class="pre">network_bgp</span></code></a></li>
<li><a class="reference internal" href="#network-forward"><code class="docutils literal notranslate"><span class="pre">network_forward</span></code></a></li>
<li><a class="reference internal" href="#custom-volume-refresh"><code class="docutils literal notranslate"><span class="pre">custom_volume_refresh</span></code></a></li>
<li><a class="reference internal" href="#network-counters-errors-dropped"><code class="docutils literal notranslate"><span class="pre">network_counters_errors_dropped</span></code></a></li>
<li><a class="reference internal" href="#metrics"><code class="docutils literal notranslate"><span class="pre">metrics</span></code></a></li>
<li><a class="reference internal" href="#image-source-project"><code class="docutils literal notranslate"><span class="pre">image_source_project</span></code></a></li>
<li><a class="reference internal" href="#clustering-config"><code class="docutils literal notranslate"><span class="pre">clustering_config</span></code></a></li>
<li><a class="reference internal" href="#network-peer"><code class="docutils literal notranslate"><span class="pre">network_peer</span></code></a></li>
<li><a class="reference internal" href="#linux-sysctl"><code class="docutils literal notranslate"><span class="pre">linux_sysctl</span></code></a></li>
<li><a class="reference internal" href="#network-dns"><code class="docutils literal notranslate"><span class="pre">network_dns</span></code></a></li>
<li><a class="reference internal" href="#ovn-nic-acceleration"><code class="docutils literal notranslate"><span class="pre">ovn_nic_acceleration</span></code></a></li>
<li><a class="reference internal" href="#certificate-self-renewal"><code class="docutils literal notranslate"><span class="pre">certificate_self_renewal</span></code></a></li>
<li><a class="reference internal" href="#instance-project-move"><code class="docutils literal notranslate"><span class="pre">instance_project_move</span></code></a></li>
<li><a class="reference internal" href="#storage-volume-project-move"><code class="docutils literal notranslate"><span class="pre">storage_volume_project_move</span></code></a></li>
<li><a class="reference internal" href="#cloud-init"><code class="docutils literal notranslate"><span class="pre">cloud_init</span></code></a></li>
<li><a class="reference internal" href="#network-dns-nat"><code class="docutils literal notranslate"><span class="pre">network_dns_nat</span></code></a></li>
<li><a class="reference internal" href="#database-leader"><code class="docutils literal notranslate"><span class="pre">database_leader</span></code></a></li>
<li><a class="reference internal" href="#instance-all-projects"><code class="docutils literal notranslate"><span class="pre">instance_all_projects</span></code></a></li>
<li><a class="reference internal" href="#clustering-groups"><code class="docutils literal notranslate"><span class="pre">clustering_groups</span></code></a></li>
<li><a class="reference internal" href="#ceph-rbd-du"><code class="docutils literal notranslate"><span class="pre">ceph_rbd_du</span></code></a></li>
<li><a class="reference internal" href="#instance-get-full"><code class="docutils literal notranslate"><span class="pre">instance_get_full</span></code></a></li>
<li><a class="reference internal" href="#qemu-metrics"><code class="docutils literal notranslate"><span class="pre">qemu_metrics</span></code></a></li>
<li><a class="reference internal" href="#gpu-mig-uuid"><code class="docutils literal notranslate"><span class="pre">gpu_mig_uuid</span></code></a></li>
<li><a class="reference internal" href="#event-project"><code class="docutils literal notranslate"><span class="pre">event_project</span></code></a></li>
<li><a class="reference internal" href="#clustering-evacuation-live"><code class="docutils literal notranslate"><span class="pre">clustering_evacuation_live</span></code></a></li>
<li><a class="reference internal" href="#instance-allow-inconsistent-copy"><code class="docutils literal notranslate"><span class="pre">instance_allow_inconsistent_copy</span></code></a></li>
<li><a class="reference internal" href="#network-state-ovn"><code class="docutils literal notranslate"><span class="pre">network_state_ovn</span></code></a></li>
<li><a class="reference internal" href="#storage-volume-api-filtering"><code class="docutils literal notranslate"><span class="pre">storage_volume_api_filtering</span></code></a></li>
<li><a class="reference internal" href="#image-restrictions"><code class="docutils literal notranslate"><span class="pre">image_restrictions</span></code></a></li>
<li><a class="reference internal" href="#storage-zfs-export"><code class="docutils literal notranslate"><span class="pre">storage_zfs_export</span></code></a></li>
<li><a class="reference internal" href="#network-dns-records"><code class="docutils literal notranslate"><span class="pre">network_dns_records</span></code></a></li>
<li><a class="reference internal" href="#storage-zfs-reserve-space"><code class="docutils literal notranslate"><span class="pre">storage_zfs_reserve_space</span></code></a></li>
<li><a class="reference internal" href="#network-acl-log"><code class="docutils literal notranslate"><span class="pre">network_acl_log</span></code></a></li>
<li><a class="reference internal" href="#storage-zfs-blocksize"><code class="docutils literal notranslate"><span class="pre">storage_zfs_blocksize</span></code></a></li>
<li><a class="reference internal" href="#metrics-cpu-seconds"><code class="docutils literal notranslate"><span class="pre">metrics_cpu_seconds</span></code></a></li>
<li><a class="reference internal" href="#instance-snapshot-never"><code class="docutils literal notranslate"><span class="pre">instance_snapshot_never</span></code></a></li>
<li><a class="reference internal" href="#certificate-token"><code class="docutils literal notranslate"><span class="pre">certificate_token</span></code></a></li>
<li><a class="reference internal" href="#instance-nic-routed-neighbor-probe"><code class="docutils literal notranslate"><span class="pre">instance_nic_routed_neighbor_probe</span></code></a></li>
<li><a class="reference internal" href="#event-hub"><code class="docutils literal notranslate"><span class="pre">event_hub</span></code></a></li>
<li><a class="reference internal" href="#agent-nic-config"><code class="docutils literal notranslate"><span class="pre">agent_nic_config</span></code></a></li>
<li><a class="reference internal" href="#projects-restricted-intercept"><code class="docutils literal notranslate"><span class="pre">projects_restricted_intercept</span></code></a></li>
<li><a class="reference internal" href="#metrics-authentication"><code class="docutils literal notranslate"><span class="pre">metrics_authentication</span></code></a></li>
<li><a class="reference internal" href="#images-target-project"><code class="docutils literal notranslate"><span class="pre">images_target_project</span></code></a></li>
<li><a class="reference internal" href="#cluster-migration-inconsistent-copy"><code class="docutils literal notranslate"><span class="pre">cluster_migration_inconsistent_copy</span></code></a></li>
<li><a class="reference internal" href="#cluster-ovn-chassis"><code class="docutils literal notranslate"><span class="pre">cluster_ovn_chassis</span></code></a></li>
<li><a class="reference internal" href="#container-syscall-intercept-sched-setscheduler"><code class="docutils literal notranslate"><span class="pre">container_syscall_intercept_sched_setscheduler</span></code></a></li>
<li><a class="reference internal" href="#storage-lvm-thinpool-metadata-size"><code class="docutils literal notranslate"><span class="pre">storage_lvm_thinpool_metadata_size</span></code></a></li>
<li><a class="reference internal" href="#storage-volume-state-total"><code class="docutils literal notranslate"><span class="pre">storage_volume_state_total</span></code></a></li>
<li><a class="reference internal" href="#instance-file-head"><code class="docutils literal notranslate"><span class="pre">instance_file_head</span></code></a></li>
<li><a class="reference internal" href="#resources-pci-vpd"><code class="docutils literal notranslate"><span class="pre">resources_pci_vpd</span></code></a></li>
<li><a class="reference internal" href="#qemu-raw-conf"><code class="docutils literal notranslate"><span class="pre">qemu_raw_conf</span></code></a></li>
<li><a class="reference internal" href="#storage-cephfs-fscache"><code class="docutils literal notranslate"><span class="pre">storage_cephfs_fscache</span></code></a></li>
<li><a class="reference internal" href="#vsock-api"><code class="docutils literal notranslate"><span class="pre">vsock_api</span></code></a></li>
<li><a class="reference internal" href="#storage-volumes-all-projects"><code class="docutils literal notranslate"><span class="pre">storage_volumes_all_projects</span></code></a></li>
<li><a class="reference internal" href="#projects-networks-restricted-access"><code class="docutils literal notranslate"><span class="pre">projects_networks_restricted_access</span></code></a></li>
<li><a class="reference internal" href="#cluster-join-token-expiry"><code class="docutils literal notranslate"><span class="pre">cluster_join_token_expiry</span></code></a></li>
<li><a class="reference internal" href="#remote-token-expiry"><code class="docutils literal notranslate"><span class="pre">remote_token_expiry</span></code></a></li>
<li><a class="reference internal" href="#cpu-hotplug"><code class="docutils literal notranslate"><span class="pre">cpu_hotplug</span></code></a></li>
</ul>
</li>
</ul>

      </div>
    </div>
   
    
  </div>

    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/header-nav.js"></script>
    <script src="../_static/version-switcher.js"></script>
    </body>
</html>